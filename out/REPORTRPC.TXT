D REPORTRPC^ZZRGND13

XWB EGCHO STRING - ECHO1^XWBZ1
 This RPC receives a string which will be sent right back to the client.
 It exists for support of EGcho - Broker demonstration program.
 to run d ECHO^XWBZ1(something)
 PARAMETERS
  INP
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

XWB EGCHO LIST - LIST^XWBZ1
 This RPC brings back a small list of elements to the client.  It exists for
 support of EGcho - Broker demonstration program.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

XWB EGCHO BIG LIST - BIG^XWBZ1
 This RPC brings back a lot of meaningless data to the client.  It exists for
 support of EGcho - Broker demonstration program.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XWB EGCHO SORT LIST - SRT^XWBZ1
 Sorts a given numeric array, starting from HI or LO
 It exists for support of EGcho - Broker demonstration program.
 PARAMETERS
  DIRECTION
   TYPE:LITERAL
   The string LO or HI
  ARRAY
   TYPE:LIST
   The array of numbers.  Pass using . syntax
 RETURN VALUE
  TYPE: ARRAY
  Sorted array
 EXTERNAL ROUTINES:
  

XWB EGCHO MEMO - MEMO^XWBZ1
 This RPC accepts text from a client which it will send right back to the
 client.  It exists for support of EGcho - Broker demonstration program.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XWB FILE LIST - FILELIST^XWBFM
 PARAMETERS
  START
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC

XWB FILENAME CHECK - FILECHK^XWBFM
 PARAMETERS
  START
   TYPE:LITERAL
  FNAME
   TYPE:
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$FIND1^DIC

XWB RPC LIST - APILIST^XWBFM
 Returns a list of remote procedures from the REMOTE PROCEDURE file.
 PARAMETERS
  START
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC

XWB GET VARIABLE VALUE - VARVAL^XWBLIB
 This RPC accepts the name of a variable which will be evaluated and its
 value returned to the server.  For example, this RPC may be called with
 a parameter like DUZ which will be returned as 123456.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

XUS SIGNON SETUP - SETUP^XUSRB
 Establishes environment necessary for DHCP sign-on
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ZIO^%ZIS4,$$LOW^XLFSTR,$$PROD^XUPROD,SET1^XUS,USER^XUS,SAVE^XUS1,$$USER^XUS1A,
$$AUTOXWB^XUS1B,$$CHKUSER^XUSBSE1,SET^XWBSEC

XUS SEND KEYS - SENDKEYS^XUSRB
 Returns an array of strings that are used in the hashing algorithm.
 The strings that are returned are picked up from Z^XUSRB.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

XUS AV CODE - VALIDAV^XUSRB
 This API checks if a ACCESS/VERIFY code pair is valid.
 It returns an array of values
  
 R(0)=DUZ if sign-on was OK, zero if not OK.
 R(1)=(0=OK, 1,2...=Can't sign-on for some reason).
 R(2)=verify needs changing.
 R(3)=Message.
 R(4)=0
 R(5)=count of the number of lines of text, zero if none.
 R(5+n)=message text.
 PARAMETERS
  AVCODE
   TYPE:LITERAL
   accessCode_";"_verifyCode in unencrypted form.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$CHECKAV^XUS,$$UVALID^XUS,$$FAIL^XUS3,$$DECRYP^XUSRB1,$$CHKASH^XUSRB4,$$CHKCC
OW^XUSRB4,$$RA^XUSTZ,$$LKCHECK^XUSTZIP,$$STATE^XWBSEC,SET^XWBSEC

XUS INTRO MSG - INTRO^XUSRB
 This RPC returns the INTRO message from the KERNEL SYSTEM PARAMETERS file.
 PARAMETERS
 RETURN VALUE
  TYPE: WORD PROCESSING
 EXTERNAL ROUTINES:
  INTRO^XUS1A

XWB CREATE CONTEXT - CRCONTXT^XWBSEC
 Establishes context on the server, which will be checked by the Broker before
 executing any other remote procedure.  Since context is nothing more than a
 client/server "B"-type option in the OPTION file (#19), standard MenuMan
 security is applied in establishing a context.  Therefore, a context option
 can be granted to user(s) exactly the same way as regular options are done
 using MenuMan.
 
 A context can not be established for the following reasons:
 
        · The user has no access to that option
 
        · The option is temporarily out of order
 
 An application can switch from one context to another as often as it needs to.
 Each time a context is created the previous context is overwritten.
 
 For more information on creating a context and the overall Broker security
 see Broker on-line help documentation.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CHK^XQCS,$$OPTLK^XQCS,$$KCHK^XUSRB,$$DECRYP^XUSRB1

SC LISTER - LISTC^SCUTBK
 Per LIST^DIC(), returns the starting location, number of records to retrieve, f
ile to retrieve them from, and index to use.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC

SC FILER - FILEC^SCUTBK
 Generic call to file edits into FM file.
 PARAMETERS
  EDIT RESULTS
   TYPE:LIST
   Results of editing to be placed in FDA array by broker.
  EDIT MODE
   TYPE:LITERAL
   Is processing in edit or add data mode.
 RETURN VALUE
  TYPE: ARRAY
  If file update is successful, then a 1 is returned. A 0 is returned if
 EXTERNAL ROUTINES:
  FILE^DIE,UPDATE^DIE

SC DELETE ENTRY - DIKC^SCUTBK1
 Allows file entry deletion via FileMan ^DIK call.
 PARAMETERS
  PARAMETERS
   TYPE:LIST
   Contains subscripts that indicate global root and entry number.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Indicates whether delete operation was successful.
 EXTERNAL ROUTINES:
  ^DIK,CHK^SCUTBK

SC FIND - FINDC^SCUTBK2
 Per FIND^DIC, find records in a file.
 PARAMETERS
  LIST OF ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC,CHK^SCUTBK,PARSE^SCUTBK,TMP^SCUTBK

SC FILE NUMBER - FILENOC^SCUTBK1
 Broker callback to get file number.
 PARAMETERS
  FILE NAME
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CHK^SCUTBK

SC GLOBAL NODE - NODEC^SCUTBK1
 Call to pass back a global node.
 PARAMETERS
  GLOBAL NODE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CHK^SCUTBK

SC GETS ENTRY DATA - GETSC^SCUTBK2
 Calls database server at GETS^DIQ.
 PARAMETERS
  GETS ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETS^DIQ,CHK^SCUTBK,PARSE^SCUTBK,TMP^SCUTBK

SC LOCK/UNLOCK NODE - LOCKC^SCUTBK1
 Allow locking/unlocking of M global node.
 PARAMETERS
  PARAMETERS
   TYPE:LIST
   Contains subscripts identify node, whether to lock or unlock and
 RETURN VALUE
  TYPE: SINGLE VALUE
  Indicates whether lock operation was successful.
 EXTERNAL ROUTINES:
  CHK^SCUTBK

SC VALIDATOR - VALC^SCUTBK
 This function allows the application to validate user input to
 a field before filing data. The call uses the database server VAL^DIE
 call.
 PARAMETERS
  PARAMETERS
   TYPE:LIST
   This array contains the following parameters necessary to call VAL
 RETURN VALUE
  TYPE: ARRAY
  This call passes back information in the [data] section and
 EXTERNAL ROUTINES:
  VAL^DIE

SC GLOBAL NODE COUNT - GLCNT^SCUTBK1
 Returns the number of entries found in the global node at the ROOT,XREF,
 VALUE.  If 0 is returned, then there were no values at that node.
 Pass in ("ROOT"), ("XREF"), ("VALUE")
 PARAMETERS
  PARAMETERS
   TYPE:LIST
   Contains the subscript that indicates the global root, the cross reference, 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The number of entries found in the global node at the xref and value.
 EXTERNAL ROUTINES:
  CHK^SCUTBK

SC PRTP - PRTP^SCUTBK1
 Returns the currently active staff member for a position.  Send in
 Position Ien and date range, returns name and ien from New Person
 file.
   SC("IEN")=ien
   SC("BEGIN")=begining date for check
   SC("END")=ending date for check
 PARAMETERS
  INPUT ARRAY
   TYPE:LIST
   See RPC Description for values
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PRTP^SCAPMC8,CHK^SCUTBK,TMP^SCUTBK

SC MAILMAN - MAILC^SCUTBK10
 Sends Mailman message from information sent from client
 PARAMETERS
  MESSAGE ARRAY
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CHK^SCUTBK,TMP^SCUTBK,XMZ^XMA2,^XMD

SC NEW HISTORY OK - NEWHIST^SCUTBK10
 This call passes back whether the date for a new history entry is valid
 or not.  Primarily for files 404.52, 404.58, 404.59.  Returns a
 1 if ok, or a 0 if not.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NEWHIST^SCMCDD,CHK^SCUTBK,TMP^SCUTBK

SC CHANGE HISTORY OK - CHGDTC^SCUTBK10
 This call returns a 1 if changing an exisiting date for a History
 entry is ok, or a 0 if the date cannot be changed.  Primary history
 files are 404.52, 404.58, 404.59
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$OKCHGDT^SCMCDD,CHK^SCUTBK,TMP^SCUTBK

SC INACTIVATE ENTRY - INACTC^SCUTBK10
 This call returns a 1 if the entry can be inactivated, or a 0 if the
 entry cannot.  Used primarily for history files.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$OKINACT^SCMCDD,CHK^SCUTBK,TMP^SCUTBK

SC DELETE HISTORY - DELDTC^SCUTBK10
 This call returns a 1 if the entry can be deleted, a 0 if it cannot be
 deleted.  Restricted to files 404.52, 404.58, 404.59 history files
 at present.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$OKDEL^SCMCDD,CHK^SCUTBK,TMP^SCUTBK

SC HISTORY STATUS OK - NEWSTC^SCUTBK10
 This call returns a 1 if the status of a new history entry is ok, a 0
 if it is not.  Currently restricted to files, 404.52, 404.58, 404.59
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NEWHIST^SCMCDD,CHK^SCUTBK,TMP^SCUTBK

SC MEAN TEST - MNTEST^SCUTBK10
 Returns mean test data for patient from API call LST^DGMTU
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient DFN
 RETURN VALUE
  TYPE: SINGLE VALUE
  Mean test data in string format
 EXTERNAL ROUTINES:
  $$LST^DGMTU,$$IU^SCMCTSK1,$$ONWAIT^SCMCWAIT,$$SC^SCMCWAIT,CHK^SCUTBK,TMP^SCUTB
K

SC TEAM LIST - TMLST^SCUTBK11
 Returns a list of teams the patient is currently assigned to.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$TMPT^SCAPMC3,CHK^SCUTBK,TMP^SCUTBK

SC PATIENT LOOKUP - FINDP^SCUTBK11
 Patient lookup.  This is intended as a temporary RPC until a VA or
 FileMan component is available.  Does a Multiple index lookup on
 the PATIENT file (#2).  This does not invoke DPTLK.  Given lookup
 value, this returns a list of the form DFN^patient name^DOB^PID.
  
 Only the first 500 records that match the value are returned.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC,CLEAN^DILF,$$DOB^DPTLK1,$$SSN^DPTLK1

SC POSITION MEMBERS - PSLST^SCUTBK11
 Returns an array of positions.  For each position, the standard role,
 team member currently filling, and the preceptor (if any) for the 
 team member.   Returns both Internal and external values.
 Piece 1:  Team Ien
 |TAB|  2:  Position Ien
 |TAB|  3:  Team member Ien (File #200)
 |TAB|  4:  Team member's name
       5:  Precpetor's Ien (File #200)
 |TAB|  6:  Preceptor's Name
 |TAB|  7:  Primary Care role (if any) for position.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
      DFN  : Patient's dfn
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$TPPT^SCAPMC,CHK^SCUTBK,TMP^SCUTBK

SC FILE SINGLE VALUE - VFILE^SCUTBK11
 File a single value, similar to DIE stuff.  For those instances where
 a single value needs to be filed or changed, and that value is not
 associated with a specific component on the client side. ie changing
 a flag.
 PARAMETERS
  LIST ARRAY
   TYPE:LIST
   File, Ien, Field number, and value to be filed.
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if Update ok, 0 if the update was not completed.
 EXTERNAL ROUTINES:
  FILE^DIE,CHK^SCUTBK,TMP^SCUTBK

SCTM AUTOLINK GETRECORD - GETREC^SCAPMCU3
 This API returns the 0th node of the Team file(#404.51) entry
 and the list of current autolinks.
 PARAMETERS
  TEAM
   TYPE:LITERAL
   Pointer to entry in Team file.
 RETURN VALUE
  TYPE: ARRAY
  Array contains the 0th node for the Team file(#404.51)
 EXTERNAL ROUTINES:
  

SC KEY CHECK - SECKEY^SCUTBK11
 Return 1 if the user is assigned the key passed in, else
 return 0
 PARAMETERS
  INPUT VALUE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CHK^SCUTBK

SCTM AUTOLINK SETRECORD - SETREC^SCAPMCU3
 This API sets the list of autolinks for a team.
 PARAMETERS
  LIST OF AUTOLINKS
   TYPE:LIST
   List of entities autolinked to the team.
  TEAM
   TYPE:LITERAL
   Pointer to entry in Team file.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Indicates that the autolink set process was successful(1)
 EXTERNAL ROUTINES:
  

SCTM AUTOLINK GETLINK - GETLINK^SCAPMCU3
 This rpc returns the list of Team names that are autolinked to an entity.
 PARAMETERS
  AUOTLINK TYPE
   TYPE:LITERAL
   Possible types of autolinks are the following:
  AUTOLINK IEN
   TYPE:LITERAL
   Internal entry number of autoLink entity.
 RETURN VALUE
  TYPE: ARRAY
  List of Teams for which  the entity is autolinked.
 EXTERNAL ROUTINES:
  

SCRP DEFINITION GETRECORD - GETREC^SCRPBK
 This RPC returns a scheduling report definition as defined
 in file 404.92.
 PARAMETERS
  REPORT ENTRY
   TYPE:LITERAL
   Internal entry number of the report definition from file 404.92.
 RETURN VALUE
  TYPE: ARRAY
  Using SCDATA to represent the array, the following is returned:
 EXTERNAL ROUTINES:
  

SCUT GET USER RECORD - GETUSER^SCUTBK3
 This RPC returns user related data often needed by scheduling
 modules. The data returned is used to set instance variables
 for the TScUser object type on the client.
 PARAMETERS
  DUZ NUMBER
   TYPE:LITERAL
   Internal entry number of the user.
 RETURN VALUE
  TYPE: ARRAY
  Using SCDATA to represent the array, the following is returned:
 EXTERNAL ROUTINES:
  GETENV^%ZOSV,BLD^DIALOG

SCRP QUERY GETRECORD - GETREC^SCRPBK0
 This RPC returns a scheduling report query template definition
 as definedin file 404.95.
 PARAMETERS
  QUERY ID
   TYPE:LITERAL
   Internal entry number of the report query template definition
 RETURN VALUE
  TYPE: ARRAY
  Using SCDATA to represent the array, the following is returned:
 EXTERNAL ROUTINES:
  

SCRP SELECTION SOURCE - GETDATA^SCRPBK1
 This RPC returns a list of entries that is displayed
 to the user as part of the entry selection process.
 This process occurs during query template setup. It
 involves the user indicating which divsions, teams,
 roles, clinics, practitioners and user classes s/he
 desires information about on a report.
 PARAMETERS
  ENTITY TYPE
   TYPE:LITERAL
   This parameter indicates the entity type of the slecetion.
  REPORT ID
   TYPE:LITERAL
   Internal entry number of the report definition.
  REPORT NAME
   TYPE:LITERAL
   Name of the report.
  SEARCH TEXT
   TYPE:LITERAL
   This parameter contains the free-text entered by
  SELECTIONS
   TYPE:LIST
   This array contains all of the selections already made
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Using SCDATA to represent the array, the following is returned:
 EXTERNAL ROUTINES:
  

SCRP FILE ENTRY GETSELECTION - GETSEL^SCRPBK11
 This RPC returns information assoicated with an entry
 on the entity selection form of the Query Template Utility.
 
 The RPC gets invoked as a result of the user clicking the
 right mouse button and selecting 'Details'.
 PARAMETERS
  ENTITY TYPE
   TYPE:LITERAL
   This parameter indicates the entity type of the slecetion.
  INTERNAL ENTRY NUMBER
   TYPE:LITERAL
   This parameter contains the internal entry number for
 RETURN VALUE
  TYPE: ARRAY
  This RPC passes back an array of information for the
 EXTERNAL ROUTINES:
  

SCRP QUERY SAVE - SAVE^SCRPBK2
 This RPC attempts to save the query template definition for
 the user. Before saving query, the RPC will validate the query
 criteria and report any errors without saving query.
 
 The query template definition must pass the validation
 check before it can be saved.
 PARAMETERS
  QUERY DEFINITION
   TYPE:LIST
   This parameter contains the complete definition of the query
 RETURN VALUE
  TYPE: ARRAY
  Using SCDATA to represent the return array, the following is
 EXTERNAL ROUTINES:
  FILE^DIE,UPDATE^DIE,FDA^DILF,VALCHK^SCRPBK4,PARSE^SCRPBK5,ERRCHK^SCUTBK3,HDREC
^SCUTBK3,$$NOW^XLFDT

SCRP QUERY VALIDATE - VALID^SCRPBK4
 This RPC will validate the criteria specified in the
 query template definiton passed in as part of the call.
 The validation checks the criteria against what data
 is required the report assoicated with the template.
 
 If the validation check fails, then the errors found
 are returned as part of the RPC, otherwise a success
 flag(1) is returned.
 PARAMETERS
  QUERY DEFINITION
   TYPE:LIST
   This parameter contains the complete definition of the query
  VALIDATE MODE
   TYPE:LITERAL
   This parameter indicates whether all validation checks
 RETURN VALUE
  TYPE: ARRAY
  Using SCDATA to represent the array, the following is returned:
 EXTERNAL ROUTINES:
  PARSE^SCRPBK5,HDREC^SCUTBK3

SCRP QUERY DELETE - DELETE^SCRPBK2
 This RPC allows for the deletion of a query, usually
 at the request of the user.
 PARAMETERS
  QUERY DEFINITION
   TYPE:LIST
   This parameter contains the complete definition of the query
 RETURN VALUE
  TYPE: ARRAY
  Using SCDATA to represent the return array, the following is
 EXTERNAL ROUTINES:
  PARSE^SCRPBK5,HDREC^SCUTBK3

SCRP QUERY CHECK NAME - NAME^SCRPBK2
 This RPC checks to see if the user already has a query
 with the name being passed in as part of the RPC.
 
 If there is already a query with the same name, the RPC
 passes back the internal entry number of the RPC, otherwise
 the RPC passes back a 0.
 PARAMETERS
  QUERY NAME
   TYPE:LITERAL
   Name of the query that needs to be checked for existence.
  USER
   TYPE:LITERAL
   Internal entry number of user that the query name
 RETURN VALUE
  TYPE: ARRAY
  Using SCDATA to represent the return array, the following is
 EXTERNAL ROUTINES:
  

SCUT SET USER QUERY DEFAULT - SETDEF^SCUTBK3
 This RPC is used to set or change the user's defualt PCMM
 query template.
 PARAMETERS
  USER NUMBER
   TYPE:LITERAL
   Internal entry number of the user (DUZ).
  QUERY ID
   TYPE:LITERAL
   Internal entry number of query template(#404.95) that the user
 RETURN VALUE
  TYPE: ARRAY
  Using SCDATA to represent the array, the following is returned:
 EXTERNAL ROUTINES:
  FILE^DIE,UPDATE^DIE,FDA^DILF

SCRP REPORT PRINT - PRINT^SCRPBK3
 This RPC queues a report to print based the
 the query template definition passed in as
 part ithe RPC call.
 
 The RPC returns the TaskMan task number.
 
 Before the report assoicated with the query template
 is queued to print, it must pass a validation check.
 This check makes sure the criteria in the template
 is appropriate for the report. If the validation fails,
 the errors are returned as part of the RPC.
 PARAMETERS
  PRINTER
   TYPE:LITERAL
   Name of the printer where report should print.
  RUN DATE
   TYPE:LITERAL
   Date report should be printed.
  TIME
   TYPE:LITERAL
   Time of day report should be printed.
  QUERY DEFINITION
   TYPE:LIST
   This parameter contains the complete definition of the query
 RETURN VALUE
  TYPE: ARRAY
  Using SCDATA to represent the array, the following is returned:
 EXTERNAL ROUTINES:
  VALCHK^SCRPBK4,PARSE^SCRPBK5,HDREC^SCUTBK3

SC STAFF LOOKUP - STAFFLK^SCUTBK12
 Returns a list of staff members.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
  Returns IEN^NAME^TITLE^USER CLASS
 EXTERNAL ROUTINES:
  URSLKUP^SCMCPR1,CHK^SCUTBK,TMP^SCUTBK,WHOIS2^USRLM

SC USER CLASS STATUS - CHKUSR^SCUTBK12
 Returns a 1 if the User class is installed and in use, a 0 if the User
 Class is not installed
 PARAMETERS
  SCHEDULING PARAMETER ENTRY
   TYPE:LITERAL
  SIN
   TYPE:
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

SC PRIMARY CARE TEAM - GETPC^SCUTBK12
 Returns the primary care team for a patient for the date specified.
 Pass in the DFN and Date.  Returns team information.
 PARAMETERS
  LIST ARRAY
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GETPC^SCAPMCU2,CHK^SCUTBK,TMP^SCUTBK

SC GET PAT BLOCK - PTGET^SCMCBK
 Retrieve a block of patients available to be assigned from the ^TMP
 holding global built by the SC BLD PAT.... remote procedure call.
 Input $J, the starting number in the block, the ending number in the
 block, and the last entry in the global.
 PARAMETERS
  PARAMETER LIST
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  CLRVAR^SCMCBK1,PARSE^SCMCBK1,CHK^SCUTBK,TMP^SCUTBK

SC BLD PAT LIST - PTLSTBLD^SCMCBK
 Builds a list of patients to be assigned to either a team or position
 through the multiple assignment form.  This list is called by the 
 actual "filer" for either the Team or the position.  The list's 
 format is ^TMP($J,"SC PATIENT LIST",DFN)
 PARAMETERS
  SCVAL
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CHK^SCUTBK,TMP^SCUTBK

SC FILE PAT TM ASGN - PTFILE^SCMCBK
 File patient team assignments in ^TMP("SC PATIENT LIST",DFN) global
 for later processing
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACPTATM^SCAPMC6,BAD^SCMCBK1,CLRVAR^SCMCBK1,PARSE^SCMCBK1,QUEUED^SCMCBK4,CHK^
SCUTBK,TMP^SCUTBK

SC BLD PAT CLN LIST - PTCLBLD^SCMCBK
 This RPC build a list of patients by assignment to a selected clinic.
 Lookup is in the Hospital location file, screening of "C" in the 
 (0,3) node.  List is stored in ^TMP($J,"SCCLPT",N)=DFN.  List is 
 alphabetized by name.
 PARAMETERS
  PARAMETER LIST
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PTCLBR^SCAPMC26,$$PTCLBRTP^SCAPMC26,ALPHA^SCAPMCU2,NEWVAR^SCMCBK1,PARSE^SCMC
BK1,CHK^SCUTBK,TMP^SCUTBK

SC FILE PAT POS ASGN - POSFILE^SCMCBK
 File patient position assignments in ^TMP("SC PATIENT LIST",DFN) global
 for later processing
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACPTATP^SCAPMC21,BAD2^SCMCBK1,CLRVAR^SCMCBK1,PARSE^SCMCBK1,QUEUED^SCMCBK4,CH
K^SCUTBK,TMP^SCUTBK

SC BLD PAT SCDE LIST - PTSCBLD^SCMCBK
 Buils a list of patients who are associated with a particular stop code.
 Only those patients within the specified date range will appear in the list.
 Screens out inactive stop codes.  Format of the list is ^TMP($J,"SCSCDE",DFN)
 PARAMETERS
  PARAMETER LIST
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PTST^SCAPMC27,ALPHA^SCAPMCU2,NEWVAR^SCMCBK1,PARSE^SCMCBK1,CHK^SCUTBK,TMP^SCU
TBK

SC BLD PAT TM LIST - PTTMBLD^SCMCBK
 Builds a list of patients who are assigned to the selected team.  format
 of the list is ^TMP($J,"SCTEAM",n)=DFN.
 PARAMETERS
  PARAMETER LIST
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PTTM^SCAPMC2,ALPHA^SCAPMCU2,CLRVAR^SCMCBK1,NEWVAR^SCMCBK1,PARSE^SCMCBK1,CHK^
SCUTBK,TMP^SCUTBK

SC BLD PAT POS LIST - PTPSBLD^SCMCBK
 Build a list of patients who are assigned to a selected position.
 The format of the list is ^TMP($J,"SCPOS",n)=DFN.  This list is called
 the actual filer through another RPC.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PTTP^SCAPMC11,ALPHA^SCAPMCU2,CLRVAR^SCMCBK1,NEWVAR^SCMCBK1,PARSE^SCMCBK1,CHK
^SCUTBK,TMP^SCUTBK

SC PAT ENROLL CLN - PTCLEN^SCMCBK1
 Enrolls patient in the clinic that is associated with the position the
 patient is being assigned to.  Pass in DFN, Clinic, 
 required fields, and the date assigned.
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ACPTCL^SCAPMC18,CHK^SCUTBK,TMP^SCUTBK

SC CHECK FOR PC POS - CHKPOS^SCMCBK1
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PCRLPTTP^SCMCTPU2,CHK^SCUTBK,TMP^SCUTBK

SC FILE ALL PAT TM ASGN - ASGNALL^SCMCBK1
 File patient - team assignments in ^TMP("SC PATIENT LIST",DFN) global
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$PTTM^SCAPMC,$$ACPTATM^SCAPMC6,CHK^SCUTBK,TMP^SCUTBK

SC BLD PAT APT LIST - PTAPBLD^SCMCBK
 Builds a list of patients for a selected clinic by appointment date range.
 This list is stored in ^TMP($J,"SCAPP",n)=DFN.  List is in alphabetical
 order.
 PARAMETERS
  PARAMETER LIST
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PTAP^SCAPMC28,ALPHA^SCAPMCU2,CLRVAR^SCMCBK1,NEWVAR^SCMCBK1,PARSE^SCMCBK1,CHK
^SCUTBK,TMP^SCUTBK

SC FILE ALL PAT POS ASGN - ASGALLP^SCMCBK1
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$PTTP^SCAPMC,$$ACPTATP^SCAPMC21,CHK^SCUTBK,TMP^SCUTBK

SC BLD NOPC TM LIST - NOPCTM^SCMCBK1
 Builds a list of patients that have a primary care assignment, but no
 current primary care team assignment.  Uses $$PTPCNTM^SCAPMC20
 PARAMETERS
  PARAMETER LIST
   TYPE:LIST
   Pass in Team to be assigned to and effective date for search.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  PTPCNOTM^SCAPMC20,ALPHA^SCAPMCU2,CHK^SCUTBK,TMP^SCUTBK

SC PAT ASGN MAILMAN - PTASGMM^SCUTBK10
 Builds the before and after status for a single patient assignment to
 either a team or a position, and fires off a mailman message.
 PARAMETERS
  VALUE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CHK^SCUTBK,TMP^SCUTBK

IBD EXPAND FORMID - IDPAT^IBDFRPC3
 This call will convert a form id (printed at the top of an encounter form)
 and return information about the patient, the appointment, and the form.
 See routine IBDRPC3 for output descritpion.
 PARAMETERS
  FORMID
   TYPE:LITERAL
   This is the form id printed at the top of the encounter form, and should
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a 17 piece record, see IBDRPC3 for details.
 EXTERNAL ROUTINES:
  Y^DIQ,LOGERR^IBDF18E2,$$STATUS^SDAM1,$$FMTE^XLFDT

IBD GET FORMSPEC - GETFS^IBDFBK1
 This call will return the Form Specification file (as an array) that is
 used by the scanning software to recognize a form.  Lines longer than
 255 characters are truncated on the server and flagged with "~~~"
 indicating the need to concatenate on the client.
 PARAMETERS
  FORMTYPE
   TYPE:LITERAL
   Input the form type number from the top of the form, (the left most
 RETURN VALUE
  TYPE: ARRAY
  Returns an array that is to be saved on the client as a formspec file.
 EXTERNAL ROUTINES:
  SCAN^IBDFBKS

IBD GET INPUT OBJECT BY CLINIC - CLNLSTI^IBDFRPC
 Returns a list of input objects on all encounter forms defined for a
 clinic in the clinic setup.  There are 3 types of input objects,
 lists, hand print fields, and multiple choice fields.  Each has its
 own set of unique characterists for input.
 PARAMETERS
  CLINIC
   TYPE:LITERAL
   This is the pointer to file 44 or a unique clinic name.
 RETURN VALUE
  TYPE: ARRAY
  Output is an array of input objects from the forms, each node
 EXTERNAL ROUTINES:
  

IBD GET INPUT OBJECT BY FORM - FRMLSTI^IBDFRPC
 Returns a list of input objects on one encounter forms .
 There are 3 types of input objects,
 lists, hand print fields, and multiple choice fields.  Each has its
 own set of unique characterists for input.  
 PARAMETERS
  FRM
   TYPE:LITERAL
   Input the pointer to the encounter form file or the unique name of the
 RETURN VALUE
  TYPE: ARRAY
  Output is an array of input objects from the form, each node
 EXTERNAL ROUTINES:
  

IBD GET ONE INPUT OBJECT - OBJLST^IBDFRPC1
 This call will return specific information about any one input object
 regardless of type.  Developers should first use the RPC to return the
 available input objects (either by form or by clinic).  
  
 There are 3 types of input objects, lists (both static and dynamic),
 hand print fields, and multiple choice fields.  Each input object
 may be associated with selection rules and data qualifiers.  There
 are 4 selection rules: 
    0 := any number (including zero)
    1 := exactly one
    2 := at most one (0 or 1)
    3 := at least one (1 or more)
  
 There are also a number of data qualifiers that are used to describe the
 data, for example, primary, secondary, add to problem list, etc.
 PARAMETERS
  IBDF
   TYPE:LIST
   The following variables are required:
 RETURN VALUE
  TYPE: ARRAY
  Returns array describing input object.  See routine IBDFRPC1 for details.
 EXTERNAL ROUTINES:
  DYN^IBDFRPC2,SEL^IBDFRPC2

IBD RECEIVE FORM DATA - RECV^IBDFBK2
 This RPC is to be used by the AICS workstation software only.  It accepts
 data in the format returned by the scanning software and converts the
 data in the format expected by PCE and passes the data to PCE.
 PARAMETERS
  FORMDATA
   TYPE:LIST
   This is the input data.
 RETURN VALUE
  TYPE: ARRAY
  Returns an array of data describing the input data in human readable
 EXTERNAL ROUTINES:
  LOGERR^IBDF18E2,LSTDATA^IBDFBK3,$$PCE^IBDFBKR

IBD VALIDATE USER - VALIDAV^IBDFBK1
 This call is used to validate user information and for display on the
 Show User screen.
 PARAMETERS
  IBDAV
   TYPE:LIST
   validates that user is holder of specified security key.
 RETURN VALUE
  TYPE: SINGLE VALUE
  returns an 11 piece record of user/system information
 EXTERNAL ROUTINES:
  UCI^%ZOSV,DT^DICRW,$$SITE^VASITE

IBD RECEIVE DATA - SEND^IBDFRPC4
 This call is the public RPC for developers to input data from an
 encounter form to AICS for processing to PCE.  See routine IBDFRPC4
 for detailed description of variables.
 PARAMETERS
  IBDF
   TYPE:LIST
   See routine IBDFRPC4 for details of required variables.  See routines
 RETURN VALUE
  TYPE: ARRAY
  Returns status of passing of data to PCE.
 EXTERNAL ROUTINES:
  $$FSCND^IBDF18C,INPT^IBDF18E0,PRO^IBDF18E0,SETPXCA^IBDF18E0,VSTPXCA^IBDF18E0,S
ETTEMP^IBDF18E1,LOGERR^IBDF18E2,QUE^IBDF18E3,^IBDF18E4,FOREGND^PXCA

IBD RETURN IMAGE ID - IMAGEID^IBDFBK1
 Returns a numeric between 1 and 9999999 that is used as part of the file
 name to store the next unknown image as.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  numeric
 EXTERNAL ROUTINES:
  

IBD ELAPSED TIME - ETIME^IBDFBK1
 Store elapsed time for data entry
 PARAMETERS
  IBDF
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^DIE

IBD STORE WORKSTATION ERROR - WSERR^IBDFBK1
 This call back is used by AICS to log entries in the AICS ERROR AND WARNING
 FILE when the recognition of a form is canceled or otherwise interrupted.
 PARAMETERS
  FORMID
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  LOGERR^IBDF18E2

IBD STORE IMAGE NAME - IMAGENM^IBDFBK1
 This RPC will cause the information on images saved to be stored in the
 AICS IMAGE LOG file.
 PARAMETERS
  FORMID
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UPDATE^DIE,$$NOW^XLFDT

TIU NOTES - NOTES^TIUSRVLO
 This API gets lists of progress notes for a patient, with optional 
 parameters for STATUS, EARLY DATE/TIME, and LATE DATE/TIME.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the pointer to the patient file.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$PERSPRF^TIULE

TIU GET RECORD TEXT - TGET^TIUSRVR1
 This RPC will get the textual portion of a TIU Document Record.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$CLASS^TIUCP,GUIVIEW^TIUFLP1,$$ONBROWSE^TIULC1,SETPARM^TIULE,$$ISA^TIULX,$$ME
MBEROF^TIUPR222,INQUIRE^TIUSRVR2,LOADREC^TIUSRVR2

TIU SUMMARIES - SUMMARY^TIUSRVLO
 This API gets lists of Discharge Summaries for a patient, with optional 
 parameters for STATUS, EARLY DATE/TIME, and LATE DATE/TIME.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the pointer to the patient file.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$PERSPRF^TIULE

TIU NOTES BY VISIT - NOTES^TIUSRVLV
 This API gets lists of Progress Notes by visit from TIU.
 PARAMETERS
  VISIT
   TYPE:LITERAL
   This is the pointer to the VISIT File.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This is the pointer to the visit file.
 EXTERNAL ROUTINES:
  

TIU SUMMARIES BY VISIT - SUMMARY^TIUSRVLV
 This API returns lists of Discharge Summaries by visit.
 PARAMETERS
  VISIT
   TYPE:LITERAL
   This is the pointer to the visit file.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

TIU GET PN TITLES - NOTES^TIUSRVD
 This API returns a list of Progress Notes Titles, including a SHORT LIST
 of preferred titles as defined by the user, and a LONG LIST of all titles
 defined at the site.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

TIU GET DS TITLES - SUMMARY^TIUSRVD
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

TIU LOAD BOILERPLATE TEXT - BLRSHELL^TIUSRVD
 This RPC will load the boilerplate text associated with the selected
 title, and execute the methods for any objects embedded in the boilerplate
 text.
 PARAMETERS
  TITLE
   TYPE:LITERAL
   This is a pointer to the TIU DOCUMENT DEFINITION FILE (#8925.1), which
  DFN
   TYPE:LITERAL
   This is the pointer to the patient for whom the document is being entered.
  VSTRING
   TYPE:LITERAL
   This optional parameter is the visit string, formatted as:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

TIU SIGN RECORD - SIGN^TIUSRVP
 This API Supports the application of the user's electronic signature to a
 TIU document while evaluating authorization, and validating the user's
 electronic signature.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This it the record number (IEN) in the TIU DOCUMENT FILE (#8925) for the
  TIUX
   TYPE:LITERAL
   This is the network-encrypted string of what the user entered as his/her
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the error code which may result if the user enters an invalid
 EXTERNAL ROUTINES:
  SIGN^TIUSRVP2

TIU GET PERSONAL PREFERENCES - GETPREF^TIUSRVR
 Returns Users personal preferences for TIU in the following format:
  
 TIUY = USER [1P] ^ DEFAULT LOCATION [2P] ^ REVIEW SCREEN SORT FIELD [3S] ^
     ==>REVIEW SCREEN SORT ORDER [4S] ^ DISPLAY MENUS [5S] ^ PATIENT
     ==>SELECTION PREFERENCE [6S] ^ ASK 'Save changes?' AFTER EDIT [7S] ^
     ==>ASK SUBJECT FOR PROGRESS NOTES [8S] ^
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to file 200 (DUZ) for the current user.
 RETURN VALUE
  TYPE: SINGLE VALUE
  TIUY = USER [1P] ^ DEFAULT LOCATION [2P] ^ REVIEW SCREEN SORT FIELD [3S] ^
 EXTERNAL ROUTINES:
  $$PERSPRF^TIULE

TIU UPDATE RECORD - UPDATE^TIUSRVP
 This API updates the record named in the TIUDA parameter, with the
 information contained in the TIUX(Field #) array.  The body of the
 modified TIU document should be passed in the TIUX("TEXT",i,0) subscript,
 where i is the line number (i.e., the "TEXT" node should be ready to MERGE
 with a word processing field).  Any filing errors which may occur will be
 returned in the single valued ERR parameter (which is passed by
 reference).
 PARAMETERS
  ERR
   TYPE:LITERAL
   This is the return parameter, which is passed by reference.  If an error
  TIUDA
   TYPE:LITERAL
   This is the record # (IEN) of the TIU Document in file #8925.
  TIUX
   TYPE:LIST
   This is the input array which contains the data to be filed in the
  SUPPRESS
   TYPE:LITERAL
   This BOOLEAN Flag is passed in to suppress the call to the COMMIT CODE for
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DIE,SEND^TIUALRT,SENDID^TIUALRT1,ISCNSLT^TIUCNSLT,ROLLBACK^TIUCNSLT,$$CLASS^T
IUCP,UPDTIRT^TIUDIRT,MERGTEXT^TIUEDI1,$$DOCCLASS^TIULC1,GETTIU^TIULD,$$ISA^TIULX
,UNLINK^TIUPRF1,$$ISPFTTL^TIUPRFL,SETCOS^TIUSRVP2

TIU REQUIRES COSIGNATURE - REQCOS^TIUSRVA
 This Boolean RPC simply evaluates whether the current user requires
 cosignature for TIU DOCUMENTS, and returns a 1 if true, or a 0 if false.
 PARAMETERS
  TIUTYP
   TYPE:LITERAL
   Pointer to the TIU DOCUMENT DEFINITION FILE (#8925.1).
  TIUDA
   TYPE:LITERAL
   Pointer to the TIU DOCUMENT FILE (#8925).  References the document to be
  USER
   TYPE:LITERAL
   Optional parameter.  Pointer to the NEW PERSON FILE (#200).  Pass this in if 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean result: 0 if FALSE, OR 1 if TRUE.
 EXTERNAL ROUTINES:
  $$REQCOSIG^TIULP

TIU LOAD RECORD FOR EDIT - GET4EDIT^TIUSRVR
 This RPC loads the return array with data in a format consistent with that
 required by the TIU UPDATE RECORD API.  It should be invoked when the user
 invokes the Edit action, to load the dialog for editing the document.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number (IEN) in file 8925 for the document to be
  DR 
   TYPE:LITERAL
   This optional parameter allows the calling application to specify the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return array will be subscripted by the field #, with the body of the
 EXTERNAL ROUTINES:
  $$CANDO^TIULP,EXTRACT^TIULQ

TIU DETAILED DISPLAY - RPC^TIUSRV
 Gets details for display of a given record.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number (IEN) in the TIU Document File (#8925).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns all known details of the record identified by TIUDA (Source,
 EXTERNAL ROUTINES:
  

TIU CREATE ADDENDUM RECORD - MAKEADD^TIUSRVP
 This Remote Procedure allows the creation of addenda to TIU Documents.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number of the parent document in file 8925.
  TIUX
   TYPE:LIST
   This is a local input array containing the data to be filed for the
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the record number of the resulting addendum.
 EXTERNAL ROUTINES:
  MAKEADD^TIUSRVP2

TIU CREATE RECORD - MAKE^TIUSRVP
 This remote procedure allows the creation of TIU DOCUMENT records.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This REQUIRED PARAMETER is the pointer to the patient file.
  TITLE
   TYPE:LITERAL
   This is the pointer to the TIU DOCUMENT DEFINITION FILE which identifies
  VDT
   TYPE:LITERAL
   This optional parameter is the Date/time of visit.  If the parameter VSIT
  VLOC
   TYPE:LITERAL
   This optional parameter is the Location of Visit (e.g., Cardiology
  VSIT
   TYPE:LITERAL
   This is a pointer to the Visit File (#9000010) entry for the visit to
  TIUX
   TYPE:LIST
   This is the input array in which the identifiers of the document, as well
  VSTR
   TYPE:LITERAL
   This parameter identifies the visit location, date/time, and Service
  SUPPRESS
   TYPE:LITERAL
   BOOLEAN flag indicating whether or not to suppress execution of the COMMIT
  NOASF
   TYPE:LITERAL
   This parameter can optionally be set to 1 to indicate the ASAVE 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the call is successful, this will be the record number (IEN) of the
 EXTERNAL ROUTINES:
  $$EZBLD^DIALOG,UPDTIRT^TIUDIRT,MERGTEXT^TIUEDI1,$$DIVISION^TIULC1,PATVADPT^TIU
LV,MAIN^TIUMOVE,QUE^TIUPXAP1,DIK^TIURB2,EVENT^TIUSRVP1,STUFREC^TIUSRVP1,MAKEADD^
TIUSRVP2,RELEASE^TIUT,DEFER^TIUVSIT,MAIN^TIUVSIT,$$FMADD^XLFDT

TIU DELETE RECORD - DELETE^TIUSRVP
 Deletes TIU Document records...Evaluates authorization.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   Record number of TIU Document to be deleted.
  TIURSN
   TYPE:LITERAL
   This optional parameter specifies the reason for deletion (i.e., Privacy
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns error message with ERR=1^Explanation text if the user is NOT
 EXTERNAL ROUTINES:
  $$EZBLD^DIALOG,DELAUDIT^TIUEDI1,$$CANDO^TIULP,DELTEXT^TIURB2,DIK^TIURB2

TIU PRINT RECORD - RPC^TIUPD
 Allows Printing of TIU Documents on demand.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number of the document in the TIU DOCUMENT FILE
  TIUIO
   TYPE:LITERAL
   This is the NAME of the device to which the document is to be printed.
  TIUFLAG
   TYPE:LITERAL
   This is a flag which tells the print driver to specify a CHART versus WORK
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is an error flag/message which will have two '^'-pieces.  The first
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$HASIDDAD^TIUGBR,$$ISADDNDM^TIULC1,$$PNAME^TIULC1,$$PRNTGRP^TIULG,$$
PRNTHDR^TIULG,$$PRNTMTHD^TIULG,$$PRNTNBR^TIULG,$$UPPER^TIULS

TIU GET DOCUMENT PARAMETERS - DOCPARM^TIUSRVP1
 This Remote Procedure returns the parameters by which a given document
 or document type is to be processed.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number of the document in the TIU DOCUMENT FILE
  TIUTYP
   TYPE:LITERAL
   This is the record number of the Document Definition in the TIU DOCUMENT
 RETURN VALUE
  TYPE: ARRAY
  This call returns an array with just one element (so far).  The string
 EXTERNAL ROUTINES:
  DOCPRM^TIULC1

TIU GET DS URGENCIES - URGENCY^TIUSRVA
 Returns a set of discharge summary urgencies for use in a long list box.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The array of urgencies are returned in the following format:
 EXTERNAL ROUTINES:
  FIELD^DID

TIU AUTHORIZATION - CANDO^TIUSRVA
 This RPC allows the calling application to evaluate privilege to perform
 any ASU-mediated action on a TIU document.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number (IEN) of the document in file 8925.
  TIUACT
   TYPE:LITERAL
   This is the ASU ACTION (.01 field from file 8930.8) which is to be
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean Truth value, with explanatory message in second '^'-piece if
 EXTERNAL ROUTINES:
  $$CANDO^TIULP

TIU DOCUMENTS BY CONTEXT - CONTEXT^TIUSRVLO
 Returns lists of TIU Documents that satisfy the following search criteria:
  
 1 - signed documents (all)   
 2 - unsigned documents  
 3 - uncosigned documents
 4 - signed documents/author
 5 - signed documents/date range
 PARAMETERS
  CLASS
   TYPE:LITERAL
   This is a pointer to the Class of TIU DOCUMENTS which the user is
  CONTEXT
   TYPE:LITERAL
   This is an integer number which maps the context in which the user wishes
  DFN
   TYPE:LITERAL
   Pointer to Patient File (#2).
  EARLY
   TYPE:LITERAL
   EARLY DATE/TIME in regular FileMan format for the inclusive lower bound on
  LATE
   TYPE:LITERAL
   LATE DATE/TIME in regular FileMan format for the inclusive upper bound on
  PERSON
   TYPE:LITERAL
   This is a pointer to the NEW PERSON FILE (#200) for the author of the
  OCCLIM
   TYPE:LITERAL
   This is the maximum number of documents to be retrieved in the current
  SEQUENCE
   TYPE:LITERAL
   This is the sequence by reference date/time (A=ascending (OLDEST FIRST),
  SHOWADD
   TYPE:LITERAL
   This BOOLEAN parameter determines whether addenda will be included in the
  INCUND
   TYPE:LITERAL
   Optional Boolean parameter determines whether Undictated and 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return array has elements with the following positional values:
 EXTERNAL ROUTINES:
  STRT1^AWCMCPR1,APTCL^TIUSRVLP

TIU NOTES 16 BIT - NOTES^TIUSRVLC
 This API gets lists of progress notes for a patient, with optional 
 parameters for STATUS, EARLY DATE/TIME, and LATE DATE/TIME.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the pointer to the patient file.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

TIU WHICH SIGNATURE ACTION - WHATACT^TIUSRVA
 This RPC infers whether the user is trying to sign or cosign the docuement
 in question, and indicates which ASU ACTION the GUI should pass to the TIU
 AUTHORIZATION RPC.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number of the TIU Document in file 8925.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a single valued string, indicating whether the client application
 EXTERNAL ROUTINES:
  $$ASURG^TIUADSIG

XWB EXAMPLE ECHO STRING - ECHOSTR^XWBEXMPL
 This RPC receives a string which will be sent right back to the client.
 It exists for support of RPC Broker Example program.
 PARAMETERS
  INP
   TYPE:LITERAL
  STR
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

XWB EXAMPLE GET LIST - GETLIST^XWBEXMPL
 This RPC brings back a list of elements to the client.  The user can request
 either a number of lines or a number of Kilobytes of data to be returned.
 This RPC exists support of RPC Broker Example program.
 PARAMETERS
  ITEMS
   TYPE:LITERAL
   This parameter can be only one of two values:
  QUANTITY
   TYPE:LITERAL
   Either a number of lines or a number of kilobytes to send back.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XWB EXAMPLE WPTEXT - WPTEXT^XWBEXMPL
 PARAMETERS
 RETURN VALUE
  TYPE: WORD PROCESSING
 EXTERNAL ROUTINES:
  FILE^DID

XWB EXAMPLE SORT NUMBERS - SORTNUM^XWBEXMPL
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

XUS KEY CHECK - OWNSKEY^XUSRB
 This API will check if the user (DUZ) holds a security key or an array of
 keys.
 If a single security KEY is sent the result is returned in R(0).
 If an array is sent down then the return array has the same order as the
 calling array.
 PARAMETERS
  KEY
   TYPE:LIST
   If key is a single value it holds the one key to check.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

XUS CVC - CVC^XUSRB
 This RPC is used as part of Kernel to allow the user to change there
 verify code.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$BRCVC^XUS2,$$DECRYP^XUSRB1,$$STATE^XWBSEC,KILL^XWBSEC

XUS AV HELP - AVHELP^XUSRB
 Returns instructions on entering new access/verify codes.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$AVHLPTXT^XUS2

IBD GET ALL PCE DATA - GETALL^IBDFRPC5
 This RPC is used to retrieve all data in PCE for a particlar encounter
 formatted for display in a memo component.
 PARAMETERS
  IBDATA
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FINDALL^IBDFRPC6

IBD GET PAST APPT LIST - APPTLST^IBDFRPC5
 This RPC can be used to return a list of appointments for a patient.  It
 defaults to returning the past 1 year's kept appointments.
 PARAMETERS
  IBDF
   TYPE:LIST
   Requires the variable IBDF("DFN") be set to the patient internal entry number
.
 RETURN VALUE
  TYPE: ARRAY
  Returns the list of appointments in reverse chronological order,
 EXTERNAL ROUTINES:
  SDA^VADPT

SDOE GET DIAGNOSES - GETDX^SDOERPC
 This Remote Procedure Call (RPC) returns an array of diagnoses
 for an encounter.
 
 Note:
 For encounters before 10/1/96, only scheduling data in the
 OUTPATIENT DIAGNOSIS (#409.43) file may exist. It will only
 exist if the site required diagnoses as part of the check
 out process.
 
 This RPC will attempt to find this 'old' data, reformat the data
 to meet the V POV structure and return the list of diagnoses as
 described above.  (Only the diagnosis code internal entry number
 is available for 'old' encounters.)
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
 RETURN VALUE
  TYPE: ARRAY
  The 0th node of a record in the V POV file.
 EXTERNAL ROUTINES:
  GETDX^SDOEDX

SDOE GET PROVIDERS - GETPRV^SDOERPC
 This Remote Procedure Call (RPC) returns a subscripted array of providers
 for an encounter.
 
 Note:
 For encounters before 10/1/96, only scheduling data in the
 OUTPATIENT PROVIDER (#409.44) file may exist. It will only
 exist if the site required provider as part of the check out process. 
 
 This RPC will attempt to find this 'old' data, reformat the
 data to meet the V PROVIDER structure and return the list of
 providers as described above. (Only the provider internal entry
 number is available for 'old' encounters.)
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
 RETURN VALUE
  TYPE: ARRAY
  The 0th node of a record in the V PROVIDER file.
 EXTERNAL ROUTINES:
  GETPRV^SDOEPRV

SDOE GET PROCEDURES - GETCPT^SDOERPC
 This Remote Procedure Call (RPC) returns a subscripted array of CPTs
 for an encounter.
 
 Note:
 For encounters before 10/1/96, only scheduling data in the
 SCHEDULING VISITS  (#409.5) file may exist. It will only
 exist if the site required procedures as part of the check
 out process. 
 
 This RPC will attempt to find this 'old' data, reformat the
 data to meet the V CPT structure and return the list of procedures
 as described above.  (Only the CPT code internal entry number and
 count are available for 'old' encounters.)
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
 RETURN VALUE
  TYPE: ARRAY
  The 0th node of a record in the V CPT file.
 EXTERNAL ROUTINES:
  GETCPT^SDOECPT

SDOE ASSIGNED A PROVIDER - PRV^SDOERPC
 This Remote Procedure Call (RPC) returns a boolean indicator on whether at
 least one provider has been associated with an encounter.
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 - Yes, at least one provider is assoicated encounter
 EXTERNAL ROUTINES:
  $$FINDPRV^SDOEPRV,$$PRV^SDOEPRV,GETPRV^SDOEPRV

SDOE ASSIGNED A DIAGNOSIS - DX^SDOERPC
 This Remote Procedure Call (RPC) returns a boolean indicator on
 whether at least one diagnoses has been associated with an encounter.
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 - Yes, at least one diagnosis is associated with encounter
 EXTERNAL ROUTINES:
  $$DX^SDOEDX,$$FINDDX^SDOEDX,$$GETPDX^SDOEDX,GETDX^SDOEDX

SDOE ASSIGNED A PROCEDURE - CPT^SDOERPC
 This Remote Procedure Call (RPC) returns a boolean indicator on whether at
 least one procedure has been associated with an encounter.
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 - Yes, at least one procedure is assoicated with encounter
 EXTERNAL ROUTINES:
  $$CPT^SDOECPT,$$FINDCPT^SDOECPT,GETCPT^SDOECPT

SDOE FIND PROVIDER - FINDPRV^SDOERPC
 This Remote Procedure Call (RPC) returns a boolean indicator
 on whether a specific provider is associated with an encounter.
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
  PRACTITIONER ID
   TYPE:LITERAL
   This is the internal entry number of an entry in the NEW PERSON
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 - yes, specific provider is associated with encounter
 EXTERNAL ROUTINES:
  $$FINDPRV^SDOEPRV

SDOE FIND DIAGNOSIS - FINDDX^SDOERPC
 This Remote Procedure Call (RPC) returns a boolean indicator on
 whether a specific diagnosis is associated with an encounter.
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
  DIAGNOSIS IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the ICD
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 - yes, specific diagnosis is associated with encounter
 EXTERNAL ROUTINES:
  $$FINDDX^SDOEDX

SDOE FIND PROCEDURE - FINDCPT^SDOERPC
 This Remote Procedure Call (RPC) returns a boolean indicator on
 whether a specific procedure is associated with an encounter.
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
  CPT IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the CPT [#81 - 
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 - yes, specific procedure is associated with encounter
 EXTERNAL ROUTINES:
  $$FINDCPT^SDOECPT

SDOE FIND FIRST STANDALONE - EXAE^SDOERPC
 This Remote Procedure Call (RPC) returns the internal entry
 number of an OUTPATIENT ENCOUNTER file (#409.68) entry for the
 first the first standalone add/edit for a patient in a specified date range.
 
 Use same date for begin and end dates for specific (single) date check.
 
 Standalone encounter is an encounter with no parent and the originating
 process is 'Stop Code Addition'.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   This is the internal entry number of an entry in the PATIENT [#2 - 
  BEGIN DATE/TIME
   TYPE:LITERAL
   Beginning date and time in VA FileMan format.
  END DATE/TIME
   TYPE:LITERAL
   Ending date and time in VA FileMan format.
  SEARCH FLAGS
   TYPE:LITERAL
   This parameter allows developers to set specific flags that are
 RETURN VALUE
  TYPE: SINGLE VALUE
  <pointer> - Outpatient Encounter ien for first standalone encounter found
 EXTERNAL ROUTINES:
  $$EXAE^SDOEOE

SDOE GET PRIMARY DIAGNOSIS - GETPDX^SDOERPC
 This Remote Procedure Call (RPC) returns the internal entry number
 of the primary diagnosis code (ICD9) for an encounter.
 
 Note: For encounters before 10/1/96, this RPC will always return 0.
 This primary diagnosis was not retrieved nor stored by the system
 for these 'old' encounters.
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
 RETURN VALUE
  TYPE: SINGLE VALUE
  <pointer> - ien to ^ICD9 for primary dx.
 EXTERNAL ROUTINES:
  $$GETPDX^SDOEDX

SDOE FIND FIRST ENCOUNTER - EXOE^SDOERPC
 This Remote Procedure Call (RPC) returns the internal entry number
 of an OUTPATIENT ENCOUNTER file (#409.68) entry for the first encounter
 for a patient in a specified date range.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   This is the internal entry number of an entry in the PATIENT [#2 - 
  BEGIN DATE/TIME
   TYPE:LITERAL
   Beginning date and time in VA FileMan format.
  END DATE/TIME
   TYPE:LITERAL
   End date and time in VA FileMan format.
  SEARCH FLAGS
   TYPE:LITERAL
   This parameter allows developers to set specific flags that are
 RETURN VALUE
  TYPE: SINGLE VALUE
  <pointer> - Outpatient Encounter ID for first encounter found in date range
 EXTERNAL ROUTINES:
  $$EXOE^SDOEOE

SDOE FIND LAST STANDALONE - GETLAST^SDOERPC
 This Remote Procedure Call (RPC) returns the internal entry
 number of an OUTPATIENT ENCOUNTER file (#409.68) entry for the
 last standalone add/edit for a patient in a specified date range.
 
 Standalone encounter is an encounter with no parent and the
 originating process is 'Stop Code Addition'.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   This is the internal entry number of an entry in the PATIENT [#2 - 
  BEGIN DATE/TIME
   TYPE:LITERAL
   Beginning date and time in VA FileMan format.
  SEARCH FLAGS
   TYPE:LITERAL
   This parameter allows developers to set specific flags that are
 RETURN VALUE
  TYPE: SINGLE VALUE
  <pointer> - Outpatient Encounter ID for last standalone encounter found
 EXTERNAL ROUTINES:
  $$GETLAST^SDOEOE

SDOE GET GENERAL DATA - GETGEN^SDOERPC
 This Remote Procedure Call (RPC) returns the Oth and other nodes of
 an Outpatient Encounter entry.
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
 RETURN VALUE
  TYPE: ARRAY
  The first piece of ';;' of each array item is the node.
 EXTERNAL ROUTINES:
  GETGEN^SDOEOE

SDOE PARSE GENERAL DATA - PARSE^SDOERPC
 This Remote Procedure Call (RPC) will parse the data returned by
 the 'SDOE GET GENERAL DATA' RPC into individual field nodes. 
 PARAMETERS
  ENCOUNTER DATA
   TYPE:LIST
   This array contains subscripts that correspond to each node of data for
  ENCOUNTER PARSE FORMAT
   TYPE:LITERAL
   Defines format for parsed data.
 RETURN VALUE
  TYPE: ARRAY
  The first piece of ';;' of each array item is the field number.        
 EXTERNAL ROUTINES:
  PARSE^SDOEOE

SDOE GET ZERO NODE - GETOE^SDOERPC
 This Remote Procedure Call (RPC) returns the zeroth node of an
 Outpatient Encounter.
 PARAMETERS
  ENCOUNTER IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the OUTPATIENT
 RETURN VALUE
  TYPE: SINGLE VALUE
  Zeroth node of Outpatient Encounter or Null.
 EXTERNAL ROUTINES:
  $$GETOE^SDOEOE

SDOE LIST ENCOUNTERS FOR DATES - LIST^SDOERPC
 This Remote Procedure Call (RPC) returns a list of Outpatient
 Encounters for a specified date range.
 PARAMETERS
  BEGIN DATE/TIME
   TYPE:LITERAL
   Beginning date and time in VA FileMan format.
  END DATE/TIME
   TYPE:LITERAL
   End date and time in VA FileMan format.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The first piece of ';;' of each array item is the internal entry number.
 EXTERNAL ROUTINES:
  DATE^SDQ,INDEX^SDQ,PAT^SDQ,VISIT^SDQ,$$ERRCHK^SDQUT

SDOE LIST ENCOUNTERS FOR PAT - LISTPAT^SDOERPC
 This Remote Procedure Call (RPC) returns a list of Outpatient
 Encounters for a specified patient and specified date range.
 PARAMETERS
  BEGIN DATE/TIME
   TYPE:LITERAL
   Beginning date and time in VA FileMan format.
  END DATE/TIME
   TYPE:LITERAL
   End date and time in VA FileMan format.
  PATIENT ID
   TYPE:LITERAL
   This is the internal entry number of an entry in the PATIENT [#2 - 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The first piece of ';;' of each array item is the internal entry number.
 EXTERNAL ROUTINES:
  DATE^SDQ,INDEX^SDQ,PAT^SDQ,$$ERRCHK^SDQUT

SDOE LIST ENCOUNTERS FOR VISIT - LISTVST^SDOERPC
 This Remote Procedure Call (RPC) returns a list of Outpatient
 Encounters for a specified visit.
 PARAMETERS
  VISIT IEN
   TYPE:LITERAL
   This is the internal entry number of an entry in the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The first piece of ';;' of each array item is the internal entry number.
 EXTERNAL ROUTINES:
  INDEX^SDQ,VISIT^SDQ,$$ERRCHK^SDQUT

TIU IS THIS A CONSULT? - ISCNSLT^TIUCNSLT
 BOOLEAN RPC which evaluates whether the title indicated is that of a
 consult.
 PARAMETERS
  TITLE
   TYPE:LITERAL
   This is the record number in file 8925.1 for the title selected.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Scalar value indicating the truth value of the result (i.e., 0 indicates
 EXTERNAL ROUTINES:
  $$ISA^TIULX

TIU LONG LIST OF TITLES - LONGLIST^TIUSRVD
 This RPC serves data to a longlist of selectable TITLES by CLASS.  e.g.,
 passing the class PROGRESS NOTES will return active Progress Notes titles
 which the current user is authorized to enter notes under.
 PARAMETERS
  CLASS
   TYPE:LITERAL
   This is a pointer to the CLASS in the Document Definition File (#8925.1)
  FROM
   TYPE:LITERAL
   This is the reference title from which the longlist is scrolling.
  DIR
   TYPE:LITERAL
   This is the direction in which the longlist is scrolling from the
 RETURN VALUE
  TYPE: ARRAY
  This is an array of the 44 nearest titles to that indicate by the user in
 EXTERNAL ROUTINES:
  $$CANENTR^TIULP,$$CANLINK^TIULP,$$CANPICK^TIULP,CANLINK^TIULP

TIU PERSONAL TITLE LIST - PERSLIST^TIUSRVD
 This Remote Procedure returns the user's list of preferred titles for a
 given class of documents, along with the default title, if specified.
 PARAMETERS
  DUZ
   TYPE:LITERAL
   This is the user's ID number (Pointer to file 200).
  CLASS
   TYPE:LITERAL
   This is the Class of Documents (Pointer to file 8925.1) from which the
  INDEX
   TYPE:LITERAL
   This is the array subscript from which to begin incrementing (in the event
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$PNAME^TIULC1,$$PERSDOC^TIULE,$$CANENTR^TIULP,$$CANPICK^TIULP

TIU LONG LIST CONSULT TITLES - LNGCNSLT^TIUSRVD
 This RPC serves data to a longlist of selectable TITLES for CONSULTS.
 PARAMETERS
  FROM
   TYPE:LITERAL
   This is the reference title from which the longlist is scrolling.
  DIR
   TYPE:LITERAL
   This is the direction in which the longlist is scrolling from the
 RETURN VALUE
  TYPE: ARRAY
  This is an array of the 44 nearest titles to that indicate by the user in
 EXTERNAL ROUTINES:
  $$CLASS^TIUCNSLT

TIU IDENTIFY CONSULTS CLASS - CNSLCLAS^TIUSRVD
 This RPC returns the record number of the class CONSULTS in the TIU
 DOCUMENT DEFINITION file (#8925.1).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value returned will be either a positive integer, corresponding to the
 EXTERNAL ROUTINES:
  $$CLASS^TIUCNSLT

DDR GETS ENTRY DATA - GETSC^DDR2
 Calls database server at GETS^DIQ.
 PARAMETERS
  GETS ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETS^DIQ

DDR LISTER - LISTC^DDR
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DDR FILER - FILEC^DDR3
 Generic call to file edits into FM file.
 PARAMETERS
  EDIT RESULTS
   TYPE:LIST
   Results of editing to be placed in FDA array by broker.
  EDIT MODE
   TYPE:LITERAL
   Is processing in edit or add data mode.
 RETURN VALUE
  TYPE: ARRAY
  If file update is successful, then a 1 is returned. A 0 is returned if
 EXTERNAL ROUTINES:
  FILE^DIE,UPDATE^DIE

DDR VALIDATOR - VALC^DDR3
 This function allows the application to validate user input to
 a field before filing data. The call uses the database server VAL^DIE
 call.
 PARAMETERS
  PARAMETERS
   TYPE:LIST
   This array contains the following parameters necessary to call VAL
 RETURN VALUE
  TYPE: ARRAY
  This call passes back information in the [data] section and
 EXTERNAL ROUTINES:
  VAL^DIE

DDR DELETE ENTRY - DIKC^DDR1
 This function deletes an entry in a FileMan file using ^DIK.
 PARAMETERS
  PARAMETERS
   TYPE:LIST
   This array contains the following parameters necessary to call 
 RETURN VALUE
  TYPE: SINGLE VALUE
  This parameter returns 1 if record was deleted else it returns 0.
 EXTERNAL ROUTINES:
  FILE^DIE,^DIK,$$FNO^DILIBF

DDR LOCK/UNLOCK NODE - LOCKC^DDR1
 This function will lock or unlock an M global node.  Also,
 this function allows the calling application to specify the
 timeout (in seconds) for a 'lock' command.
 PARAMETERS
  PARAMETERS
   TYPE:LIST
   This array contains the following parameter necessary for
 RETURN VALUE
  TYPE: SINGLE VALUE
  This parameter returns 1 if the lock or unlock command is successful,
 EXTERNAL ROUTINES:
  

DDR FIND1 - FIND1C^DDR2
 This function returns the internal entry number of a record using
 $$FIND1^DIC.
 PARAMETERS
  PARAMETERS
   TYPE:LIST
   This array contains the following parameters necessary to call
 RETURN VALUE
  TYPE: ARRAY
  This parameter returns a valid internal record number if a match
 EXTERNAL ROUTINES:
  $$FIND1^DIC,RECALL^DILFD

DDR GET DD HELP - GETHLPC^DDR2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DDR FINDER - FINDC^DDR0
 PARAMETERS
  FIND ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC

SCMC BLD TEAM PAT LIST - PTTMLST^SCMRBK
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PTTM^SCAPMC2,ALPHA^SCAPMCU2,CLRVAR^SCMCBK1,NEWVAR^SCMCBK1,PARSE^SCMCBK1,CHK^
SCUTBK,TMP^SCUTBK

SC ACTIVE POSITION ASSIGNMENTS - ACTPOS^SCUTBK4
 This RPC is used to obtain the active positions associated with a patient
 team assignment.
 PARAMETERS
  INPU
   TYPE:LIST
   The parameters are DFN, Beginning date range, Ending date range, and Team
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The results parameter will contain a global reference that will contain the
 EXTERNAL ROUTINES:
  $$TPPT^SCAPMC,CHK^SCUTBK,TMP^SCUTBK

SCMC FILE PAT TM REASGN - PTFILE^SCMRBK
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NOW^%DTC,PARSE^SCMCBK1,CHK^SCUTBK,TMP^SCUTBK

SCMC BLD REASSIGN PAT LIST - PTLSTBLD^SCMRBK
 PARAMETERS
  SCVAL
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CHK^SCUTBK,TMP^SCUTBK

SCMC DIS TEAM POS - DISCHPOS^SCMRBK
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DISCHPOS^SCRPMTA,CHK^SCUTBK,TMP^SCUTBK

SCMC FILE PAT POS REASGN - POSFILE^SCMRBK
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PARSE^SCMCBK1,CHK^SCUTBK,TMP^SCUTBK,$$NOW^XLFDT

SCMC BLD POS PAT LIST - PTPOSLST^SCMRBK
 PARAMETERS
  LIS
   TYPE:
  LIST
   TYPE:LIST
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PTTP^SCAPMC11,ALPHA^SCAPMCU2,CLRVAR^SCMCBK1,NEWVAR^SCMCBK1,PARSE^SCMCBK1,CHK
^SCUTBK,TMP^SCUTBK

SCMC POSITION ASSIGN LIST - PSALST^SCUTBK11
  
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  $$TPPT^SCAPMC,CHK^SCUTBK,TMP^SCUTBK

TIU GET ADDITIONAL SIGNERS - GETSIGNR^TIULX
 Returns the list of additional signers currently identified for a given
 TIU document.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record # of the TIU Document in file 8925.
 RETURN VALUE
  TYPE: ARRAY
  This is an array of persons whose signature is expected on the document.
 EXTERNAL ROUTINES:
  $$FIND1^DIC,CLEAN^DILF,EN^DIQ1,$$PERSNAME^TIULC1

TIU UPDATE ADDITIONAL SIGNERS - IDSIGNRS^TIULX
 This RPC accepts a list of persons, and adds them as additional signers
 for the document identified by the first parameter.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record # (ien) of the document in file 8925.
  TIULIST
   TYPE:LIST
   This is the list of users, passed by reference, as shown below:
 RETURN VALUE
  TYPE: SINGLE VALUE
  '^'-delimited String, which includes the DUZ's of the users who were
 EXTERNAL ROUTINES:
  ^DIC,^DIE,SEND^TIUALRT

TIU LOCK RECORD - LOCK^TIUSRVP
 This RPC will issue an incremental LOCK on the record identified by the
 TIUDA parameter, returning an integer truth value indicating success
 or failure in obtaining the LOCK.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the IEN of the record in the TIU DOCUMENT FILE (#8925).
 RETURN VALUE
  TYPE: SINGLE VALUE
  ERR flag indicating whether or not an incremental LOCK was obtained:
 EXTERNAL ROUTINES:
  

TIU UNLOCK RECORD - UNLOCK^TIUSRVP
 This RPC will decrement the lock on a given TIU Document Record, identified
 by the TIUDA input parameter. The return value will always be 0.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the IEN of the record in the TIU DOCUMENT FILE (#8925).
 RETURN VALUE
  TYPE: SINGLE VALUE
  Since decrementing a lock never fails, return value will always be 0.
 EXTERNAL ROUTINES:
  

TIU CAN CHANGE COSIGNER? - CANCHCOS^TIUSRVA
 BOOLEAN RPC to evaluate user's privilege to modify the expected cosigner, 
 given the current status of the document, and the user's role with respect 
 to it.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the IEN of the document in the TIU DOCUMENT FILE (#8925).
 RETURN VALUE
  TYPE: SINGLE VALUE
   Boolean Truth value, with explanatory message in second '^'-piece if
 EXTERNAL ROUTINES:
  $$MAYCHNG^TIURA1

TIU JUSTIFY DELETE? - NEEDJUST^TIUSRVA
 BOOLEAN RPC that evaluates wheter a justification is required for deletion 
 (e.g., deletion is authorized, but the document has been signed, etc.).
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number (IEN) of the document in file 8925.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Single valued, BOOLEAN return variable, where 1 indicates that the calling
 EXTERNAL ROUTINES:
  

TIU GET ALERT INFO - GETALRT^TIUSRVR
 Given a TIU XQAID, return the patient and document type for the item being
 alerted.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   The XQAID of the alert.
 RETURN VALUE
  TYPE: SINGLE VALUE
  TIUDA^DFN^gui tab indicator
 EXTERNAL ROUTINES:
  $$CLASS^TIUCNSLT,$$CLASS^TIUCP,$$ISA^TIULX,$$ISDS^TIULX,$$CLASS^TIUSROI

SCMC GET PARAMETER IEN - PARIEN^SCUTBK4
 This RPC returns the IEN of the first and ONLY entry in the 404.91 parameter
 file.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

SCMC VERIFY C/S SYNC - VERPAT^SCUTBK3
 Successful result enables PCMM client to operate with PCMM server and
 returns the value to use for RPCTimeLimit.
 PARAMETERS
  SCPATCH
   TYPE:LITERAL
   PatchVersion 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Pre SD*5.3*204: 1 if client ok, else 0.
 EXTERNAL ROUTINES:
  $$DISCLNTS^SCMCUT

ORQQAL LIST - LIST^ORQQAL
 Returns a list of allergies for a patient.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   The record number of the patient (DFN) from the Patient file (#2).
 RETURN VALUE
  TYPE: ARRAY
  Array of patient allergies.  Returned data is delimited by "^" and
 EXTERNAL ROUTINES:
  EN1^GMRAOR1

ORQQAL DETAIL - DETAIL^ORQQAL
 This function returns a string of information for a specific allergy/
 adverse reaction.  Returned data is delimited by "^" and includes:
 allergen/reactant, originator, originator title, verified/not verified, 
 observed/historical,<blank>,type, observation date, severity, drug class, 
 symptoms/reactions (mulitple symptoms possible - delimited by ";"), 
 comments.
 PARAMETERS
  ALLERGY ID
   TYPE:LITERAL
   The record number of the allergy/adverse reaction from the Patient
 RETURN VALUE
  TYPE: ARRAY
  String of information for a specific allergy/adverse reaction.  Returned
 EXTERNAL ROUTINES:
  EN1^GMRAOR2

ORQQPL LIST - LIST^ORQQPL
 Function returns a list of problems for a patient.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   The record number of the patient from the Patient FIle (#2).
  STATUS
   TYPE:LITERAL
   The status of the problems to retrieve. A = Active problems only, 
 RETURN VALUE
  TYPE: ARRAY
  Array of patient problems in the format: problem id^problem name^status
 EXTERNAL ROUTINES:
  LIST^GMPLUTL2,$$STATCHK^ICDAPIU,$$DETAIL^ORWCV1,$$PATCH^XPDUTL

ORQQPL DETAIL - DETAIL^ORQQPL
 Function returns a string of detailed information for a problem.
 PARAMETERS
  PROBLEM ID
   TYPE:LITERAL
   The record number of the problem from the Problem File (#9000011).
 RETURN VALUE
  TYPE: ARRAY
  String of detailed problem information delimited by "^".  String includes:
 EXTERNAL ROUTINES:
  DETAIL^GMPLUTL2,$$STATCHK^ICDAPIU,HIST^ORQQPL2,$$PATCH^XPDUTL

ORQQXQA PATIENT - PATIENT^ORQQXQA
 Function returns a list of notifications for a patient for the current user.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   The record number of the patient from the Patient File (#2).
  START DATE
   TYPE:LITERAL
   Start date for retrieving patient notifications in Fileman format.
  STOP DATE
   TYPE:LITERAL
   Stop date for retrieving patient notifications in Fileman format.
 RETURN VALUE
  TYPE: ARRAY
  Array of patient notifications delimited by "^".  Returned data includes
 EXTERNAL ROUTINES:
  SORT^ORQORB,URGENCY^ORQORB,USER^XQALERT

ORQQXQA USER - USER^ORQQXQA
 Function returns notifications for current user.
 PARAMETERS
  USER ID
   TYPE:LITERAL
   The record number of the user (DUZ) from the New Person File (#200).
  START DATE
   TYPE:LITERAL
   The start date of the period to retrieve notifications for the user in 
  STOP DATE
   TYPE:LITERAL
   The stop date of the period to retrieve notifications for the user in
 RETURN VALUE
  TYPE: ARRAY
  Array of notifications for the user delimited by "^".  Returned data
 EXTERNAL ROUTINES:
  SORT^ORQORB,URGENCY^ORQORB,$$LOWER^VALM1,USER^XQALERT

ORQQVI VITALS - FASTVIT^ORQQVI
 Array of patient most recent vitals within start and stop date/times.  If
 no start and stop dates are indicated, the most recent are returned.
  
 If no start date is passed then the start date is 1 (i.e. before any
 dates).
  
 If no stop date is passed then the start date is also the stop date and if
 there is not start date then 9999999 is used as the stop date.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient id (DFN) from Patient File (#2).
  START DATE/TIME
   TYPE:LITERAL
   Start date/time for vital retrieval in Fileman format.
  STOP DATE/TIME
   TYPE:LITERAL
   Stop date/time for vital retrieval in Fileman format.
 RETURN VALUE
  TYPE: ARRAY
  Array of patient most recent vitals within start and stop date/times.  
 EXTERNAL ROUTINES:
  

ORQPT DEFAULT PATIENT LIST - DEFLIST^ORQPTQ11
 Function returns the current user's default patient list.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  User's default patient list in the format: patient dfn^patient name.
 EXTERNAL ROUTINES:
  TEAMPTS^ORQPTQ1,CLINPTS^ORQPTQ2,PROVPTS^ORQPTQ2,SPECPTS^ORQPTQ2,COMBPTS^ORQPTQ
6,BYWARD^ORWPT,$$DOW^XLFDT,$$FMTE^XLFDT,$$UP^XLFSTR,$$GET^XPAR,$$GET^XPAR,$$BROK
ER^XWBLIB

ORQPT PROVIDERS - PROV^ORQPTQ2
 Function returns an array of providers.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Array of providers in the format: provider id (DUZ)^provider name
 EXTERNAL ROUTINES:
  $$ACTIVE^XUSER

ORQPT PROVIDER PATIENTS - PROVPTS^ORQPTQ2
 Function returns an array of patients linked to a provider/user.
 PARAMETERS
  USER ID
   TYPE:LITERAL
   The record number of the user/provider from the New Person File (#200)
 RETURN VALUE
  TYPE: ARRAY
  Array of patients linked to the user/provider in the format: patient id
 EXTERNAL ROUTINES:
  

ORQPT CLINIC PATIENTS - CLINPTS^ORQPTQ2
 Returns patients with appointments at a clinic between start and stop dates
 PARAMETERS
  CLINIC ID
   TYPE:LITERAL
   The record number of the clinic from the Hospital Location File (#44).
  START DATE
   TYPE:LITERAL
   The start date of the clinic appointments to retrieve (not in FM format.)
  STOP DATE
   TYPE:LITERAL
   The stop date of the clinic appointments to retrieve (not in Fileman format.)
 RETURN VALUE
  TYPE: ARRAY
  Array of patients with appointments between start date and stop date
 EXTERNAL ROUTINES:
  DT^DILF,$$CLINERR^ORQRY01,$$ACTLOC^ORWU,GETPLIST^SDAMA202,$$NOW^XLFDT,$$UP^XLF
STR,$$GET^XPAR

ORQPT SPECIALTIES - SPEC^ORQPTQ2
 Function returns an array of treating specialties.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Array of treating specialties in the format: specialty id^specialty name.
 EXTERNAL ROUTINES:
  $$ACTIVE^DGACT

ORQPT SPECIALTY PATIENTS - SPECPTS^ORQPTQ2
 Function returns an array of patients linked to a treating specialty.
 PARAMETERS
  SPECIALTY ID
   TYPE:LITERAL
   The record number of the treating specialty from the Facility Treating
 RETURN VALUE
  TYPE: ARRAY
  Array of patients linked to the treating specialty in the format: patient
 EXTERNAL ROUTINES:
  

ORQPT TEAMS - TEAMS^ORQPTQ1
 Function returns a list of teams.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Array of teams in the format: team id^team name.
 EXTERNAL ROUTINES:
  

ORQPT TEAM PATIENTS - TEAMPTS^ORQPTQ1
 Function returns an array of patients on a team.
 PARAMETERS
  TEAM ID
   TYPE:LITERAL
   The record number from the OE/RR Team File (#100.21).
 RETURN VALUE
  TYPE: ARRAY
  Array of patients on a team in the format: patient id (DFN)^patient name.
 EXTERNAL ROUTINES:
  

ORQPT WARD PATIENTS - WARDPTS^ORQPTQ2
 Function returns a list of patients on a ward.
 PARAMETERS
  WARD ID
   TYPE:LITERAL
   The record number of the ward from the Ward Location File (#42).
 RETURN VALUE
  TYPE: ARRAY
  Array of patients on the ward in the format: patient id (DFN)^patient name.
 EXTERNAL ROUTINES:
  

ORQPT CLINICS - CLIN^ORQPTQ2
 Function returns a list of clinics.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Array of clinics delimited by "^".  Returned data includes clinic id from
 EXTERNAL ROUTINES:
  DT^DILF,$$CLINERR^ORQRY01,$$ACTLOC^ORWU,GETPLIST^SDAMA202,$$NOW^XLFDT,$$UP^XLF
STR,$$GET^XPAR,GETLST^XPAR

ORQQPS LIST - LIST^ORQQPS
 Function returns a list of a patient's medications.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient id (DFN) from Patient File (#2).
  START DATE/TIME
   TYPE:LITERAL
   Start date/time in FileMan format indicating what date/time to begin
  STOP DATE/TIME
   TYPE:LITERAL
   Stop date/time in FileMan format indicating what date/time to end listing
 RETURN VALUE
  TYPE: ARRAY
  Array medications in the format: medication id^nameform (orderable item)^
 EXTERNAL ROUTINES:
  OCL^PSOORRL

ORB FOLLOW-UP STRING - GUI^ORB3FUP1
 This function returns a string of follow-up data.  Content of the data 
 varies by notification.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   The identifier used by the Kernel Alert utility to uniquely identify an
 RETURN VALUE
  TYPE: SINGLE VALUE
  String of information required to complete the follow-up action.
 EXTERNAL ROUTINES:
  

ORB DELETE ALERT - DEL^ORB3FUP1
 This function deletes an alert.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   The alert identifier used by the Kernel Alert utility to uniquely identify
 RETURN VALUE
  TYPE: SINGLE VALUE
  True or False for successful deletion or failure.
 EXTERNAL ROUTINES:
  $$XQAKILL^ORB3F1,DELETE^XQALERT

ORQPT WARDS - WARD^ORQPTQ2
 Function returns a list of wards.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Array of wards in the format: ward id^ward name.
 EXTERNAL ROUTINES:
  WIN^DGPMDDCF

ORB FOLLOW-UP TYPE - TYPE^ORB3FUP1
 Returns the follow-up action type for a notification as identified via the
 alert xqaid.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   The identifier used by the Kernel Alert utility to uniquely identify an
 RETURN VALUE
  TYPE: SINGLE VALUE
  Text decsribing the follow-up action type (e.g. NEW ORDER, REPORT, etc.)
 EXTERNAL ROUTINES:
  

ORB FOLLOW-UP ARRAY - GUI^ORB3FUP1
 This function returns an array of follow-up data.  Content of the data
 varies by notification.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   The identifier used by the Kernel Alert utility to uniquely identify an
 RETURN VALUE
  TYPE: ARRAY
  Array of information required to complete the follow-up action.
 EXTERNAL ROUTINES:
  

ORQOR DETAIL - DETAIL^ORWOR
 Returns detailed information regarding an order.
 PARAMETERS
  ORDER
   TYPE:LITERAL
   Order identifier/number from file #100.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array of detailed order information.
 EXTERNAL ROUTINES:
  DETAIL^ORQ2

ORQPT DEFAULT LIST SOURCE - DEFSRC^ORQPTQ11
 Function returns the source of the current user's default patient list.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  User's default patient list source in the format: list ien^list name.
 EXTERNAL ROUTINES:
  $$DOW^XLFDT,$$UP^XLFSTR,$$GET^XPAR

ORWPT ID INFO - IDINFO^ORWPT
 Returns identifying information for a patient.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1

ORWPT LIST ALL - LISTALL^ORWPT
 Returns a set of patient names for use with a long list box.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWUH POPUP - POPUP^ORWUH
 Retrieves the "What's This" text for a given control.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETWP^XPAR

ORWLR CUMULATIVE REPORT - CUM^ORWLR
 This call returns an up to date laboratory cumulative report for a given 
 patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This parameter identifies the patient for whom the lab cumulative report 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data is returned in a table containing two sections.  The first section
 EXTERNAL ROUTINES:
  C^%DTC,EN^LR7OSUM,$$REMOTE^ORWLRR,$$SET^ORWLRR,CLEAN^ORWLRR,$$FMADD^XLFDT,$$NO
W^XLFDT

ORQQVS VISITS/APPTS - VSITAPPT^ORQQVS
 Returns a list of patient appointments and visits for a date/time range.
 location.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient ID (DFN) from Patient File [#2].
  START DATE/TIME
   TYPE:LITERAL
   Start date/time to return visits and appointments.  In internal FileMan forma
t.
  STOP DATE/TIME
   TYPE:LITERAL
   Stop date/time to return visits and appointments. In internal FileMan format.
  DUMMY
   TYPE:LITERAL
   This is a dummy parameter so the Broker won't crash.
 RETURN VALUE
  TYPE: ARRAY
  List of patient appointments and visits in the following format:
 EXTERNAL ROUTINES:
  NOW^%DTC,DT^DILF,PTAPPTS^ORQPTQ2

ORQQPP LIST - LIST^ORQQPP
 Returns a list of active Patient Postings for a patient.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient ID (DFN) from Patient File [#2].
 RETURN VALUE
  TYPE: ARRAY
  Array of Patient Postings in the format:
 EXTERNAL ROUTINES:
  ENCOVER^TIUPP3

ORQPT WARDRMBED - WRB^ORQPTQ3
 Returns the ward, room-bed for a patient.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier (DFN) from file #2
 RETURN VALUE
  TYPE: SINGLE VALUE
  ward ien [file #42]^ward name room name-bedname
 EXTERNAL ROUTINES:
  

ORQQPX IMMUN LIST - IMMLIST^ORQQPX
 Returns a list of patient immunizations.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier (DFN) from patient file [#2].
 RETURN VALUE
  TYPE: ARRAY
  List of patient immunizations in format:
 EXTERNAL ROUTINES:
  IMMUN^PXRHS03

ORQOR LIST - LIST^ORQOR1
 Returns a list of patient orders.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   Patient DFN from Patient file [#2].
  GROUP
   TYPE:LITERAL
   Entry number of the desired display group from the Display Group File 
  FLAG
   TYPE:LITERAL
   Flag identifying the context of the orders to be retreived.
  STARTDATE
   TYPE:LITERAL
   The startdate for the order search in 'T' or Fileman format.
  STOPDATE
   TYPE:LITERAL
   The stopdate for the order search in 'T' or Fileman format.
 RETURN VALUE
  TYPE: ARRAY
  Array of orders in the format:
 EXTERNAL ROUTINES:
  DT^DILF,EN^ORQ1

ORQQLR DETAIL - DETAIL^ORQQLR
 Returns the details of a lab order.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   Patient identifier (DFN) from Patient File [#2]
  ORDER NUMBER
   TYPE:LITERAL
   OE/RR order number from the Orders file [#100].
 RETURN VALUE
  TYPE: ARRAY
  Detailed text of the order.  May include more than one atomic result (as
 EXTERNAL ROUTINES:
  $$EXTERNAL^DILFD,RR^LR7OR1,$$OETOLAB^ORQQLR1,$$FMTE^XLFDT

ORQQVS DETAIL NOTES - DETNOTE^ORQQVS
 Returns the progress notes based on patient and visit identifier.
 PARAMETERS
  Patient DFN
   TYPE:LITERAL
   Patient identifier (DFN) from File #2 (Patient).
  Visit
   TYPE:LITERAL
   Visit identifier.
 RETURN VALUE
  TYPE: ARRAY
  Formatted progress notes.
 EXTERNAL ROUTINES:
  NOTES^TIUSRVLV,TGET^TIUSRVR1

ORQQVS DETAIL SUMMARY - DETSUM^ORQQVS
 Returns discharge summary for a visit.
 PARAMETERS
  Patient
   TYPE:LITERAL
   Patient identifier (DFN) from File #2 (Patient).
  Visit
   TYPE:LITERAL
   Visit identifier.
 RETURN VALUE
  TYPE: ARRAY
  Formatted discharge summary.
 EXTERNAL ROUTINES:
  SUMMARY^TIUSRVLV,TGET^TIUSRVR1

ORQQPS DETAIL - DETAIL^ORQQPS
 Returns the details of a medication order.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier from Patient file [#2].
  MEDICATION ID
   TYPE:LITERAL
   Medication identifier as drawn from the medication consdensed list (ORQQPS
 RETURN VALUE
  TYPE: ARRAY
  Formatted details of the medication.
 EXTERNAL ROUTINES:
  DT^DILF,OEL^PSOORRL

ORB SORT METHOD - SORT^ORQORB
 Returns the default sort method for notification display based on the 
 precedence USER, DIVISION, SYSTEM, PACKAGE.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Single value indicating sort method:  U: Urgency, T: Type, P:Patient.
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORQQXMB MAIL GROUPS - MAILG^ORQQXQA
 Returns mail groups in a system.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Array of mail groups in the format: IEN^NAME
 EXTERNAL ROUTINES:
  LIST^DIC,CLEAN^DILF

ORQPT ATTENDING/PRIMARY - ATTPRIM^ORQPTQ3
 Returns a patient's attending physician and primary provider.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   Patient identifier from the PATIENT FILE [#2].
 RETURN VALUE
  TYPE: SINGLE VALUE
  Patient's attending physician and primary provider in the format:
 EXTERNAL ROUTINES:
  INP^VADPT

ORWD DEF - DEF^ORWD
 Returns the formatting definition for an ordering dialog from the ORDER
 DIALOG file (101.41).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORQ NULL LIST - NLIST^ORQPTQ2
 Returns a null list.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  A null list.
 EXTERNAL ROUTINES:
  

ORQQLR SEARCH RANGE OUTPT - SROUT^ORQQLR
 Returns the date search range in number of days (e.g. 90) to begin the 
 search before today.  For example, a value of 90 would indicate to limit the
 search between ninety day. Limited to Outpatients.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Date search range in number of days (e.g. 90) to begin the search before
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORQQAL LIST REPORT - LRPT^ORQQAL
 Returns a list of allergens, severity and signs/symptoms in a report
 format which can be used in a "detailed" display.  This RPC was set up
 to support the listing of allergies when selected from the Patient Postings
 list.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   The record number of the patient from the Patient File [#2].
 RETURN VALUE
  TYPE: ARRAY
  Array of report formatted information regarding the patient's allergens,
 EXTERNAL ROUTINES:
  EN1^GMRAOR1,$$FMTE^XLFDT

ORWORR GET - GET^ORWORR
 Returns a list of orders & and associated fields and text.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$INITIALS^ORCHTAB2,$$CHKORD^OREVNTX1,EN^ORQ1,TEXT^ORQ12,PKI^ORWDPS1,GET1^ORWO
RR1,GET2^ORWORR1,$$GET^XPAR,$$DEA^XUSER

ORWU USERINFO - USERINFO^ORWU
 Returns preferences for the current user.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$SITE^VASITE,$$UP^XLFSTR,$$GET^XPAR,$$KSP^XUPARAM,$$PROD^XUPROD

ORWD SAVE - SAVE^ORWD
 Saves an order.  The order is passed in ORDIALOG format.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETDLG^ORCD,GETORDER^ORCD,$$ACTION^ORCSAVE,EN^ORCSAVE,RN^ORCSAVE,XX^ORCSAVE,CA
NCEL^ORCSAVE2,GETBYIFN^ORWORR

ORWD SIGN - SIGN^ORWD
 Changes signature status on a list of orders and optionally releases the
 orders to their respective services.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN^ORCSEND,NOTIF^ORCSIGN,PRINTS^ORWD1

ORWD OI - OI^ORWD
 Returns a group of orderable items to be used in the OnNeedData event for
 a long list box.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR DEF - DEF^ORWDLR
 Loads dialog data (lists & defaults) for a lab order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DEFURG^LR7OR3

ORWDLR LOAD - LOAD^ORWDLR
 Loads sample, specimen, and urgency information for a given lab test.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  TEST^LR7OR3

ORQPT PATIENT TEAM PROVIDERS - TPTPR^ORQPTQ1
 Function returns a list of providers linked to a patient via teams.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   Patient identifier from patient file [#2].
 RETURN VALUE
  TYPE: ARRAY
  Array of providers linked to patient via teams in format:
 EXTERNAL ROUTINES:
  

ORWDLR ABBSPEC - ABBSPEC^ORWDLR
 Returns lab specimens that have an abbreviation (used as default list).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR ALLSAMP - ALLSAMP^ORWDLR
 Returns a list of collection samples for a lab order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR OIPARAM - LOAD^ORWDLR
 No longer used.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  TEST^LR7OR3

ORWU VALIDSIG - VALIDSIG^ORWU
 Validates a broker encrypted electronic signature.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  HASH^XUSHSHP,$$DECRYP^XUSRB1

ORWPT APPTLST - APPTLST^ORWPT
 Returns a list of appointments for a patient (for visit selection).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SDA^ORQRY01,$$HTFM^XLFDT

ORWU HOSPLOC - HOSPLOC^ORWU
 Returns a set of hospital locations for use in a long list box.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPT ADMITLST - ADMITLST^ORWPT
 Returns a list of admissions for a patient (for visit selection).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$HASDS^TIULX

ORWD FORMID - FORMID^ORWD
 Returns the Form ID (mapping to a windows form) for an ordering dialog.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWD GET4EDIT - GET4EDIT^ORWD
 Returns the responses for an already existing order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$EXT^ORCD,GETDLG1^ORCD,GETORDER^ORCD,$$FMTE^XLFDT,$$UP^XLFSTR

ORWD VALIDACT - VALIDACT^ORWD
 Returns 1 if action is valid for an order, otherwise 0^error.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$VALID^ORCACT0

ORWD SAVEACT - SAVEACT^ORWD
 Saves the action on a order in an unsigned/unreleased state.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETDLG^ORCD,GETORDER^ORCD,$$ACTION^ORCSAVE,RN^ORCSAVE,CANCEL^ORCSAVE2,GETBYIFN
^ORWORR

ORWD DT - DT^ORWD
 Returns a date in internal Fileman format.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^%DT

ORWDCSLT LOOK200 - LOOK200^ORWDCSLT
 Validates Attn: field of a consult order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$FIND1^DIC

ORWDCSLT DEF - DEF^ORWDCSLT
 Load dialog data (lists & defaults) for a consult order. (16-BIT)
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWD PROVKEY - PROVKEY^ORWD
 Returns 1 if the users possesses the PROVIDER key.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDGX LOAD - LOAD^ORWDGX
 Loads a list of activities for an activity order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWDPS LOAD - LOAD^ORWDPS
 Loads dialog data (lists & defaults) for a pharmacy order once an
 orderable item (Drug & Form) is selected.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDRA DEF - DEF^ORWDRA
 Loads dialog data (lists & defaults) for a radiology order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWDGX VMDEF - VMDEF^ORWDGX
 Loads dialog data (lists & defaults) for a vitals order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDPS DEF - DEF^ORWDPS
 Loads dialog data (lists & defaults) for a pharmacy order (inpatient and
 outpatient).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR STOP - STOP^ORWDLR
 Calculates a stop date (for lab orders with schedules).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  C^%DTC

ORWU NEWPERS - NEWPERS^ORWU
 Returns a set of New Person file entries for use in a long list box.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NP1^ORWU1

ORWU DEVICE - DEVICE^ORWU
 Returns a list of print devices.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWRA IMAGING EXAMS - EXAMS^ORWRA
 This remote procedure call returns a list on imaging exams for a
 specific patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of patient in the Patient file [
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The format of the returned global array is the following:
 EXTERNAL ROUTINES:
  

ORWRA REPORT TEXT - RPT^ORWRA
 This remote procedure call returns an array containing
 a formattied imaging report. This array matches exactly
 the report format on the roll 'n scroll version of CPRS.
 
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of patient in the Patient file [
  EXAMID
   TYPE:LITERAL
   Imaging exam ID.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The global array returned contains the formatted text
 EXTERNAL ROUTINES:
  XRAYS^ORCXPND1

ORQQPL PROBLEM LIST - PROBL^ORQQPL3
 Problem list for CPRS GUI client
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN
 RETURN VALUE
  TYPE: ARRAY
  List of problems with comments
 EXTERNAL ROUTINES:
  $$PAD^ORCHTAB

ORWRP REPORT LISTS - LIST^ORWRP
 This remote procedure call returns a list of reports,
 Health Summary types and date ranges that can be displayed
 at the workstation.
 
 There are no input parameters fo this rpc.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  This rpc returns the list of reports, health summary types
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLST^XPAR

ORQQPL USER PROB CATS - CAT^ORQQPL3
 rETURNS ARRAY OF CATEGORIES FOR USER TO SELECT FROM
 PARAMETERS
  DUZ
   TYPE:LITERAL
   USER ID
  CLINIC
   TYPE:LITERAL
   IFN OF CLINIC
 RETURN VALUE
  TYPE: ARRAY
  ARRAY OF CATEGORIES
 EXTERNAL ROUTINES:
  

ORQQPL USER PROB LIST - PROB^ORQQPL3
 Returns array of user specific problems to select from
 PARAMETERS
  Category
   TYPE:LITERAL
   IFN of problem category
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$STATCHK^ICDAPIU,$$CODEN^ICDCODE,$$PAD^ORCHTAB,$$PATCH^XPDUTL

ORQQPL PROBLEM LEX SEARCH - LEXSRCH^ORQQPL1
 Get a list from clinical lexicon for display in list or combo box
 PARAMETERS
  FLAG
   TYPE:LITERAL
   BACK/FORE FLAG
  NUM
   TYPE:LITERAL
   MAX NUMBER OF LIST ELEMENTS
 RETURN VALUE
  TYPE: ARRAY
  LSTARY
 EXTERNAL ROUTINES:
  $$CODEN^ICDCODE,LOOK^LEXA,CONFIG^LEXSET,$$ICDONE^LEXU

ORQQPL EDIT LOAD - EDLOAD^ORQQPL1
 Return array of default fields and original fields - GMPFLD() and GMPORIG()
 PARAMETERS
  IFN
   TYPE:LITERAL
   IFN for problem
  provider
   TYPE:LITERAL
  vamc
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETFLDS^GMPLEDT3

ORQQPL INIT PT - INITPT^ORQQPL1
 returns death indicator, sc and exposures
 PARAMETERS
  DFN
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  VADPT^GMPLX1,DEM^VADPT

ORWRP REPORT TEXT - RPT^ORWRP
 This rpc retrieves the report text for a report selected on
 the Report tab.
 the report format on the roll 'n scroll version of CPRS.
 
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of entry in the Patient file.
  REPORT ID
   TYPE:LITERAL
   Identification number of the desired report.
  HEALTH SUMMARY TYPE
   TYPE:LITERAL
   Internal entry number of entry in the HEALTH SUMMARY TYPE file.
  DATE RANGE
   TYPE:LITERAL
   This parameter indicates the number of days from TODAY
  REPORT SECTION
   TYPE:LITERAL
   This parameter specifics which portion of the report should be
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Text array for report section is returned.
 EXTERNAL ROUTINES:
  ^%DTC,$$GET1^DIQ,$$GETDFN^MPIF001,GETDFN^MPIF001,$$SITE^VASITE,$$FMADD^XLFDT,G
ETLST^XPAR

ORQQPL PROVIDER LIST - PROVSRCH^ORQQPL1
 RETURNS ARRAY OF PROVIDERS MATCHING INPUT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC

ORWRP PRINT REPORT - PRINT^ORWRPP
 This rpc is used to print a report on the Report tab
 in CPRS.
 PARAMETERS
  DEVICE
   TYPE:LITERAL
   Name of the device where the report should print.
  DFN
   TYPE:LITERAL
   Internal entry number of entry in the Patient file.
  REPORT ID
   TYPE:LITERAL
   Identification number of the desired report.
  HEALTH SUMMARY TYPE
   TYPE:LITERAL
   Internal entry number of entry in the HEALTH SUMMARY TYPE
  DATE RANGE
   TYPE:LITERAL
   This parameter indicates the number of days from TODAY
  EXAM ID
   TYPE:LITERAL
   Identification number of the exam.
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the print request was successfully queued then the
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$HFS^ORWRP,HFSCLOSE^ORWRP,HFSOPEN^ORWRP,IOVAR^ORWRP,SETITEM^ORWRP

ORWLR REPORT LISTS - LIST^ORWLR
 This remote procedure call returns a list of lab cumulative sections,
 and date ranges that can be displayed at the workstation.
 
 There are no input parameters fo this rpc.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This rpc returns the list of lab cumulative sections
 EXTERNAL ROUTINES:
  GETDT^ORWRP

ORQQPL EDIT SAVE - EDSAVE^ORQQPL1
 sAVES EDITED PROBLEM RECORD
 PARAMETERS
  IFN
   TYPE:LITERAL
   RECORD IFN
  PROV
   TYPE:LITERAL
   PROBLEM RESP PROVIDER
  VAMC
   TYPE:LITERAL
   FACILITY ID
 RETURN VALUE
  TYPE: SINGLE VALUE
  BOOLEAN 1= FILE OK, 0 NO FILE
 EXTERNAL ROUTINES:
  EN^GMPLSAVE

ORWLR CUMULATIVE SECTION - RPT^ORWLR
 This rpc retrieves the part of the lab cumulative report 
 selected by the user on the Labs tab.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of entry in the Patient file.
  PART OF CUMULATIVE
   TYPE:LITERAL
   Name that uniquely identifies the desired part of the lab cumulative.
  DATE RANGE
   TYPE:LITERAL
   This parameter indicates the number of days from TODAY
  REPORT SECTION
   TYPE:LITERAL
   This parameter specifics which section of the lab cumulative part
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Text array for report section is returned.
 EXTERNAL ROUTINES:
  GET64^LR7OSUM,SETITEM^ORWRP,$$LOW^XLFSTR

ORQQPL CLIN SRCH - CLINSRCH^ORQQPL1
 Returns list of clinics for problem list. Should be replaced by CLIN^ORQPT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORQQPL ADD SAVE - ADDSAVE^ORQQPL1
 Add new problem record
 PARAMETERS
  GMPDFN
   TYPE:LITERAL
  GMPROV
   TYPE:
  GMPVAMC
   TYPE:LITERAL
  ADDARRAY
   TYPE:LIST
   ARRAY OF GMPFLD()=VALUE STRINGS FOR INDIRECT SET
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  NEW^GMPLSAVE

ORQQPL INIT USER - INITUSER^ORQQPL1
 Returns user parameters for problem list
 PARAMETERS
  DUZ
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$SERVICE^GMPLX1,$$VIEW^GMPLX1,$$GET^XPAR

ORQQPL UPDATE - UPDATE^ORQQPL1
 Updates problem record
 PARAMETERS
  UPDARRAY
   TYPE:LIST
   UPDATE ARRAY
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  UPDATE^GMPLUTL

ORQQPL DELETE - DELETE^ORQQPL2
 DELETES A PROBLEM
 PARAMETERS
  IFN
   TYPE:LITERAL
  PROVIDERID
   TYPE:
  VAMC
   TYPE:
  REASON
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  NEWNOTE^GMPLSAVE,AUDIT^GMPLX,DTMOD^GMPLX,$$HTFM^XLFDT

ORWRA PRINT REPORT - PRINT^ORWRAP
 This rpc is used to print an imaging report on the Imaging tab
 in CPRS.
 PARAMETERS
  DEVICE
   TYPE:LITERAL
   Name of the device where the report should print.
  DFN
   TYPE:LITERAL
   Internal entry number of entry in the Patient file.
  EXAM ID
   TYPE:LITERAL
   Identification number of the imaging exam.
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the print request was successfully queued then the
 EXTERNAL ROUTINES:
  $$CHK^ORWCSP,TASK^ORWCSP

ORQQPL AUDIT HIST - HIST^ORQQPL2
 RETURN PROBLEM AUDIT HISTORY
 PARAMETERS
  GMPIFN
   TYPE:LITERAL
   INTERNAL FILE NUMBER FOR PROBLEM
 RETURN VALUE
  TYPE: ARRAY
  ARRAY OF PROBLEM HISTORIES IN DISPLAYABLE TEXT FORMAT
 EXTERNAL ROUTINES:
  DT^GMPLHIST

ORQQPL REPLACE - REPLACE^ORQQPL2
 REPLACES A PROBLEM THAT WAS PREVIOUSLY DELETED
 PARAMETERS
  IFN
   TYPE:LITERAL
   IFN OF PROBLEM
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DIE,AUDIT^GMPLX,DTMOD^GMPLX,$$HTFM^XLFDT

ORQQPL VERIFY - VERIFY^ORQQPL2
 VERIFY A TRANSCRIBED PROBLEM
 PARAMETERS
  GMPIFN
   TYPE:LITERAL
   PROBLEM IFN
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  AUDIT^GMPLX,DTMOD^GMPLX,$$HTFM^XLFDT

ORQQPL PROV FILTER LIST - GETRPRV^ORQQPL3
 RETURNS A LIST OF PROVIDERS CORRESPONDING TO INPUT ARRAY OF IEN
 PARAMETERS
  INP
   TYPE:LIST
   ARRAY OF PROVIDER IEN
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORQQPL CLIN FILTER LIST - GETCLIN^ORQQPL3
 rETURNS ARRAY OF IEN^NAME FOR AN ARRAY OF IEN PASSED IN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  ARRAY OF IEN^NAME
 EXTERNAL ROUTINES:
  

ORWDPS INPT - INPT^ORWDPS
 Checks restrictions for entering inpatient meds.  If no restrictions, a 0
 is returned.  If there is a restriction, it is returned in the format:
      1^restriction text
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORQQPL SERV FILTER LIST - GETSRVC^ORQQPL3
 RETURNS ARRAY OF IEN^NAME FOR INPUT ARRAY OF IEN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDPS OUTPT - OUTPT^ORWDPS
 Checks restrictions for entering outpatient meds.  If no restrictions, a 0
 is returned.  If there is a restriction, it is returned in the format:
      1^restriction text
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWCS LIST OF CONSULT REPORTS - LIST^ORWCS
 This remote procedure call returns a list on consult reports for a
 specific patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of patient in the Patient file [
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The format of the returned global array is the following:
 EXTERNAL ROUTINES:
  OER^GMRCSLM1,$$UP^XLFSTR

ORWCS REPORT TEXT - RPT^ORWCS
 This remote procedure call returns an array containing
 a formattied consult report. This array matches exactly
 the report format on the roll 'n scroll version of CPRS.
 
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of patient in the Patient file [
  CONSULT ID
   TYPE:LITERAL
   Consult ID.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The global array returned contains the formatted text
 EXTERNAL ROUTINES:
  DT^GMRCSLM2

ORWCS PRINT REPORT - PRINT^ORWCSP
 This rpc is used to print a consult report on the Consult tab
 in CPRS.
 PARAMETERS
  DEVICE
   TYPE:LITERAL
   Name of the device where the report should print.
  DFN
   TYPE:LITERAL
   Internal entry number of entry in the Patient file.
  CONSULT ID
   TYPE:LITERAL
   Identification number of the consult.
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the print request was successfully queued then the
 EXTERNAL ROUTINES:
  

ORWD KEY - KEY^ORWD
 RPC which receives a key name and returns a 1 if the user holds the key,
 otherwise a 0 is returned.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORQQPL SRVC SRCH - SRVCSRCH^ORQQPL1
 gET LIST OF AVAILABLE SERVICES
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  ARRAY OF IEN^NAME
 EXTERNAL ROUTINES:
  

ORQQLR SEARCH RANGE INPT - SRIN^ORQQLR
 Returns the date search range in number of days (e.g. 2) to begin the 
 search before today. For example, a value of 2 would indicate to limit the
 search between two days and today. Limited to inpatients.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   Identifier from Patient file [#2].
 RETURN VALUE
  TYPE: SINGLE VALUE
  Date search range in number of days (e.g. 2) to begin the search before
 EXTERNAL ROUTINES:
  OERR^VADPT,$$GET^XPAR

ORQQPX REMINDERS LIST - REMIND^ORQQPX
 Returns a list of clinical reminders.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier (DFN) from patient file [#2].
 RETURN VALUE
  TYPE: ARRAY
  List of patient clinical reminders in format:
 EXTERNAL ROUTINES:
  MAIN^PXRM,$$DLG^PXRMRPCA,$$DLGWIPE^PXRMRPCA,OERR^VADPT

ORWPT LAST5 - LAST5^ORWPT
 Returns a list of patients matching the string of Last Name Initial_Last 4
 SSN (Initial/Last 4 look-up to PATIENT file).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1

ORWU DT - DT^ORWU
 Returns date in internal VA FileMan format.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^%DT

ORWPT CLINRNG - CLINRNG^ORWPT
 Returns a list of selectable options from which a user can choose a date
 range for appointments.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$HTFM^XLFDT

ORWU CLINLOC - CLINLOC^ORWU
 Returns a list of clinics from the HOSPITAL LOCATION file (#44).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPT TOP - TOP^ORWPT
 Returns the last selected patient by the defined user.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPT SELCHK - SELCHK^ORWPT
 Returns a 1 if the patient record is flagged as senstive, otherwise
 returns 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$EN1^ORQPT2

ORWPT SELECT - SELECT^ORWPT
 RPC to return key information on a patient as follows:
  
 1    2   3   4    5      6    7    8       9       10      11   12 13  14
 NAME^SEX^DOB^SSN^LOCIEN^LOCNM^RMBD^CWAD^SENSITIVE^ADMITTED^CONV^SC^SC%^ICN
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GETICN^MPIF001,GETICN^MPIF001,$$CWAD^ORQPT2,$$EN1^ORQPT2,ELIG^VADPT

ORWPT ENCTITL - ENCTITL^ORWPT
 Returns external values to display for encounter in format:
      LOCNAME^LOCABBR^ROOMBED^PROVNAME
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWLRR ATOMICS - ATOMICS^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ATOMICS^LR7OGO

ORWLRR SPEC - SPEC^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SPEC^LR7OGO

ORWLRR ALLTESTS - ALLTESTS^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ALLTESTS^LR7OGO

ORWLRR USERS - USERS^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  USERS^LR7OGO

ORWLRR TG - TG^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ATG^LR7OGO,TG^LR7OGO,UTGA^LR7OGO,UTGD^LR7OGO,UTGR^LR7OGO

ORWLRR ATESTS - ATESTS^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ATESTS^LR7OGO

ORWLRR ATG - ATG^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ATG^LR7OGO

ORWLRR UTGA - UTGA^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  UTGA^LR7OGO

ORWLRR UTGR - UTGR^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  UTGR^LR7OGO

ORWLRR UTGD - UTGD^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  UTGD^LR7OGO

ORWLRR INTERIM - INTERIM^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  INTERIM^LR7OGM,INTERIMG^LR7OGM,INTERIMS^LR7OGM

ORWLRR INTERIMS - INTERIMS^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  INTERIMS^LR7OGM

ORWLRR GRID - GRID^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GRID^ORWLRRG

ORWPT16 ID INFO - IDINFO^ORWPT16
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ELIG^VADPT

ORWPT16 LIST ALL - LISTALL^ORWPT16
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPT16 LOOKUP - LOOKUP^ORWPT16
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC

ORWPT16 DEMOG - DEMOG^ORWPT16
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWPT16 GETVSIT - GETVSIT^ORWPT16
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^VSIT

ORWPT16 APPTLST - APPTLST^ORWPT16
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETAPPT^TIUVSIT

ORWPT16 ADMITLST - ADMITLST^ORWPT16
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DD^%DT

ORWPT16 PSCNVT - PSCNVT^ORWPT16
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWU16 USERINFO - USERINFO^ORWU16
 Returns information about the current user in the format:
      DUZ^NAME^USRCLS^CANSIGN^ISPROVIDER^ORDERROLE^NOORDER^DTIME^CD
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWU16 VALIDSIG - VALIDSIG^ORWU16
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  HASH^XUSHSHP,$$DECRYP^XUSRB1

ORWU16 HOSPLOC - HOSPLOC^ORWU16
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWU16 VALDT - VALDT^ORWU16
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^%DT

ORWU16 NEWPERS - NEWPERS^ORWU16
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWU16 DEVICE - DEVICE^ORWU16
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWLRR INTERIMG - INTERIMG^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  INTERIMG^LR7OGM

ORWU EXTNAME - EXTNAME^ORWU
 Returns the external form of a pointer value given the IEN and file
 number.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWLRR NEWOLD - NEWOLD^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  NEWOLD^LR7OGMU

ORWLRR MICRO - MICRO^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  MICRO^LR7OGM

ORWLRR CHART - CHART^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CHART^LR7OGC

ORWLRR CHEMTEST - CHEMTEST^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  CHEMTEST^LR7OGO

ORWLRR PARAM - PARAM^ORWLRR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  PARAM^LR7OGO

ORWPT PTINQ - PTINQ^ORWPT
 Returns formatted patient inquiry text for display in GUI environment.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DGINQ^ORCXPND1

ORWPCE DIAG - DIAG^ORWPCE
 Returns a list of diagnosis codes for a clinic location.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^IBDF18A

ORWPCE PROC - PROC^ORWPCE
 Returns a list of procedures for a clinic location.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^IBDF18A

ORWPCE VISIT - VISIT^ORWPCE
 Returns a list of visit types for a clinic.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^IBDF18A,$$GETENC^PXAPI,$$VST2APPT^PXAPI

ORWRP16 REPORT TEXT - RPT^ORWRP16
 This rpc retrieves the report text for a report selected on
 the Report tab.
 the report format on the roll 'n scroll version of CPRS.
 
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of entry in the Patient file.
  REPORT ID
   TYPE:LITERAL
   Identification number of the desired report.
  HEALTH SUMMARY TYPE
   TYPE:LITERAL
   Internal entry number of entry in the HEALTH SUMMARY TYPE file.
  DATE RANGE
   TYPE:LITERAL
   This parameter indicates the number of days from TODAY
  REPORT SECTION
   TYPE:LITERAL
   This parameter specifics which portion of the report should be
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Text array for report section is returned.
 EXTERNAL ROUTINES:
  

ORWRP16 REPORT LISTS - LIST^ORWRP16
 This remote procedure call returns a list of reports,
 Health Summary types and date ranges that can be displayed
 at the workstation.
 
 There are no input parameters fo this rpc.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This rpc returns the list of reports, health summary types
 EXTERNAL ROUTINES:
  

ORQQPX REMINDER DETAIL - REMDET^ORQQPX
 Returns the details of a clinical reminder.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier from Patient file [#2].
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder identifier (ien) from PCE REMINDER/MAINTENANCE ITEM file
 RETURN VALUE
  TYPE: ARRAY
  Formatted details of the clinical reminder.
 EXTERNAL ROUTINES:
  MAIN^PXRM

ORWPCE SCDIS - SCDIS^ORWPCE
 Returns service connected percentage and rated disabilities for a patient.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ELIG^VADPT

ORWPCE SCSEL - SCSEL^ORWPCE
 Returns a list of service connected conditions that may be selected.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  SCCOND^PXUTLSCC

ORWUX SYMTAB - SYMTAB^ORWUX
 Returns the contents of the current session's symbol table.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DOLRO^%ZOSV

ORWPCE PCE4NOTE - PCE4NOTE^ORWPCE3
 Returns the encounter information for an associated note in the format:
  
 LST(1)=HDR^AllowEdit^CPTRequired^VStr^Author^hasCPT
 LST(n)=TYP+^CODE^CAT^NARR^QUAL1^QUAL2 (QUAL1=Primary!Qty, QUAL2=Prv)
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$CODEC^ICPTCOD,NOTEVSTR^ORWPCE,SCSEL^ORWPCE,$$GETENC^PXAPI,ENCEVENT^PXAPI

ORWORDG MAPSEQ - MAPSEQ^ORWORDG
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWU TOOLMENU - TOOLMENU^ORWU
 Returns a list of items for the CPRS GUI Tools menu.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWU HASKEY - HASKEY^ORWU
 Returns 1 if a user holds a security key, otherwise 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWORDG ALLTREE - ALLTREE^ORWORDG
 Returns the tree for all display groups.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWORDG REVSTS - REVSTS^ORWORDG
 Returns the status flags available for review orders action.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  STSLST^ORCHANG2

ORWORDG IEN - IEN^ORWORDG
 Returns IEN of a display group.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWPCE SAVE - SAVE^ORWPCE
 Saves PCE information entered into CPRS GUI.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$CLINUSER^ORQQPL1,DQSAVE^ORWPCE1

ORWPCE CPTREQD - CPTREQD^ORWPCE
 Returns 1 if TIU DOCUMENT file entry needs a CPT code.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWPCE NOTEVSTR - NOTEVSTR^ORWPCE
 Returns VISIT LOCATION;EPISODE BEGIN DATE;VISIT TYPE from the TIU DOCUMENT
 file.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$VSTRBLD^TIUSRVP

ORWPCE DELETE - DELETE^ORWPCE
 Delete PCE information related to a note being deleted.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^%ZTLOAD,DQDEL^ORWPCE1,$$GETENC^PXAPI,DOCCNT^TIUSRVLV

ORWPCE LEX - LEX^ORWPCE
 Returns list based on lexicon look-up.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LOOK^LEXA,CONFIG^LEXSET,$$CPCONE^LEXU,$$CPTONE^LEXU,$$ICDONE^LEXU

ORWPCE LEXCODE - LEXCODE^ORWPCE
 Returns a code associated with a lexicon entry.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CPCONE^LEXU,$$CPTONE^LEXU,$$ICDONE^LEXU

ORWCH LOADALL - LOADALL^ORWCH
 This RPC returns the sizing related CPRS GUI chart parameters for the
 user.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWCH SAVESIZ - SAVESIZ^ORWCH
 This RPC saves the size (bounds) for a particular CPRS GUI control.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

ORWCH SAVEALL - SAVEALL^ORWCH
 This RPC saves the sizing related CPRS GUI chart parameters for the
 user.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

ORWRP1 LISTNUTR - LISTNUTR^ORWRP1
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$FHWORADT^FHWORA,$$SITE^VASITE

ORQQVI1 GRID - GRID^ORQQVI1
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$FIND1^DIC,EN^GMVPXRM,$$STRIP^ORCMEDIT,$$UP^XLFSTR

ORWPS ACTIVE - ACTIVE^ORWPS
 Returns listing of a patient's active inpatient and outpatient
 medications.
 PARAMETERS
  DFN
   TYPE:LITERAL
  USER
   TYPE:LITERAL
  VIEW
   TYPE:LITERAL
  UPDATE
   TYPE:LITERAL
   This parameter is use to determine if the parameter that stored the user 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  OCL^PSOORRL,$$FMTE^XLFDT,$$GET^XPAR,DEL^XPAR,PUT^XPAR

ORWPT DFLTSRC - DFLTSRC^ORWPT
 Return user's default patient list source.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWPS DETAIL - DETAIL^ORWPS
 Returns text of details for a specific mediction order.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  MEDS^ORCXPND1

ORWU PATCH - PATCH^ORWU
 Returns a 1 if the specified patch is installed on the system, otherwise
 returns a 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PATCH^XPDUTL

GMRC LIST CONSULT REQUESTS - RPCLIST^GMRCTIU
 This RPC will return a list of active and pending consult requests to
 associate a result with.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Record Number of patient in file 2.
 RETURN VALUE
  TYPE: ARRAY
  Returns an array where the zeroeth element will be either:
 EXTERNAL ROUTINES:
  

ORWPT SHARE - SHARE^ORWPT
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DDR KEY VALIDATOR - KEYVAL^DDR3
 Validates that values passed in do not violate key integrity.  Underlying
 DBS call is KEYVAL^DIE.
 PARAMETERS
  VALUES TO VALIDATE
   TYPE:LIST
   Array of data used to create FDA for KEYVAL
 RETURN VALUE
  TYPE: ARRAY
  If values pass validation, 1 is returned in first node of array.  If
 EXTERNAL ROUTINES:
  

TIU GET DOC COUNT BY VISIT - DOCCNT^TIUSRVLV
 This remote procedure returns the number of documents that are linked to a 
 particular visit.
 PARAMETERS
  VSIT
   TYPE:LITERAL
   This is the record number (IEN) of the VISIT in the VISIT FILE.
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the COUNT of TIU DOCUMENTS which are currently associated with the 
 EXTERNAL ROUTINES:
  

XUS DIVISION SET - DIVSET^XUSRB2
 This RPC is used to set the user's selected Division in DUZ(2) during
 sign-on.
 PARAMETERS
  DIV
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  The RPC will return 0 if the input wasn't OK
 EXTERNAL ROUTINES:
  $$FIND1^DIC

XUS GET USER INFO - USERINFO^XUSRB2
 Returns information about a user after logon. 
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Result(0) is the users DUZ.
 EXTERNAL ROUTINES:
  $$NS^XUAF4,$$VPID^XUPS,$$NAME^XUSER

XUS DIVISION GET - DIVGET^XUSRB2
 This RPC will return a list of divisions of a user.
 PARAMETERS
  IEN
   TYPE:LITERAL
   If passed this will be the user to get the division info on.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$CHKDIV^XUS1

XWB GET BROKER INFO - BRKRINFO^XWBLIB
 Returns info regarding setup and parameters of the Broker.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  RESULTS(0) = Timeout period for handler READs.
 EXTERNAL ROUTINES:
  $$BAT^XUPARAM

PSB SCANPT - SCANPT^PSBRPC
 This RPC is used to validate the data scanned in at the scan patient 
 wristband prompt of the mnOpenPatient component.  The value passed in 
 is either the full SSN scanned in from the patient wristband -or- the 
 1U4N syntax of the patient lookup.  In either case the call must 
 return only one patient from the lookup.  If the 1U4N syntax is used 
 and multiple patients are found the call returns an error.  If only 
 one patient is found the RESULTS( ) array is loaded with the patient 
 data and passed back to the client for verification.
 PARAMETERS
  PSBDATA
   TYPE:LITERAL
   This is the scanned valued passed by the client.
 RETURN VALUE
  TYPE: ARRAY
  If no patient or multiple patients are found with the scan value an 
 EXTERNAL ROUTINES:
  $$HRCNF^APSPFUNC,$$VITAL^APSPFUNC,$$VITCHT^APSPFUNC,$$VITCWT^APSPFUNC,$$GETACT
^DGPFAPI,$$FIND1^DIC,$$GET1^DIQ,GUIMTD^DPTLK6,EN1^GMRADPT,EN6^GMRVUTL,$$GETDFN^M
PIF001,$$GETICN^MPIF001,DEM^VADPT,IN5^VADPT,$$GET^XPAR

PSB INSTRUCTOR - INST^PSBRPC
 Used by frmInstructor to validate that an instructor is at the client 
 with a student.  Validation is acheived via the instructor entering 
 their SSN and electronic signature code.  This is then validated 
 against the NEW PERSON file (#200).  If a valid user is obtained, 
 that user must posses the PSB INSTRUCTOR key to be passed back as an 
 eligible instructor for the student.
 PARAMETERS
  PSBACC
   TYPE:LITERAL
   Access Code 
  PSBVER
   TYPE:
   Verify Code
 RETURN VALUE
  TYPE: ARRAY
  Results array is returned in the following forms:
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$CHECKAV^XUSRB,$$DECRYP^XUSRB1

PSB USERLOAD - USRLOAD^PSBRPC
 This RPC is called at application startup to populate the BCMA_User 
 object with the users defaults.  No parameters are passed, the current 
 DUZ is assumed.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  (0) = -1^Error Description
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$SITE^VASITE,$$BASE^XLFUTL,$$GET^XPAR,$$GET^XPAR,$$PROD^XUPROD,PRO
D^XUPROD

PSB USERSAVE - USRSAVE^PSBRPC
 Save the users current window settings for the next session.
 PARAMETERS
  PSBWIN
   TYPE:LITERAL
   Contains the current window settings so that the next time the user 
  PSBVDL
   TYPE:LITERAL
   VDL settings
  PSBUDCW 
   TYPE:LITERAL
   UD tab column settings
  PSBPBCW
   TYPE:LITERAL
   PB tab column settings 
  PSBIVCW
   TYPE:LITERAL
   IV tab column settings   
  PSBDEV
   TYPE:LITERAL
   Last print device used.
 RETURN VALUE
  TYPE: ARRAY
  Returns
 EXTERNAL ROUTINES:
  EN^XPAR

PSB FMDATE - FMDATE^PSBRPC
 Used to validate Fileman dates.
 PARAMETERS
  PSBVAL
   TYPE:LITERAL
   The user supplied input for a date.
 RETURN VALUE
  TYPE: ARRAY
  If validation fails the following is returned to the client:
 EXTERNAL ROUTINES:
  ^%DT,DD^%DT,D^DIQ

PSB SCANMED - SCANMED^PSBRPC2
 Takes the scanned valued from the medication and does a lookup on file 
 50 for an exact match.  If more than one or less than one entry are 
 found for the lookup an error is returned to the client.
 PARAMETERS
  SCANVAL
   TYPE:LITERAL
   This is the data received from the client scanning the medication.
  PSBDIEN
   TYPE:LITERAL
   Takes the scanned valued from the medication and does a lookup on file
  PSBTAB
   TYPE:LITERAL
   This is the current tab the user is on.
 RETURN VALUE
  TYPE: ARRAY
  Return on error:
 EXTERNAL ROUTINES:
  NOW^%DTC,$$FIND1^DIC,$$GET1^DIQ,$$GET^XPAR

PSB PARAMETER - RPC^PSBPAR
 Called by client to return or set parameters
 PARAMETERS
  PSBCMD
   TYPE:LITERAL
   Contains the command to perform against the system parameters.
  PSBENT
   TYPE:LITERAL
   Contains the entity to act upon.  Usually "###;DIC(4," for division.
  PSBPAR
   TYPE:LITERAL
   The parameter as defined in file 8989.51.
  PSBINS
   TYPE:LITERAL
   The instance of the parameter that you want to return.  Defaults to 1.
  PSBVAL
   TYPE:LITERAL
   If setting a parameter this contains the data value to place in the 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

PSB TRANSACTION - RPC^PSBML
 This is the filing RPC for all data returning from the client
 regarding the medication log.  Filing is handled by business rules on
 the server and this RPC will return either '1^Data Filed' or
 '-1^reason for not filing data' to the client.  Results of the 
 processed transaction is communicated via the RESULTS array.  The 
 number of RESULTS subscripts used (n) will be presented in RESULTS[0].  
 RESULTS [1..n] will contain the RESULTS message.  
  
 Business rules are conducted via the [0] node data.  If a '+1^MEDPASS'
 is encountered it is a complete new med pass and is validated as such.
 Transaction type MEDPASS is the only type that requires a +1 in the 
 first piece of the header, all other transactions MUST supply a valid 
 medication log entry in the IENS.
  
 The data for filing is passed in as a list in Param[1] as shown below.
  
 Example Delphi Call
  
   with RPCBroker1 do
     begin
     RemoteProcedure := 'PSB TRANSACTION';
     Param[0].Value := '88484^COMMENT';
     Param[0].PType := Literal;
     Param[1].Mult['0'] := 'Comment for the med pass';
     Param[1].Ptype := List;
     Call;
     end;
  
 -------------------------------------------------------------------------
 TRANSACTION = MEDPASS
    Note: Entries 1-6 are required, 7,8,9 are required depending on 
          item [2] order type...
  
  [0] = Patient IEN
  
  [1] = IV/Unit Dose Order Number
    Note: will be passed in as I;#### for IV and U;#### for Unit Dose
          future release will allow P;#### for pending
  
  [2] = Schedule
    Note: C:Continuous P:PRN 1:One Time O:On Call
  
  [3] = Status
    Note: G:Given H:Held R:Refused
  
  [4] = Orderable Item
    Note: IEN to 'PHARMACY ORDERABLE ITEM' (#50.7)
  
  [5] = Scheduled Administration Date/Time
    Note: This is when the med is scheduled, med is entered as GIVEN NOW!
  
  [6] = Reason Given PRN^PRN Reason Flag
    Note: Required if given PRN must be null if not PRN
  
  [7] = Comment
    Note: 1-200 characters
  
  [8] = Injection Site
  [9] = Tab^Unique ID #
  
  [10..n]= RecordType^IEN^Units Ordered^Units Given^Units Type
  
           Record Type = DD:  Dispense Drug
                         SOL: Solution
                         ADD: Additive
  
           IEN = Internal Entry Number of the following
                 if Record Type = DD:  DRUG (FILE #50)  
                                 SOL: IV SOLUTIONS (FILE #??)
                                 ADD: IV ADDITIVES (FILE #??)
  
           Units Ordered = Number of units in the Inpt Meds Order
  
           Units Given = Number of units scanned/entered by the user
  
           Units Type = Type of administration unit (i.e. TAB, CAPLET, ML)
  
 -------------------------------------------------------------------------
 TRANSACTION = COMMENT
  
  [0] = Comment to append to the log entry
    Note: Will be appended to the log with user ien and NOW as a date
  
 -------------------------------------------------------------------------
 TRANSACTION = PRN EFFECTIVENESS
  
  [0] = Effective Comment
    Note: will be filed as entered now by current user
  
 -------------------------------------------------------------------------
 TRANSACTION = STATUS UPDATE
  
  [0] = New Status
    Note: If status is Given, Date/Time administered D/T will be set to NOW
          If status is Held/Refused administered D/T will be set to null
          Status on med log must be <> null to execute.
          New status must NOT match current status or G will overwrite 
          administration DT.
  
  [1] = Comment
    Note: Comment *IS* Required
  
 -------------------------------------------------------------------------
 TRANSACTION = EDIT
  
  [0] = Action Status
  [1] = Patient DFN
  [2] = Inf/Inj Site
  [3] = IV Unique ID
  [4] = Admin Date/Time (fileman format)
  [5] = Prn Reason
  [6] = Prn Effectiveness
  
  [7] = Comment
        Note: comment data is required!
  
  [8] = "DD/ADD/SOL^ Drug IEN ^ Dose Ordered ^ Dose Given 
          ^ Unit of Administration"
  
  [n] = "additional data per DD/ADD/SOL associated with order."
 PARAMETERS
  PSBHDR
   TYPE:LITERAL
   Contains the IEN or +1 up-arrow transaction.  See RPC description.
  PSBREC
   TYPE:LIST
   See description.
 RETURN VALUE
  TYPE: ARRAY
  See description.
 EXTERNAL ROUTINES:
  DD^%DT,NOW^%DTC,$$GET1^DIQ,COMMENT^PSBML1,EXPIRE^PSBML1,PRN^PSBML1,EDIT^PSBML2
,UPDATED^PSBML2,$$GETWSID^PSBVDLU2,PSJ1^PSBVT,$$ONE^PSJBCMA,EN^PSJBCMA3,$$SITE^V
ASITE,$$GET^XPAR

PSB VALIDATE ORDER - EN^PSBVDLVL
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient IEN
  PSBIEN
   TYPE:LITERAL
   Medication Order Number
  PSBTYPE
   TYPE:LITERAL
   Order Type
  PSBADMIN
   TYPE:LITERAL
   Administration date/time, if one is present.
  PSBTAB
   TYPE:LITERAL
   Medication tab the order is on.
  PSBUID
   TYPE:LITERAL
   The actual scan value.
  PSBASTS
   TYPE:LITERAL
   Current scan status of the VDL of the medication.
  PSBORSTS
   TYPE:LITERAL
   Current order status on the VDL>
  PSBRMV
   TYPE:
   Action the user is trying to take.
  psbdien
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
  Results[0] = number of nodes
 EXTERNAL ROUTINES:
  DD^%DT,NOW^%DTC,$$GET1^DIQ,$$LASTG^PSBCSUTL,EN^PSBPOIV,GETOHIST^PSBRPC2,$$DIFF
^PSBUTL,CLEAN^PSBVT,PSJ1^PSBVT,$$FMADD^XLFDT,$$FMDIFF^XLFDT,$$NOW^XLFDT,$$GET^XP
AR

PSB SERVER CLOCK VARIANCE - CLOCK^PSBUTL
 Client date/time in external FileMan format. Returns the variance from the
 server to the client in minutes.
 PARAMETERS
  PSBX
   TYPE:LITERAL
   Client date/time in external fileman format.
 RETURN VALUE
  TYPE: ARRAY
  A number in minutes.
 EXTERNAL ROUTINES:
  ^%DT,NOW^%DTC,$$GET^XPAR

PSB MEDICATION HISTORY - HISTORY^PSBMLHS
 Returns the history of a medication for a patient from the orderable item.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient IEN number.
  PSBOI
   TYPE:LITERAL
   Orderable Item #
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Results[1] = Text "Medication Administration History"
 EXTERNAL ROUTINES:
  RPC^PSBO

PSB GETPRNS - GETPRNS^PSBPRN
 Returns all administrations of a PRN order that have NOT had the PRN
 Effectiveness documented in the current admission or within the hours 
 defined in PRN documentation site parameter whichever is greater of the 
 two.  When the PRN medication is administered a flag is set based on the 
 given PRN Reason.  This flag will dictate whether BCMA will mandate a
 PAIN SCORE measurement with PRN documentation.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient IEN number.
  PSBORD
   TYPE:LITERAL
   Order number from Inpatient Medications. If order number is passed then 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Results[0] = Number of Nodes.
 EXTERNAL ROUTINES:
  NOW^%DTC,$$GET1^DIQ,CLEAN^PSBVT,PSJ1^PSBVT,INP^VADPT,$$FMADD^XLFDT,$$GET^XPAR

PSB REPORT - RPC^PSBO
 Return the text for the specified report and the user has the option to 
 print the reports.
 PARAMETERS
  PSBTYPE
   TYPE:LITERAL
   Contains the character designation for the needed report:
  PSBDFN
   TYPE:LITERAL
   Patient IEN
  PSBSTRT
   TYPE:LITERAL
   Internal Fileman Start Date/Time
  PSBSTOP
   TYPE:LITERAL
   Fileman Stop Date/Time
  PSBINCL
   TYPE:LITERAL
   Contains the parameters for a Due List in up-arrow pieces.
  PSBDEV
   TYPE:LITERAL
   Contains the name of the device that the report prints to.
  PSBSORT
   TYPE:LITERAL
   Sorts the report by patient or by ward
  PSBOI
   TYPE:LITERAL
   Order/Orderable Item number. 
  PSBWLOC
   TYPE:LITERAL
   Ward Location 
  PSBWSORT
   TYPE:LITERAL
   Sort By Patient - "P"
  PSBFUT
   TYPE:LITERAL
   Contains the parameters for Due list in up-arrow pieces
  PSBORDNUM
   TYPE:LITERAL
   The PSBORDNUM is the pharmacy order number from the Inpatient Medications
  PSBLIST
   TYPE:LIST
   This  OPTIONAL  parameter contains list of data to input for the creating 
  PSBRCRI
   TYPE:LITERAL
   Optional parameter contains "additional" report criteria.  The Idea 
  PSBORDNM
   TYPE:
  PSBPST
   TYPE:LITERAL
   IDENTIFIES THE PRIMARY, SECONDARY AND TERTIARY SORT ORDERS FOR THE REPORT 
  PSBTR
   TYPE:LITERAL
   This field defines what sub-headers will be printed on the report.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Text of report.
 EXTERNAL ROUTINES:
  NOW^%DTC,$$DEFDIR^%ZISH,FILE^DIE,VAL^DIE,PAINCMT^PSBCSUTL,LIST^PSBO1,NEW^PSBO1
,PRINT^PSBO1,HFSCLOSE^PSBUTL,HFSOPEN^PSBUTL

PSB SUBMIT MISSING DOSE - RPC^PSBMD
 Allows the client to submit a missing dose interactively.
 PARAMETERS
  PSBDFN
   TYPE:LITERAL
   Patient DFN (IEN)
  PSBDRUG
   TYPE:LITERAL
   This is the IEN of the drug from File #50.
  PSBDOSE
   TYPE:LITERAL
   Dosage.
  PSBRSN
   TYPE:LITERAL
   Missing Dose reason.
  PSBADMIN
   TYPE:LITERAL
   Administration time of the medication.
  PSBNEED
   TYPE:LITERAL
   Needed date/time of the medication
  PSBUID
   TYPE:LITERAL
   Unique ID of an IV bag if it's an IV order.
  PSBON
   TYPE:LITERAL
   Order Number
  PSBSCHD
   TYPE:LITERAL
   Medication Schedule.
 RETURN VALUE
  TYPE: ARRAY
  Results[0] = 1^Missing Dose Submitted^351
 EXTERNAL ROUTINES:
  NOW^%DTC,FILE^DIE,CLEAN^PSBVT,PSJ1^PSBVT,IN5^VADPT

PSB VALIDATE ESIG - ESIG^PSBRPC
 Validate the data in PSBESIG against the user currently signed on (DUZ)
 PARAMETERS
  PSBESIG
   TYPE:LITERAL
   Data typed in by the user, which validates the E-SIG.
 RETURN VALUE
  TYPE: ARRAY
  (0)= -1 (1-n)= Error Description
 EXTERNAL ROUTINES:
  $$GET1^DIQ,HASH^XUSHSHP,$$DECRYP^XUSRB1

PSB LOCK - LOCK^PSBRPC
 LOCKING NO LONGER USED AS OF PATCH 7.  INCLUDED FOR BACKWARD COMPATABILITY
 WITH GUI.  CALL WILL BE REMOVED IN PATCH 8.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

XWB IM HERE - IMHERE^XWBLIB
 Returns a simple value to the client.  Used to establish continued 
 existence of the client to the server: resets the server READ timeout.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returned value not used on client.
 EXTERNAL ROUTINES:
  

TIU TEMPLATE GETROOTS - GETROOTS^TIUSRVT
 PARAMETERS
  USER
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ROOTIDX^TIUDDT

TIU TEMPLATE GETITEMS - GETITEMS^TIUSRVT
 PARAMETERS
  TIUDA
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

TIU TEMPLATE GETBOIL - GETBOIL^TIUSRVT
 PARAMETERS
  TIUDA
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

TIU TEMPLATE GETTEXT - GETTEXT^TIUSRVT
 PARAMETERS
  DFN
   TYPE:LITERAL
  VSTR
   TYPE:LITERAL
  TIUX
   TYPE:LIST
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  BLRPLT^TIUSRVD

TIU TEMPLATE ISEDITOR - ISEDITOR^TIUSRVT
 PARAMETERS
  ROOT
   TYPE:LITERAL
  USER
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ISA^USRLM

TIU TEMPLATE GETPROOT - GETPROOT^TIUSRVT
 PARAMETERS
  USER
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

TIU TEMPLATE LISTOWNR - LISTOWNR^TIUSRVT
 PARAMETERS
  FROM
   TYPE:
  DIR
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC

TIU TEMPLATE CREATE/MODIFY - SETTMPLT^TIUSRVT
 This remote procedure allows creation and update of Templates.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This optional parameter is the record number of the Template to be
  TIUX
   TYPE:LIST
   This array contains the data to be filed in the Template entry,
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the call is successful, this will be the record number (IEN) of the
 EXTERNAL ROUTINES:
  $$CLPAC^TIUSRVT1,FILE^TIUSRVT1,SETXT0^TIUSRVT1

TIU TEMPLATE SET ITEMS - SETITEMS^TIUSRVT
 This RPC will create or update the items for a Group, Class, or Root.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number of the Group, Class or Root to which the items
  TIUX
   TYPE:LIST
   This is the list of items to be filed for the entry. It should be
 RETURN VALUE
  TYPE: ARRAY
  This array indicates the success or failure of each field to file for each
 EXTERNAL ROUTINES:
  UPDATE^TIUSRVT1

TIU GET LIST OF OBJECTS - OBJLST^TIUSRVT
 This RPC returns the list of TIU OBJECTS that the current user may select
 from.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The global array ^TMP("TIU OBJECTS",$J,1...n)=IEN^NAME is returned.
 EXTERNAL ROUTINES:
  $$CANPICK^TIULP

TIU TEMPLATE DELETE - DELETE^TIUSRVT
 This RPC will delete orphan entries in the Template file (i.e., only
 those entries that have been removed from any Groups, Classes, Personal
 or Shared Root entries).
 PARAMETERS
  TIUDA
   TYPE:LIST
   This is a list of records which are to be deleted.
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the number of records actually deleted by the call.
 EXTERNAL ROUTINES:
  

TIU TEMPLATE CHECK BOILERPLATE - BPCHECK^TIUSRVT
 This RPC will evaluate boilerplate passed in the input array, checking to
 see whether any of the embedded objects are inactive, faulty, or
 ambiguous.
 PARAMETERS
  TIUX
   TYPE:LIST
   This is a local array containg boilerplate text for the template in word
 RETURN VALUE
  TYPE: ARRAY
  The return array, TIUY will have the following format:
 EXTERNAL ROUTINES:
  CHECK^TIUFLF3

TIU LINK DOCUMENT TO IMAGE - PUTIMAGE^TIUSRVPL
 This RPC links a document with an image. It will support a many-to-many
 association between documents and images.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number (IEN) of the document in the TIU DOCUMENT FILE
  IMGDA
   TYPE:LITERAL
   This is the record number (IEN) of the document in the IMAGE FILE (#2005).
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return variable is a scalar result. If a link is successfully created, 
 EXTERNAL ROUTINES:
  ^DIC,^DIE

TIU REMOVE LINK TO IMAGE - DELIMAGE^TIUSRVPL
 This RPC will remove a link between a document and an image. Only valid 
 links may be removed.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number (IEN) of the document in the TIU DOCUMENT FILE
  IMGDA
   TYPE:LITERAL
   This is the record number (IEN) of the document in the IMAGE FILE (#2005).
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is a BOOLEAN result. If the call is made with record numbers for which 
 EXTERNAL ROUTINES:
  ^DIE

TIU GET ASSOCIATED IMAGES - GETILST^TIUSRVPL
 Given a Document, get the list of associated images.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number (IEN) of the document in the TIU DOCUMENT FILE
 RETURN VALUE
  TYPE: ARRAY
  This is the list of Images associated with the Document identified by TIUDA.
 EXTERNAL ROUTINES:
  

TIU GET DOCUMENTS FOR IMAGE - GETDLST^TIUSRVPL
 Given an image, get the list of associated documents.
 PARAMETERS
  IMGDA
   TYPE:LITERAL
   This is the record number (IEN) of the image in the IMAGE FILE (#2005). 
 RETURN VALUE
  TYPE: ARRAY
  This is the list of Documents associated with the Image identified by IMGDA.
 EXTERNAL ROUTINES:
  

YTAPI LISTALL - LISTALL^YTAPI
 This API returns all psychological test administrations for a specified 
 patient during a specified time period. No scoring is returned. ASI s and 
 optionally GAF s are also returned.
  
 Input: 
                 DFN : patient internal identifier
                 BEGIN: inclusive date in %DT acceptable format 
 (11/11/2011) to begin search [optional]
                 END: inclusive date in %DT acceptable format (11/11/2011) 
 to end search  [optional]
                 CODE: YS("CODE")="GAF" set to optionally return GAF 
 administrations 
  
 Output:
 YSDATA(1)=[DATA]
 YSDATA(x)= internal administration date^external administration date^test 
 code 
  
 Data is sorted in order of most recent administration to the oldest 
 administration. If no administrations are found YSDATA(2) will not be 
 returned.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$FMTE^XLFDT

YTAPI LISTONE - LISTONE^YTAPI
 This API returns all psychological test administrations for a specified 
 patient during a specified time period  for a specified test or 
 instrument. If a scale is also specified, scoring for that scale is 
 returned. User must have adequate privileges to receive this information 
 (i.e. often the YSP KEY). 
  
  
 Input:
        DFN : patient internal identifier
        CODE: Test code from file 601 including "ASI" and "GAF" 
 e.g. "CAGE", "BDI"
        BEGIN: inclusive date in %DT acceptable format (11/11/2011) to
 begin search [optional]
        END: inclusive date in %DT acceptable format (11/11/2011) 
 to end search  [optional]
        LIMIT: constrains to the last N administrations [optional]
        Scale: scale number from file 601 or 1-7 on ASI [optional]
 Output:
 YSDATA(1)=[DATA]
 YSDATA(x)= internal administration date ^ external administration
 date^test code [^scale name^raw score^transformed score]
  
 Data is sorted in order of most recent administration to the oldest 
 administration. If no administrations are found Array(2) will not be 
 returned. If patient has no psych testing at all ,an error will be 
 returned.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$FMTE^XLFDT,PRIV^YTAPI2,SCOR1^YTAPI2,SF^YTAPI2

YTAPI SCOREIT - SCOREIT^YTAPI2
 This API returns all scoring information for a specified patient given a 
 specified administration date for a specified test or instrument.  User 
 must have adequate privileges to receive this information (i.e. often the 
 YSP KEY)
  
 Input: 
                 DFN : patient internal identifier
                 CODE: Test code from file 601 or "ASI" e.g. "CAGE", "BDI"
 ADATE: inclusive administration date in %DT acceptable format (11/11/2011)
  
 Output:
 Array(2)= Patient Name^Test Code^Test Title^Internal Admin date^External 
 Admin Date ^Ordered by
 Array(3)=R1^Responses 1-200 undelimited
 Array(4)=R2^ Responses 201-400 undelimited (even if less than 200)
 Array(5)=R3^ Responses 401-600 undelimited
 Array(6)=S1^Scale Name^Raw Score^Transformed Score
 Array(7)=S2^ Scale Name^Raw Score^Transformed Score
    And onward as needed
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  CLEAN^YSMTI5,PARSE^YTAPI

YTAPI SAVEIT - SAVEIT^YTAPI1
 This API allows saving of patient responses to a test or interview in the 
 M database. The patient ien, the test code, and administration date is 
 required along with the responses. All responses are checked for 
 validity. No scoring is returned but successful addition to the M 
 database is indicated.
  
 Input: 
                 DFN : patient internal identifier
                 CODE: Test code from file 601 or "ASI" e.g. "CAGE", "BDI"
 ADATE: inclusive administration date in %DT acceptable format (11/11/2011)
                 Staff: DUZ of professional ordering the test
 R1: string of patient responses 1-200
                 R2: string of patient responses 201-400 [as needed]
                 R3: string of patient responses 401-600 [as needed]
  
 Output:
 Array(1)=[DATA] indicates successful  call
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  IX^DIK,PARSE^YTAPI,ENKIL^YTFILE

YTAPI SHOWIT - SHOWIT^YTAPI3
 This API returns the text, bottom, introduction and possible correct 
 responses for a specified test item in file 601. It will work only for 
 tests as opposed to interviews or batteries. The ASI is not supported.
  
 Input: 
                 CODE: Test code from file 601 e.g. "CAGE", "BDI"
 ITEM: a positive whole number between 1 and the highest item number for 
 the specified test.
  
 Output:
 Array(1)=[DATA] ;indicates successful  call
 Array(2)=MMPI2^1 ;SECOND LINE IS TEST Code^ item number
 Array(item number,"I",line number)=introductory text
 Array(item number,"T", line number)=text of question
 Array(item number,"R",0)=allowed responses
 Array(item number,"R",line number)= response cues
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PARSE^YTAPI

YTAPI SHOWALL - SHOWALL^YTAPI3
 This API returns the text, bottom, introduction and possible correct 
 responses for all items in a test in file 601. It will work only for 
 tests as opposed to interviews or batteries. The ASI is not supported.
  
 Input: 
                 CODE: Test code from file 601 e.g. "CAGE", "BDI"
  
 Output:
 Array(1)=[DATA] ;indicates successful  call
 Array(2)=MMPI2 ;SECOND LINE IS TEST Code
 Array(item number,"I",line number)=introductory text
 Array(item number,"T", line number)=text of question
 Array(item number,"R",0)=allowed responses
 Array(item number,"R",line number)= response cues
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PARSE^YTAPI

YS GAF API - GAFHX^YSGAFAPI
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DG SENSITIVE RECORD ACCESS - PTSEC^DGSEC4
 This Remote Procedure Call (RPC) will:
  
         - Verify user is not accessing his/her own Patient file record if
 the Restrict Patient Record Access (#1201) field in the MAS parameters
 (#43) file is set to yes and the user does not hold the DG RECORD ACCESS
 security key.  If parameter set to yes and user is not a key holder , a
 social security number must be defined in the New Person file for the user
 to access any Patient file record.
  
         - Determine if user accessing a sensitive record or an employee's
 record.
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN = Patient (#2) file DFN.
  DGMSG
   TYPE:LITERAL
   DGMSG = 1 - if message should be generated when a user's SSN is undefined
  DGOPT
   TYPE:LITERAL
   Contains Option name
 RETURN VALUE
  TYPE: ARRAY
  RESULT(1) = -1-RPC/API failed 
 EXTERNAL ROUTINES:
  SETLOG1^DGSEC

DG SENSITIVE RECORD BULLETIN - NOTICE^DGSEC4
 This Remote Procedure Call (RPC) will add an entry to the DG SECURITY LOG
 (#38.1) file and/or generate the sensitive record access bulletin
 depending on the value in ACTION input parameter.  If ACTION parameter not
 defined, defaults to update DG Security Log file and generate Sensitive
 Record Access mail message.
 PARAMETERS
  ACTION
   TYPE:LITERAL
   ACTION = 1 - Set DG Security Log entry
  DFN
   TYPE:LITERAL
   DFN = Patient (#2) file DFN
  DGOPT
   TYPE:LITERAL
   DGOPT = Option Name
 RETURN VALUE
  TYPE: SINGLE VALUE
  RESULT=1 - successfully added entry and/or generated sensitive record
 EXTERNAL ROUTINES:
  BULTIN1^DGSEC,SETLOG1^DGSEC

DG CHK BS5 XREF Y/N - GUIBS5^DPTLK6
 CHECKS IF OTHER PATIENTS ON "BS5" XREF WITH SAME LAST NAME
 RETURNS 1 OR 0 IN 1ST STRING (OR -1 IF BAD DFN OR NO ZERO NODE)
 IF 1 RETURNS TEXT TO BE DISPLAYED
 PARAMETERS
  DFN
   TYPE:LITERAL
   PATIENT FILE IEN
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1,DOB^DPTLK1,$$BS5^DPTLK5

DG CHK BS5 XREF ARRAY - GUIBS5A^DPTLK6
 CHECKS IF OTHER PATIENTS ON 'BS5' XREF WITH SAME LAST NAME
 RETURN 1 OR 0 IN 1ST STRING (-1 IF BAD DFN OR NO ZERO NODE).
 RETURNS ARRAY NODES WHERE TEXT IS PRECEEDED BY 0 AND PATIENT DATA
 IS PRECEEDED BY 1.  PATIENT DATA WILL BE IN FOLLOWING FORMAT: 
 1^DFN^PATIENT NAME^DOB^SSN
 PARAMETERS
  DFN
   TYPE:LITERAL
   PATIENT FILE IEN
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1,DOB^DPTLK1,$$BS5^DPTLK5

DG CHK MEANS TEST DIV DISPLAY - GUIDMT^DPTLK6
 CHECKS DIVISION FILE FOR DIV USER IS IN 
 IF MEANS TEST REQUIRED IS SET TO YES
 RETURNS 1 IN 1ST STRING AND MEANS TEST TEXT  
 IN 2ND AND 3RD STRING (IF ANY) OTHERWISE RETURNS 0 IN 1ST STRING
 PARAMETERS
  DUZ2
   TYPE:LITERAL
   Institution file pointer
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DG CHK PAT MEANS TEST REQUIRED - GUIMT^DPTLK6
 CHECKS WHETHER MEANS TEST IS REQUIRED FOR PATIENT
 RETURNS 1 OR 0
 PARAMETERS
  DFN
   TYPE:LITERAL
   PATIENT FILE IEN
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CMTS^DGMTU,$$MFLG^DGMTU

DG CHK PAT/DIV MEANS TEST - GUIMTD^DPTLK6
 CHECKS IF MEANS TEST REQUIRED FOR PATIENT AND
 CHECKS IF MEANS TEST DISPLAY REQUIRED FOR USER'S DIVISION
 RETURNS 1 IN 1ST STRING IF BOTH TRUE OTHERWISE 0
 IF BOTH TRUE RETURNS TEXT IN 2ND AND 3RD STRING (IF ANY)
 PARAMETERS
  DFN
   TYPE:LITERAL
   PATIENT IEN
  DUZ2
   TYPE:LITERAL
   Institution file pointer
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$CMTS^DGMTU,$$MFLG^DGMTU

PSB CHECK SERVER - CHECK^PSBUTL
 Returns -1 or 1 when checking for patches and build on the server.
 PARAMETERS
  PSBWHAT
   TYPE:LIST
   B = Returns Build Version for packages by Namespace
  PSBDATA
   TYPE:LIST
   Build/Package namespace (i.e. PSB) or Patch Number
 RETURN VALUE
  TYPE: ARRAY
  (0)=   -1^Error Description                      
 EXTERNAL ROUTINES:
  $$PATCH^XPDUTL,$$VERSION^XPDUTL

TIU TEMPLATE ACCESS LEVEL - TACCESS^TIUSRVT2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ISEDITOR^TIUSRVT,$$ISA^USRLM,$$GET^XPAR,GETLST^XPAR

TIU GET DOCUMENT TITLE - GETTITLE^TIUSRVA
 This remote procedure returns the pointer to the TIU DOCUMENT DEFINITION
 FILE that corresponds to the TITLE of the document identified in the TIUDA
 parameter.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the internal entry number (IEN) of the document in the TIU
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the internal entry number (IEN) of the document's TITLE in the TIU
 EXTERNAL ROUTINES:
  

VAFCTFU CONVERT DFN TO ICN - GETICN^VAFCTFU1
 This will return the Integration Control Number (ICN) from the
 Maser Patient Index (MPI) for a patient.
 PARAMETERS
  PATIENT IEN
   TYPE:LITERAL
   The patient Internal Entry Number (IEN).
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the Integration Control Number (ICN) from the Master 
 EXTERNAL ROUTINES:
  $$GETICN^MPIF001

VAFCTFU CONVERT ICN TO DFN - GETDFN^VAFCTFU1
 Given a patient Integration Control Number (ICN), this will return
 the patient Internal Entry Number (IEN) from the PATIENT file (#2).
 PARAMETERS
  PATIENT ICN
   TYPE:LITERAL
   Patient Integration Control Number (ICN).
 RETURN VALUE
  TYPE: SINGLE VALUE
  Patient DFN.
 EXTERNAL ROUTINES:
  $$GETDFN^MPIF001

VAFCTFU LOCAL ICN - IFLOCAL^VAFCTFU1
 Given a patient DFN, it will determine if the Integration Control 
 Number (ICN) assigned to the patient is a local ICN or a national ICN.
 PARAMETERS
  Patient DFN.
   TYPE:LITERAL
   Patient DFN from PATIENT file (#2).
 RETURN VALUE
  TYPE: SINGLE VALUE
  This function is used to see if a patient has a local Integration 
 EXTERNAL ROUTINES:
  $$IFLOCAL^MPIF001

VAFCTFU GET TREATING LIST - TFL^VAFCTFU1
 Given a patient DFN, this will return a list of treating facilities.
 PARAMETERS
  Patient DFN.
   TYPE:LITERAL
   Patient DFN from PATIENT file (#2).
 RETURN VALUE
  TYPE: WORD PROCESSING
  This will return a list of treating facilities in the following
 EXTERNAL ROUTINES:
  EN^DIQ1,$$GETICN^MPIF001

TIU LONG LIST BOILERPLATED - LONGLIST^TIUSRVT1
 Used by the GUI to supply a long list of boilerplated titles.
 PARAMETERS
  FROM
   TYPE:LITERAL
   This is the reference title from which the longlist is scrolling.
  DIR
   TYPE:LITERAL
   This is the direction in which the longlist is scrolling from the
 RETURN VALUE
  TYPE: ARRAY
  This is an array of the 44 nearest titles to that indicate by the user in
 EXTERNAL ROUTINES:
  $$CANENTR^TIULP,$$CANPICK^TIULP

TIU GET BOILERPLATE - TITLEBP^TIUSRVT1
 Returns a titles boilerplate.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Title IEN
 RETURN VALUE
  TYPE: ARRAY
  Title's Boilerplate.
 EXTERNAL ROUTINES:
  

GMRCSTLM SERVICE AND STATUS - ENOR^GMRCSTLM
 This returns a report of consults for a service/grouper for a
 given set of statuses and date range.
 PARAMETERS
  SERVICE
   TYPE:REFERENCE
   The service or grouper to create the list for.  The default if none is
  START DATE
   TYPE:LITERAL
   This is the start date range for the report or "ALL" for all dates.  The
  END DATE
   TYPE:LITERAL
   This is the ending date range for the report.  Not used if the START DATE
  STATUSES
   TYPE:LITERAL
   This is a comma separated list of the statuses to include in the report.
  LIST CONTROL
   TYPE:LITERAL
      0, null or not define then just the display list is displayed
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  WAIT^DICD,$$GET1^DIQ,SERV1^GMRCASV,LISTDATE^GMRCSTU1

GMRCSTU COMPLETION STATISTICS - ENOR^GMRCSTU
 This returns a report of completion time statistics for a consult
 service/grouper for a given set of statuses and date range.
 PARAMETERS
  SERVICE
   TYPE:REFERENCE
   The service or grouper to create the list for.  The default if none is
  START DATE
   TYPE:LITERAL
   This is the start date range for the report or "ALL" for all dates.  The
  END DATE
   TYPE:LITERAL
   This is the ending date range for the report.  Not used if the START DATE
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  SERV1^GMRCASV,LISTDATE^GMRCSTU1

YTAPI PREVIEW - PREVIEW^YTAPI4
 This API allows scoring of patient responses to a test or interview 
 without making changes in the  M database. The patient ien, the test 
 code, and administration date is required along with the responses. All 
 responses are checked for validity. Scoring is returned in the output 
 documented  in the SCOREIT API.
  
 Input: 
                 DFN : patient internal identifier
                 CODE: Test code from file 601 or "ASI" e.g. "CAGE", "BDI"
 ADATE: inclusive administration date in %DT acceptable format (11/11/2011)
                 Staff: DUZ of professional ordering the test
 R1: string of patient responses 1-200
                 R2: string of patient responses 201-400 [as needed]
                 R3: string of patient responses 401-600 [as needed]
  
 Output:
 Array(2)= Patient Name^Test Code^Test Title^Internal Admin date^External 
 Admin Date ^Ordered by
 Array(3)=R1^Responses 1-200 undelimited
 Array(4)=R2^ Responses 201-400 undelimited (even if less than 200)
 Array(5)=R3^ Responses 401-600 undelimited
 Array(6)=S1^Scale Name^Raw Score^Transformed Score
 Array(7)=S2^ Scale Name^Raw Score^Transformed Score
    And onward as needed
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PARSE^YTAPI,SAVEIT^YTAPI1,SCOREIT^YTAPI2

YTAPI OUTNOTE - OUTNOTE^YTAPI5
 This API returns text to be entered in a progress note based on the 
 outcome of a test administration. Input is the output of  SCOREIT or 
 PREVIEW API. Output adds this text to the output YSDATA
  
 Input: 
 Array(2)= Patient Name^Test Code^Test Title^Internal Admin date^External 
 Admin Date ^Ordered by
 Array(3)=R1^Responses 1-200 undelimited
 Array(4)=R2^ Responses 201-400 undelimited (even if less than 200)
 Array(5)=R3^ Responses 401-600 undelimited
 Array(6)=S1^Scale Name^Raw Score^Transformed Score
 Array(7)=S2^ Scale Name^Raw Score^Transformed Score
    And onward as needed
  
  
 Output:
 Array(2)= Patient Name^Test Code^Test Title^Internal Admin date^External 
 Admin Date ^Ordered by
 Array(3)=R1^Responses 1-200 undelimited
 Array(4)=R2^ Responses 201-400 undelimited (even if less than 200)
 Array(5)=R3^ Responses 401-600 undelimited
 Array(6)=S1^Scale Name^Raw Score^Transformed Score
 Array(7)=S2^ Scale Name^Raw Score^Transformed Score
    And onward as needed
 Array("ON")= output text
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

TIU GET REQUEST - GET1405^TIUSRVR
 This Remote Procedure returns the variable pointer to the REQUESTING
 PACKAGE REFERENCE (File #8925, Field #1405). This would be the record in
 the Requesting Package (e.g., Consult/Request Tracking or Surgery) for
 which the resulting document has been entered in TIU.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the record number (IEN) of the document in the TIU Document File
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the Variable pointer (e.g., "15741;GMR(123,") to the corresponding
 EXTERNAL ROUTINES:
  

TIU GET DEFAULT PROVIDER - DEFDOC^TIUSRVP1
 This RPC returns the default provider as specified by the TIU Site Parameter
 DEFAULT PRIMARY PROVIDER, which has the following allowable values:
 
 0      NONE, DON'T PROMT
 In which case the call will return 0^
 
 1      DEFAULT, BY LOCATION
 In this case, the call will return the default provider for a given Hospital
 Location, as specified in the set-up for the Clinic in MAS. If a default
 provider is specified for the location in question, that person will be
 returned. If the Clinic set-up specifies use of the Primary Provider (if 
 defined) for the patient, then that person will be returned. The return
 format will be DUZ^LASTNAME,FIRSTNAME.
 
 2      AUTHOR (IF PROVIDER)
 In this case, the call will return the current user (if they are a known 
 Provider). If their not a known Provider, then the call will return 0^.
 PARAMETERS
  HLOC
   TYPE:LITERAL
   Pointer to the Hospital Location File (#44).
  USER
   TYPE:LITERAL
   Optional Pointer to the New Person File (#200) identifying the Author. If 
  TIUIEN
   TYPE:LITERAL
   This is the Record # (IEN) of the document in the TIU DOCUMENT FILE
 RETURN VALUE
  TYPE: SINGLE VALUE
  This RPC returns the default provider as specified by the TIU Site Parameter
 EXTERNAL ROUTINES:
  $$DFLTDOC^TIUPXAPI

TIU GET SITE PARAMETERS - SITEPARM^TIUSRVP1
 This RPC returns the TIU Parameters for the Division the user is logged in 
 to.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The call returns a '^'-delimited string, with the following pieces:
 EXTERNAL ROUTINES:
  SETPARM^TIULE

TIU IS USER A PROVIDER? - ISAPROV^TIUSRVP1
 This Boolean RPC returns TRUE if the user was a known provider on the date 
 specified.
 PARAMETERS
  USER
   TYPE:LITERAL
   Optional pointer to the NEW PERSON FILE (#200). If user is unspecified the 
  DATE
   TYPE:LITERAL
   Optional FileMan formatted date (time). If none is provided the current date 
 RETURN VALUE
  TYPE: SINGLE VALUE
  0=FALSE
 EXTERNAL ROUTINES:
  $$PROVIDER^TIUPXAP1

TIU GET PRINT NAME - GETPNAME^TIUSRVP1
 This Remote Procedure receives a pointer to the TIU DOCUMENT DEFINITION
 FILE (#8925.1) and returns a string containing the Print Name of the
 corresponding Document Definition.
 PARAMETERS
  TIUTYPE
   TYPE:LITERAL
   This is a pointer to the TIU DOCUMENT DEFINITION FILE (#8925.1).
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is a string containing the Print Name of the Document Definition
 EXTERNAL ROUTINES:
  $$PNAME^TIULC1

TIU WAS THIS SAVED? - SAVED^TIUSRVP1
 This Boolean Remote Procedure will evaluate whether a given document was
 committed to the database, or whether the user who last edited it was
 disconnected.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the Internal Entry Number of the Document in the TIU Document File
 RETURN VALUE
  TYPE: SINGLE VALUE
  This Boolean result will be returned TRUE (1) if the document was
 EXTERNAL ROUTINES:
  

XWB IS RPC AVAILABLE - CKRPC^XWBLIB
 If RPC is installed, available in relevant context, and of proper version
 returns 1.  
 Otherwise, returns 0.
 PARAMETERS
  RPC
   TYPE:LITERAL
   Name of the RPC to be tested.
  RUN CONTEXT
   TYPE:LITERAL
   Specific context in which RPC will run.  Possible values are:
  VERSION NUMBER
   TYPE:LITERAL
   Minimum version number of the RPC.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean.  1 = RPC available.
 EXTERNAL ROUTINES:
  

XWB ARE RPCS AVAILABLE - CKRPCS^XWBLIB
 If RPC in the passed array is installed, available in relevant context,
 and of proper version returns 1 for that RPC. Otherwise, returns 0.
 PARAMETERS
  RPC
   TYPE:LIST
   This 0-based array contains list of RPCs to be checked along with
  RUN CONTEXT
   TYPE:LITERAL
   Specific context in which RPCs will run.  Possible values are:
 RETURN VALUE
  TYPE: ARRAY
  A 0-based array.  The index corresponds to the index of the RPC in the RPC
 EXTERNAL ROUTINES:
  

XWB REMOTE RPC - EN1^XWB2HL7
 This is the RPC that is called to request that an application RPC
 be run on a remote system.  The data is passed by HL7 to the remote system
 as is the return value.  
  
 This RPC will return a HANDLE that can be used to check if the data has
 been sent back from the remote system.  The HANDLE can be used in another
 RPC to check the status of the RPC.
 PARAMETERS
  LOC
   TYPE:LITERAL
   This is the Institution's station # to send the RPC to.
  RRPC
   TYPE:LITERAL
   This is the name of the remote RPC to be run.
  IP1
   TYPE:LITERAL
   This is the first input parameter to the remote RPC.
  IP2
   TYPE:LITERAL
   This is the second input parameter to the remote RPC.
 RETURN VALUE
  TYPE: ARRAY
   The return value is always an array.  The first node of the array is
 EXTERNAL ROUTINES:
  ^%ZTLOAD,SETNODE^XWBDRPC

XWB REMOTE STATUS CHECK - RPCCHK^XWB2HL7
 This RPC will return the status of a remote RPC.
 PARAMETERS
  HANDLE
   TYPE:LITERAL
   This is the handle used to check the status of the remote RPC.
 RETURN VALUE
  TYPE: ARRAY
   The return value is always an array.  The first node of the array is
 EXTERNAL ROUTINES:
  $$MSGSTAT^HLUTIL,$$CHKHDL^XWBDRPC

XWB REMOTE GETDATA - RTNDATA^XWBDRPC
 This RPC will return an ARRAY with what ever data has been sent back from
 the remote site.
 PARAMETERS
  HANDLE
   TYPE:LITERAL
   The HANDLE from the XWB REMOTE RPC call. It is used to link the call to
 RETURN VALUE
  TYPE: ARRAY
   The return value is the array of data.  In the event of an error
 EXTERNAL ROUTINES:
  $$CHKHDL^XWBDRPC,$$RTRNFMT^XWBLIB

XWB DEFERRED RPC - EN1^XWBDRPC
 This is the RPC that is called to request that a RPC be run through
 taskman in the background.
  
 The first parameter is the name of the RPC to be run.
  
 The next 1-10 parameters are the ones for the RPC.
 PARAMETERS
  RPC
   TYPE:LITERAL
   This parameter is the name of the RPC to be run in the background.  This
 RETURN VALUE
  TYPE: ARRAY
  The return value is always an array.  The first node of the array is equal
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$RPCAVAIL^XWBLIB,$$RPCIEN^XWBLIB

XWB DEFERRED STATUS - RPCCHK^XWBDRPC
 This RPC will return the status of a deferred RPC.
 PARAMETERS
  HANDLE
   TYPE:LITERAL
   The handle returned from the XWB DEFERRED RPC.
 RETURN VALUE
  TYPE: ARRAY
    The return value is always an array.  The first node of the array is
 EXTERNAL ROUTINES:
  

XWB DEFERRED GETDATA - RTNDATA^XWBDRPC
 This RPC is used to return the data from the XWB DEFERRED RPC call.
 PARAMETERS
  HANDLE
   TYPE:LITERAL
   The HANDLE from the XWB DEFERRED RPC. It is used to link the call to the
 RETURN VALUE
  TYPE: ARRAY
   The return value is the array of data.  In the event of an error
 EXTERNAL ROUTINES:
  $$CHKHDL^XWBDRPC,$$RTRNFMT^XWBLIB

XWB DIRECT RPC - DIRECT^XWB2HL7
  This is the Broker RPC that is called to request that a RPC be run on a
 remote system.  The data is passed by HL7 to the remote system as is the
 return value.  The difference between this and the XWB REMOTE RPC is this
 is a blocking call meaning the user's workstation will not process
 anything else until the data returns from the remote system.
 PARAMETERS
  LOC
   TYPE:LITERAL
   This is the Institution's station # to send the RPC to.
  RRPC
   TYPE:LITERAL
   This is the name of the remote RPC to be run.
 RETURN VALUE
  TYPE: ARRAY
    The return value is the array of data. In the case of an error
 EXTERNAL ROUTINES:
  DIRECT^XWB2HL7A,RTNDATA^XWBDRPC

XWB REMOTE CLEAR - CLEAR^XWBDRPC
 This RPC is used to CLEAR the data under a HANDLE in the ^XTMP global.
 PARAMETERS
  HANDLE
   TYPE:LITERAL
   This is the HANDLE from the XWB REMOTE RPC.
 RETURN VALUE
  TYPE: ARRAY
  The return value is always an array.  The first node of the array is equal
 EXTERNAL ROUTINES:
  

XWB DEFERRED CLEAR - CLEAR^XWBDRPC
 This RPC is used to CLEAR the data under a handle in the ^XTMP global.
 PARAMETERS
  HANDLE
   TYPE:LITERAL
   This is the HANDLE from the XWB DEFERRED RPC.
 RETURN VALUE
  TYPE: ARRAY
  The return value is always an array.  The first node of the array is equal
 EXTERNAL ROUTINES:
  

XWB DEFERRED CLEARALL - CLEARALL^XWBDRPC
 This RPC is used to CLEAR all the data known to this job in the ^XTMP
 global.  Makes use of the list in ^TMP("XWBHDL",$J,handle).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The return value is always an array.  The first node of the array is equal
 EXTERNAL ROUTINES:
  

XUS GET TOKEN - ASH^XUSRB4
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  This RPC returns a handle to a token that will sign-on a new process.
 EXTERNAL ROUTINES:
  FILE^DIE,$$GET1^DIQ

DG PATIENT TREATMENT DATA - RPC^DGPTFAPI
 Returns data from Patient Treatment file (#45).
 Results(0)=1 (-1 if error)
        (1)=type of disposition^place of disposition^primary ICD9 code
        (2)=2nd thru 10th ICD9 codes (uses "^" as delimiter)
 (more data may be added later) 
 PARAMETERS
  PTFNUMBER
   TYPE:LITERAL
   the Patient Treatment IFN (.001 of #45 file)
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ICDDX^ICDCODE,$$GETDATE^ICDGTDRG

ORWU GENERIC - GENERIC^ORWU
 Returns a list of entries from a cross-reference passed in.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDX ORDITM - ORDITM^ORWDX
 Returns an array of orderable items in the format:
    Y(n)=IEN^.01 Name^.01 Name  -or-  IEN^Synonym <.01 Name>^.01 Name
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

ORWDX DLGDEF - DLGDEF^ORWDX
 Return format information for an order dialog in the format:
    LST(n): PrmtID^PrmtIEN^FmtSeq^Fmt^Omit^Lead^Trail^NwLn^Wrap^Chld^IsChld
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DLGDEF^ORWDX1

ORWDX DLGQUIK - DLGQUIK^ORWDX
 Return responses for a quick order (no longer used).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPCE IMM - IMM^ORWPCE
 Returns a list of immunizations for a clinic.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^IBDF18A

ORWPCE SK - SK^ORWPCE
 Returns a list of skin tests for a clinic.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^IBDF18A

ORWPCE PED - PED^ORWPCE
 Returns list of education topics for a clinic.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^IBDF18A

ORWPCE HF - HF^ORWPCE
 Returns a list of health factors for a clinic.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^IBDF18A

ORWPCE TRT - TRT^ORWPCE
 Returns a list of treatments for a clinic.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^IBDF18A

ORWPCE XAM - XAM^ORWPCE
 Returns a list of exams for a clinic.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^IBDF18A

ORWPCE GET SET OF CODES - GETSET^ORWPCE2
 Returns values for a set of codes given a file and field number.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID

ORWPCE GET IMMUNIZATION TYPE - IMMTYPE^ORWPCE2
 Returns a list of active immunizations.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPCE GET SKIN TEST TYPE - SKTYPE^ORWPCE2
 Returns a list of the active skin test codes.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPCE GET EDUCATION TOPICS - EDTTYPE^ORWPCE2
 Returns a list of active education topics.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPCE GET HEALTH FACTORS TY - HFTYPE^ORWPCE2
 Returns a list of active health factor types.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPCE GET EXAM TYPE - EXAMTYPE^ORWPCE2
 Returns the list of active exam types.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPCE GET TREATMENT TYPE - TRTTYPE^ORWPCE2
 Returns the list of active treatments.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDCN32 DEF - DEF^ORWDCN32
 Load dialog data (lists & defaults) for a consult order. (32-BIT)
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDRA32 DEF - DEF^ORWDRA32
 Loads dialog data (lists & defaults) for a radiology order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDX SAVE - SAVE^ORWDX
 Save the order by passing in the following information:
         ORVP=DFN
         ORNP=Provider
         ORL=Location
         DLG=Order Dialog,
         ORDG=Display Group
         ORIT=Quick Order Dialog,
         ORIFN=null if new order
         ORDIALOG=Response List
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$INPT^ORCD,$$PTR^ORCD,GETDLG1^ORCD,EN^ORCSAVE,XX^ORCSAVE,$$DGRP^ORMLR,DELPI^O
RWDX1,GETBYIFN^ORWORR

ORWDPS32 DLGSLCT - DLGSLCT^ORWDPS32
 Returns default lists for order dialogs in CPRS GUI.
 PARAMETERS
  PSTYPE
   TYPE:LITERAL
   Code to determine the Dialog Type
  DFN
   TYPE:LITERAL
  LOCIEN
   TYPE:LITERAL
   This will be set to the patient inpatient location IEN from file 44.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDPS32 OISLCT - OISLCT^ORWDPS32
 Returns defaults for pharmacy orderable items.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDPS32 ALLROUTE - ALLROUTE^ORWDPS32
 Returns a list of all available medication routes.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ALL^PSS51P2

ORWDLR32 DEF - DEF^ORWDLR32
 Get lab order dialog definition.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR32 LOAD - LOAD^ORWDLR32
 Return sample, specimen, & urgency info about a lab test.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  TEST^LR7OR3

ORWDLR32 ALLSAMP - ALLSAMP^ORWDLR32
 Returns all collection samples in the format:
    n^SampIEN^SampName^SpecPtr^TubeTop^^^LabCollect^^SpecName
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR32 ABBSPEC - ABBSPEC^ORWDLR32
 Returns a list of lab specimens with abbreviations.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR32 STOP - STOP^ORWDLR33
 Returns a calculated stop date for a lab order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  C^%DTC

ORWDX SEND - SEND^ORWDX
 RPC to sign a list of orders with input as follows:
         DFN=Patient
         ORNP=Provider
         ORL=Location
         ES=Encrypted ES code 
         ORWREC(n)=ORIFN;Action^Signature Sts^Release Sts^Nature of Order
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN^ORCSEND,EN2^ORCSEND,$$TYPE^OREVNTX,BHS^ORMBLD,BTS^ORMBLD,SAVE^ORMEVNT1,SM^O
RWDX2,$$CHKACT^ORWDXR,$$LCKEVT^ORX2,$$LOCK1^ORX2,UNLEVT^ORX2,UNLK1^ORX2

ORWDPS32 AUTH - AUTH^ORWDPS32
 Checks restrictions for entering inpatient meds.  If no restrictions, a 0
 is returned.  If there is a restriction, it is returned in the format:
      1^restriction text 
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWDPS32 DRUGMSG - DRUGMSG^ORWDPS33
 Return message text that is associated with a dispense drug.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ENDCM^PSJORUTL

ORWDPS32 MEDISIV - MEDISIV^ORWDPS33
 Return 1 if orderable item is an IV medication, otherwise return 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS32 FORMALT - FORMALT^ORWDPS33
 Return a list of formulary alternatives.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ENRFA^PSJORUTL

ORWDX WRLST - WRLST^ORWDX
 Return list of dialogs for writing orders in format:
         Y(n)=DlgName^ListBox Text
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  WRLST1^ORWDX1

ORQQCN LIST - LIST^ORQQCN
 Returns a list of consult requests for a patient within optional date range
 and optional service.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   Patient DFN from File #2 (Patient File.)
  START DATE
   TYPE:LITERAL
   Optional start date to begin the search.
  STOP DATE
   TYPE:LITERAL
   Optional stop date to end the search.
  SERVICE
   TYPE:LITERAL
   Optional consulting service from the Request Service file (#123.5).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array of consult requests in the form:
 EXTERNAL ROUTINES:
  OER^GMRCSLM1

ORQQCN DETAIL - DETAIL^ORQQCN
 Returns formatted detailed information regarding the consult request,
 including result report if available.
 PARAMETERS
  CONSULT ID
   TYPE:LITERAL
   Consult ID or identifier
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Formatted array of the detailed request and result report (if any).
 EXTERNAL ROUTINES:
  DT^GMRCSLM2

ORK TRIGGER - EN^ORKCHK
 This function returns a list of order check messages.  
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   The record number from the Patient File [#2].
  ORDER INFO
   TYPE:LIST
   Array of order information in the format: orderable item #|filler app|
  ORDER MODE/EVENT
   TYPE:LITERAL
   Indicates the mode or event which trigger the need for order checking.
 RETURN VALUE
  TYPE: ARRAY
  Array of formatted order check messages in the format:
 EXTERNAL ROUTINES:
  $$GET1^DIQ,EN^ORB3,EN^ORKCHK3,EN^ORKCHK4,EN^ORKCHK5,EN^ORKCHK6,EN^ORQ1,$$ORDER
ER^ORQOR2,$$PRIM^ORQPTQ4,OERR^VADPT,$$FMADD^XLFDT,$$NOW^XLFDT,$$GET^XPAR

ORQQCN RECEIVE - RC^ORQQCN1
 Test version of RECEIVE CONSULT for use with GUI.  (REV - 8/22/97)
 PARAMETERS
  CONSULT ID
   TYPE:LITERAL
   Consult IEN from Consults file (123).
  CONSULT RECEIVER
   TYPE:LITERAL
   Person receiving the consult, not necessarily the enterer of the action.
 RETURN VALUE
  TYPE: SINGLE VALUE
  '0' IF SUCCESSFUL, '1^error message' if unsuccessful
 EXTERNAL ROUTINES:
  $$RC^GMRCGUIA

ORQQCN DISCONTINUE - DC^ORQQCN1
 Discontinue a consult or deny a consult request.
 PARAMETERS
  CONSULT ID
   TYPE:LITERAL
   Internal file number of the consult/request.
  PROVIDER ID
   TYPE:LITERAL
   Internal file number of the person discontinuing/denying the consult.
  DATE OF ACTION
   TYPE:LITERAL
   Date of the discontinuance/denial of the consult.
  ACTION TYPE
   TYPE:LITERAL
   'DC' for discontinue, 'DY' for deny
  COMMENTS
   TYPE:WORD PROCESSING
   Array of comments related to the discontinuance/denial of the consult.
 RETURN VALUE
  TYPE: SINGLE VALUE
  '1^Error message' if unsuccessful
 EXTERNAL ROUTINES:
  $$DC^GMRCGUIA,OER^GMRCSLM1

ORQQCN FORWARD - FR^ORQQCN1
 Forwards a consult to a subservice of the forwarding service, as defined
 in file 123.5
 PARAMETERS
  CONSULT ID
   TYPE:LITERAL
   Consult IEN from file 123
  TO SERVICE
   TYPE:LITERAL
   Service to which the consult is to be forwarded.  Pointer to file 123.5
  FORWARDER
   TYPE:LITERAL
   Person performing the forwarding action.  If null, defaults to user DUZ.
  ATTENTION OF
   TYPE:LITERAL
   Person to whose attention the consult is being forwarded in the
  URGENCY
   TYPE:LITERAL
   Urgency of the request, as defined in PROTOCOL file.
  COMMENTS
   TYPE:LIST
   Comments related to the forwarding action.
 RETURN VALUE
  TYPE: SINGLE VALUE
  '0' if successful
 EXTERNAL ROUTINES:
  $$FR^GMRCGUIA

ORQQCN SET ACT MENUS - SETACTM^ORQQCN1
 Based on the IEN of the consult passed in, returns a string representing
 various facets of the user's access level for that consult and service.
 This allows dynamic enabling/disabling of GUI menus based on the user's
 ability to act on that particular consult.  
 PARAMETERS
  CONSULT ID
   TYPE:LITERAL
   Internal file number of the selected consult.
 RETURN VALUE
  TYPE: SINGLE VALUE
   Piece 1 :    1: equivalent to GMRCACTM USER REVIEW SCREEN - simple
 EXTERNAL ROUTINES:
  CPRS^GMRCACTM

ORQQCN URGENCIES - URG^ORQQCN1
 Returns a list of applicable urgencies from PROTOCOL file 101,
 given a ConsultIEN and type.
 PARAMETERS
  Consult ID
   TYPE:LITERAL
   Internal file number of consult in file 123.
  Request type
   TYPE:LITERAL
   Consult or procedure.  Pointer to PROTOCOL file 101.  Value is
 RETURN VALUE
  TYPE: ARRAY
  Returns list of urgencies that apply to this request or procedure.
 EXTERNAL ROUTINES:
  

ORQQCN ADDCMT - CMT^ORQQCN2
 Allows addition of a comment to a consult request/consult without changing
 its status. Optionally, allows sending of an alert to the requesting
 provider and others.
 PARAMETERS
  Consult ID
   TYPE:LITERAL
   Internal entry number of the consult in file 123, REQUEST/CONSULT.
  Comments
   TYPE:LIST
   Array of comments in the form ARRAY(0)..ARRAY(n).
  Alert
   TYPE:LITERAL
   If '1', send an alert to the requesting provider.  Otherwise, don't.
  Alert to
   TYPE:LITERAL
   Contains pointers to NEW PERSON FILE (200) for those to receive alert for
 RETURN VALUE
  TYPE: SINGLE VALUE
  0 if successful, '1^error message' if unsuccessful
 EXTERNAL ROUTINES:
  CMT^GMRCGUIB,$$NOW^XLFDT

ORQQCN GET CONSULT - GETCSLT^ORQQCN1
 Given a Consult ID from file 123, return the zero node to the client for
 loading into a consult record in RESULTS[0].  If the consult has any
 associated TIU records (completion, addenda) these will be returned in
 RESULTS[i..j].
 PARAMETERS
  Consult ID
   TYPE:LITERAL
   Consult IEN from file #123, REQUEST/CONSULT.
 RETURN VALUE
  TYPE: ARRAY
  '-1^error message' if unsuccessful
 EXTERNAL ROUTINES:
  DOCLIST^GMRCGUIB,$$HASDAD^TIUSRVLI,$$HASKIDS^TIUSRVLI,SETDAD^TIUSRVLI,SETKIDS^
TIUSRVLI,$$RESOLVE^TIUSRVLO,$$PATCH^XPDUTL

ORQQCN SVCTREE - SVCTREE^ORQQCN2
 Returns a specially formatted list of consult services for use in
 populating a GUI TreeView control.
 PARAMETERS
  PURPOSE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SERV1^GMRCASV

ORQQCN STATUS - STATUS^ORQQCN2
 Returns a list of consult statuses currently in use, as reflected in the
 "AC" XREF of ^GMR(123.1.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  List of [Status IEN in ^ORD(100.01 concatenated with status text]
 EXTERNAL ROUTINES:
  $$SCREEN^XTID

ORQQCN MED RESULTS - MEDRSLT^ORQQCN2
 Returns a display of Medicine Package results, followed by any TIU
 results.
 PARAMETERS
  Consult ID
   TYPE:LITERAL
   Internal entry number of the consults request in file 123,
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Medicine results, followed by TIU results, in word processing format.
 EXTERNAL ROUTINES:
  RT^GMRCGUIA

ORQQVI VITALS FOR DATE RANGE - VITALS^ORQQVI
 Function returns a patient's vital measurements between start date and 
 stop date.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient id (DFN) from Patient File (#2).
  START DATE/TIME
   TYPE:LITERAL
   Start date/time for vital retrieval in Fileman format.
  STOP DATE/TIME
   TYPE:LITERAL
   Stop date/time for vital retrieval in Fileman format.
 RETURN VALUE
  TYPE: ARRAY
  Array of patient vitals within start and stop date/times.  If no start and
 EXTERNAL ROUTINES:
  EN1^GMRVUT0

ORQQVI2 VITALS HELP - HELP^ORQQVI2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  HELP^GMRVPCE0

ORQQVI2 VITALS RATE CHECK - RATECHK^ORQQVI2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$RATECHK^GMRVPCE0

ORQQVI2 VITALS VALIDATE - VALIDATE^ORQQVI2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  VALIDATE^GMRVPCE0

ORQQVI2 VITALS VALIDATE TYPE - VMTYPES^ORQQVI2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$VMTYPES^GMRVPCE0

ORQQVI2 VITALS VAL & STORE - VALSTORE^ORQQVI2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  STORE^GMRVPCE0,VALIDATE^GMRVPCE0

ORQQCN SHOW SF513 - SHOW513^ORQQCN2
 Returns text of consults standard form 513 for display in GUI application.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GUI^GMRCP5

ORQQCN PRINT SF513 - PRT513^ORQQCN2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^GMRCP5,PRNT^GMRCP5A,$$HFS^ORWRP,HFSCLOSE^ORWRP,HFSOPEN^ORWRP,IOVAR^ORWRP,SE
TITEM^ORWRP

ORWDRA32 PROCMSG - PROCMSG^ORWDRA32
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDCN32 ORDRMSG - ORDRMSG^ORWDCN32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDRA32 RAORDITM - RAORDITM^ORWDRA32
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDRA32 ISOLATN - ISOLATN^ORWDRA32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$IP^ORMBLD

ORWDRA32 APPROVAL - APPROVAL^ORWDRA32
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACTIVE^XUSER

ORWDXA VALID - VALID^ORWDXA
 Returns an error message if the selected action is not valid for a
 particular CPRS GUI order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$VALID^ORCACT0,XFR^ORCACT01,AUTH^ORWDPS32,ISVALIV^ORWDPS33,FORMID^ORWDXM,GTOR
ITM^ORWDXR,VALSCH^ORWNSS

ORWDXA HOLD - HOLD^ORWDXA
 RPC to place an existing order on hold.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACTION^ORCSAVE,GETBYIFN^ORWORR

ORWDXA UNHOLD - UNHOLD^ORWDXA
 RPC to remove a particular order from hold status.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACTION^ORCSAVE,GETBYIFN^ORWORR

ORWDXA DC - DC^ORWDXA
 RPC to discontinue, cancel, or delete an existing order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$PRINT^ORCACT2,SET^ORCACT2,$$NMSP^ORCD,$$ACTION^ORCSAVE,CANCEL^ORCSAVE2,DELET
E^ORCSAVE2,STATUS^ORCSAVE2,GETBYIFN^ORWORR,^XMB

ORWDXA DCREASON - DCREASON^ORWDXA
 RPC to return a list of valid discontinuation reasons.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDXA ALERT - ALERT^ORWDXA
 Set order to send an alert when the order is resulted.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ORDERER^ORQOR2

ORWDXA FLAG - FLAG^ORWDXA
 Flag an existing order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN^OCXOERR,MSG^ORCFLAG,GETBYIFN^ORWORR,$$FMTE^XLFDT,$$NOW^XLFDT,KILL^XM

ORWDXA UNFLAG - UNFLAG^ORWDXA
 Unflag an existing order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN^OCXOERR,MSG^ORCFLAG,GETBYIFN^ORWORR,$$NOW^XLFDT

ORWDXA FLAGTXT - FLAGTXT^ORWDXA
 Return text associated with a particular flagged order (reason for flag).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$FMTE^XLFDT

ORWDXA COMPLETE - COMPLETE^ORWDXA
 Complete an order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  COMP^ORCSAVE2,GETBYIFN^ORWORR

ORWDXA VERIFY - VERIFY^ORWDXA
 Verify an order via CPRS GUI.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  REPLCD^ORCACT1,EN^ORCSEND,GETBYIFN^ORWORR,UNLK1^ORX2

ORWDPS32 SCSTS - SCSTS^ORWDPS33
 Return pharmacy-related service connected eligibility for a patient.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$RXST^IBARXEU,$$SC^PSOCP,SC^PSOCP

ORWOR RESULT - RESULT^ORWOR
 Returns results of a CPRS order.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ORDERS^ORCXPND1

ORWDXA WCGET - WCGET^ORWDXA
 Return ward comments for an order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDXA WCPUT - WCPUT^ORWDXA
 Set ward comments for an order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  WP^DIE

ORWDRA32 IMTYPSEL - IMTYPSEL^ORWDRA32
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDXQ DLGNAME - DLGNAME^ORWDXQ
 Return display name for a dialog.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXQ GETQLST - GETQLST^ORWDXQ
 Return quick list for a display group.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  QV4DG^ORWUL

ORWPCE ACTIVE PROV - ACTIVPRV^ORWPCE2
 This calls the PCE API $$ACTIVPRV^PXAPI(provider ien, encounter d/t) to
 see if the provider can be stored by PCE.   Returns a 1 if provider is 
 good and 0 if the provider is not active or does not have an active 
 person class.
 PARAMETERS
  PROVIDER IEN
   TYPE:LITERAL
  ENCOUNTER DATE/TIME
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if provider is good and 0 if the provider is not active or does not have
 EXTERNAL ROUTINES:
  $$ACTIVPRV^PXAPI

ORWDLR32 MAXDAYS - MAXDAYS^ORWDLR33
 Returns the maximum number of days for a continuous lab order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ZERO^PSS51P1,$$GET^XPAR

ORWDXQ PUTQLST - PUTQLST^ORWDXQ
 Save quick order list.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  QVSAVE^ORWUL,EN^XPAR

ORWDXQ PUTQNAM - PUTQNAM^ORWDXQ
 Save display name for quick order dialog.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXQ DLGSAVE - DLGSAVE^ORWDXQ
 Return IEN of new or existing quick order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ENSURNEW^ORCMEDT8,UPDQNAME^ORCMEDT8

ORWDXQ GETQNAM - GETQNAM^ORWDXQ
 Return current quick order name.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDX LOADRSP - LOADRSP^ORWDX
 PARAMETERS
  RSPID
   TYPE:LITERAL
  TRANS
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  XROOT^ORWDX2

ORWDX FORMID - FORMID^ORWDX
 Returns the base dialog FormID for an order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FORMID^ORWDXM

ORWDXR ISREL - ISREL^ORWDXR
 Return 1 if an order has been released, otherwise return 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWORDG GRPSEQB - GRPSEQB^ORWORDG
 Returns expanded list of display groups.
 for the current site/user.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDXR RNWFLDS - RNWFLDS^ORWDXR
 Return fields for renew action in format:
     LST(0)=RenewType^Start^Stop^Refills^Pickup  LST(n)=Comments
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ISCLOZ^ORALWORD,ALLWORD^ORALWORD

ORWU VALDT - VALDT^ORWU
 Validates date/time entry and returns value of Y from %DT call.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^%DT

ORWDXR RENEW - RENEW^ORWDXR
 Renew an existing order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$PTR^ORCD,GETDLG^ORCD,GETORDER^ORCD,RESETID^ORCDPS,D1^ORCDPS2,SIG^ORCDPS2,RN^
ORCSAVE,GETBYIFN^ORWORR,DOSE^PSSORUTL

ORWDRA32 RADSRC - RADSRC^ORWDRA32
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

ORWMC PATIENT PROCEDURES - PROD^ORWMC
 This remote procedure call returns a list of patient procedures for a
  specific patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of patient in the Patient file [
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR32 ALLSPEC - ALLSPEC^ORWDLR33
 Returns a list of specimens from the TOPOGRAPHY FIELD file (#61).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPT DISCHARGE - DISCHRG^ORWPT
 Given a patient and an admission date, return the discharge date/time.
 PARAMETERS
  DFN
   TYPE:LITERAL
   The patient ien (i.e., DFN).
  ADMITDT
   TYPE:LITERAL
   Date the patient was admitted.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Y=DISDT, where DISDT is the discharge date/time, or DT if none.
 EXTERNAL ROUTINES:
  52^VADPT

ORWPS COVER - COVER^ORWPS
 Returns a list of medications to display on the CPRS GUI cover sheet for a
 patient.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  OCL^PSOORRL

ORWCV VST - VST1^ORWCV
 This RPC returns a list of appointments and admissions for a patient based
 on parameters that define the beginning and ending range for CPRS GUI.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWCV LAB - LAB^ORWCV
 Returns a list of labs to display on the CPRS GUI cover sheet for a
 patient.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  END^AWCMCPR1,STRT2^AWCMCPR1,LIST^ORQOR1,$$GET^XPAR

ORWCV START - START^ORWCV
 Checks the value of the ORWOR COVER RETRIEVAL parameter and queues
 processes to build CPRS GUI cover sheet lists as specified in the
 parameter.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$FMADD^XLFDT,GETLST^XPAR

ORWCV DTLVST - DTLVST^ORWCV
 This API returns the text of a progress note or discharge summary related
 to a visit/appointment.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DETNOTE^ORQQVS,DETSUM^ORQQVS,$$APPT2VST^PXAPI,$$GETENC^PXAPI,RCDTL^SDRROR

ORWCV POLL - POLL^ORWCV
 This RPC is a process to poll the cover sheet tasks for completion and
 display the information in the appropriate CPRS GUI cover sheet location.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWCV STOP - STOP^ORWCV
 RPC to stop retrieval of cover sheet information for CPRS GUI.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWPT SAVDFLT - SAVDFLT^ORWPT
 Saves user's preference for default list source.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  SAVDFLT^ORWPT1

ORWORR GET4LST - GET4V11^ORWORR
 Returns the order fields for a list of orders.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWORR AGET - AGET^ORWORR
 Get an abbreviated order list for a patient in the format:
      ^TMP("ORR",$J,ORLIST,n)=IFN^DGrp^ActTm
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  EN^ORQ1,GET1^ORWORR1,GET2^ORWORR1

ORQQVI NOTEVIT - NOTEVIT^ORQQVI
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NOTEVSTR^ORWPCE

ORQQCN SIGFIND - SIGFIND^ORQQCN2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$SFILE^GMRCGUIB

ORQQCN ADMIN COMPLETE - ADMCOMPL^ORQQCN2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$SFILE^GMRCGUIB

ORWORB FASTUSER - FASTUSER^ORWORB
 Function returns notifications for current user.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  REMLIST^ORQORB,REMNONOR^ORQORB,URGLIST^ORQORB,GETUSER1^XQALDATA

ORQORB SORT - SORT^ORQORB
 Returns the notification sort method for user/division/system/pkg.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWU VERSRV - VERSRV^ORWU
 Returns the server version of a particular option.  This is specifically
 used by CPRS GUI to determine the current server version of the associated
 software.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FIND^DIC

ORWDX LOCK - LOCK^ORWDX
 RPC to attempt to lock patient for ordering (returns 1 if successful or 0
 if unsuccessful).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$LOCK^ORX2,$$LOCK1^ORX2,UNLOCK^ORX2

ORWDX UNLOCK - UNLOCK^ORWDX
 Unlocks the patient for ordering purposes.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UNLOCK^ORX2

ORWDPS32 IVAMT - IVAMT^ORWDPS33
 Returns return UNITS^AMOUNT |^AMOUNT^AMOUNT...| for IV solutions.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ENVOL^PSJORUT2

ORWDPS32 VALRATE - VALRATE^ORWDPS33
 Return a 1 if IV rate text is valid, otherwise return 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$TRIM^ORWDPS32,$$UPPER^ORWDPS32,ORINF^PSIVSP

ORWDOR VMSLCT - VMSLCT^ORWDOR
 Returns the default list for the vitals order dialog in CPRS GUI.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWPCE ACTPROB - ACTPROB^ORWPCE
 Build list of active problems for patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DSELECT^GMPLENFM,$$STATCHK^ICDAPIU

ORWORB GETDATA - GETDATA^ORWORB
 Given an XQAID, return XQADATA for an alert.
 PARAMETERS
  XQAID
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$RESOLVE^TIUSRVLO,GETACT^XQALERT

ORQQCN FIND CONSULT - FINDCSLT^ORQQCN1
 Given a Consult IEN in file 123, return a formatted list item for that
 single consult only, in the same format as returned by ORQQCN LIST.
 PARAMETERS
  GMRCO
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  OER^GMRCSLM1

ORQQCN GET PROC SVCS - PROCSVCS^ORQQCN1
 Given an orderable item from the S.PROC XREF in 101.43, return the
 Consults service from 123.5 that can perform the procedure.
 PARAMETERS
  ORDERABLE ITEM ID
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETSVC^GMRCPR0

ORWDFH TXT - TXT^ORWDFH
 RPC to return the text of the current and any future diets for a patient.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DIET^ORCDFH,$$FMTE^XLFDT

ORWDFH PARAM - PARAM^ORWDFH
 Returns dietetics parameters for a patient at a location.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$MAXDAYS^FHOMAPI,DIETLST^FHOMAPI,EN1^FHWOR8,$$CURRENT^ORCDFH,$$FUTURE^ORCDFH,
$$NOW^XLFDT,$$VERSION^XPDUTL

ORWDFH TFPROD - TFPROD^ORWDFH
 Returns a list of active tubefeeding products.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

ORWDFH ATTR - ATTR^ORWDFH
 For a diet order, this RPC returns:
   Orderable Item^Text^Type^Precedence^AskExpire 
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

ORWDFH DIETS - DIETS^ORWDFH
 Returns active diets (including NPO) in the format:
       IEN^NAME
    or IEN^SYNONYM <NAME>^NAME
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DIETLST^FHOMAPI,$$NOW^XLFDT

ORWDFH QTY2CC - QTY2CC^ORWDFH
 Returns cc's given a product, strength, and quantity.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$QUAN^FHWOR5R,$$VALIDQTY^ORCDFHTF

ORWDX MSG - MSG^ORWDX
 Return message text for an orderable item.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDX DGRP - DGRP^ORWDX
 Returns the display group pointer for an order dialog.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXA DCREQIEN - DCREQIEN^ORWDXA
 Return the IEN for Requesting Physician Cancelled reason.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWORR GETTXT - GETTXT^ORWORR
 Returns the text of an existing order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  TEXT^ORQ12

ORWDFH ADDLATE - ADDLATE^ORWDFH
 RPC to add a late tray diet order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$PTR^ORCD,GETDLG^ORCD,EN^ORCSAVE,GETBYIFN^ORWORR,$$NOW^XLFDT

ORWDFH ISOIEN - ISOIEN^ORWDFH
 Returns the IEN for the Isolation/Precaution orderable item.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDFH CURISO - CURISO^ORWDFH
 Return a patient's current isolation.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$IP^ORMBLD

ORWDFH ISOLIST - ISOLIST^ORWDFH
 Returns a list of active Isolation/Precaution Type (file #119.4) entries.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWORB GET TIU ALERT INFO - GETALRT^TIUSRVR
 Given a TIU XQAID, return the patient and document type for the item being
 alerted.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   The XQAID of the alert.
 RETURN VALUE
  TYPE: SINGLE VALUE
  TIUDA^DFN^gui tab indicator
 EXTERNAL ROUTINES:
  $$CLASS^TIUCNSLT,$$CLASS^TIUCP,$$ISA^TIULX,$$ISDS^TIULX,$$CLASS^TIUSROI

ORWDFH FINDTYP - FINDTYP^ORWDFH
 Return type of dietetics order based on display group.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS32 ISSPLY - ISSPLY^ORWDPS33
 Return 1 if orderable item is a supply, otherwise return 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORQQCN GET ORDER NUMBER - GETORDER^ORQQCN1
 PARAMETERS
  Consult ID
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ORIFN^GMRCUTL1

ORWDLR32 LAB COLL TIME - LABCOLTM^ORWDLR33
 Is the given time a routine lab collection time for the given location?
 PARAMETERS
  Collection Time
   TYPE:LITERAL
   Valid FileMan data/time string to check whether it is a valid lab
  Location
   TYPE:LITERAL
   Pointer to Hospital Location
 RETURN VALUE
  TYPE: SINGLE VALUE
  True if a valid lab collect time
 EXTERNAL ROUTINES:
  DW^%DTC,$$GET^XPAR,GETLST^XPAR

ORWDXM MENU - MENU^ORWDXM
 Returns menu contents for an order dialog in the following format:
     LST(0)=name^# cols^path switch^^^ Key Variables (pieces 6-20)
     LST(n)=col^row^type^ien^formid^autoaccept^display text^mnemonic
            ^displayonly
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$KEYVAR^ORWDXM3

ORWDXM FORMID - FORMID^ORWDXM
 Return the FormID for a dialog entry.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$DEFDLG^ORWDXQ

ORWDXM PROMPTS - PROMPTS^ORWDXM
 Return prompting information for a generic dialog in the format:
     LST(n)=ID^REQ^HID^PROMPT^TYPE^DOMAIN^DEFAULT^IDFLT^HELP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDXM DLGNAME - DLGNAME^ORWDXM
 Return name(s) of dialog & base dialog given IEN in format:
         VAL=InternalName^DisplayName^BaseDialogIEN^BaseDialogName
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$DEFDLG^ORWDXQ

ORWPT1 PRCARE - PRCARE^ORWPT1
 Return primary care information for a patient in the format:
   VAL=Primary Care Team^Primary Care Provider^Attending
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$OUTPTAP^SDUTL3,$$OUTPTPR^SDUTL3,$$OUTPTTM^SDUTL3

ORWPT1 PCDETAIL - PCDETAIL^ORWPT1
 Returns primary care detailed information about a patient.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$OUTPTAP^SDUTL3,$$OUTPTPR^SDUTL3,$$OUTPTTM^SDUTL3

ORWU NPHASKEY - NPHASKEY^ORWU
 Returns a 1 if a specified user holds a specified key, otherwise returns
 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDX DLGID - DLGID^ORWDX
 Returns the dialog IEN for an order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS32 VALSCH - VALSCH^ORWDPS33
 Validate a schedule and return a 1 if it is valid, otherwise return 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^PSSGSGUI

ORWDPS32 VALQTY - VALQTY^ORWDPS33
 Validate a medication quantity and return a 1 if it is valid, otherwise
 return 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXM AUTOACK - AUTOACK^ORWDXM
 Place a quick order in CPRS GUI without the verify step.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETDLG1^ORCD,GETORDER^ORCD,EN^ORCSAVE,$$DEFDLG^ORWDXQ,GETBYIFN^ORWORR

ORWU GBLREF - GBLREF^ORWU
 Returns the global reference for a particular file number.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ROOT^DILFD

ORWDX AGAIN - AGAIN^ORWDX
 Returns a 1 if the dialog should be kept for another order, otherwise 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWUXT LST - LST^ORWUXT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWUXT VAL - VAL^ORWUXT
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWUXT REF - REF^ORWUXT
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR32 IMMED COLLECT - IMMCOLL^ORWDLR33
 Returns help text showing lab immediate collect times for the user's
 division.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SHOW^LR7OV4

ORWDLR32 IC DEFAULT - ICDEFLT^ORWDLR33
 Returns default immediate collect time for the user's division.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Fileman Date/time^text date/time
 EXTERNAL ROUTINES:
  $$DEFTIME^LR7OV4

ORWDLR32 IC VALID - ICVALID^ORWDLR33
 Determines whether the suplied time is a valid lab immediate collect time.
 PARAMETERS
  TIME
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  1^message if valid.
 EXTERNAL ROUTINES:
  $$VALID^LR7OV4

ORQQPL PROB COMMENTS - GETCOMM^ORQQPL2
 Returns a list of comments associated with a problem IEN.
 PARAMETERS
  Problem IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDXC ON - ON^ORWDXC
 Returns E if order checking enabled, otherwise D.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  SESSION^ORCHECK,$$GET^XPAR

ORWDXC DISPLAY - DISPLAY^ORWDXC
 Return list of Order Checks for a FillerID (namespace).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN^ORKCHK

ORWDXC FILLID - FILLID^ORWDXC
 Return the FillerID (namespace) for a dialog.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NMSP^ORCD,$$DEFDLG^ORWDXQ

ORWDXC ACCEPT - ACCEPT^ORWDXC
 Return list of Order Checks on Accept Order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^%DT,FDBDOWN^ORCHECK,RETURN^ORCHECK,AM^ORCSAVE2,NEXT^ORCSAVE2,EN^ORKCHK

ORWDXC SAVECHK - SAVECHK^ORWDXC
 Save order checks for session.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  OC^ORCSAVE2

ORWDXC SESSION - SESSION^ORWDXC
 Return list of order checks on release of order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SESSION^ORCHECK

ORWDXC DELORD - DELORD^ORWDXC
 Delete order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DIK,DELETE^OROCAPI1

ORQQCN RESUBMIT - RESUBMIT^ORQQCN1
 Allows resubmission of a cancelled consult or procedure request after
 editing.  This is a backdoor resubmission, and CPRS will be notified via
 the HL7 proocess.
 PARAMETERS
  ConsultID
   TYPE:LITERAL
  ChangeArray
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^GMRCGUIC

ORWORB KILL UNSIG ORDERS ALERT - KILUNSNO^ORWORB
 Check patient's unsigned orders, and kill unsigned orders alert for this
 user if no unsigned orders remain for his/her signature.
 PARAMETERS
  Patient DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UNOTIF^ORCSIGN

ORWDCN32 PROCEDURES - PROC^ORWDCN32
 Returns a list of orderable procedures.  Same as ORDITM^ORWDX except:
  
 1.  Checks inactive date in file 101.43 against NOW instead of DT.
 2.  Checks for at least one service that can perform the procedure.
 3.  Returns variable pointer to procedure in 4th piece of each item.
 PARAMETERS
  start
   TYPE:LITERAL
  direction
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETSVC^GMRCPR0,$$NOW^XLFDT

ORQQCN LOAD FOR EDIT - EDITLOAD^ORQQCN1
 Given a consult IEN, returns the current values of that record's fields.
 PARAMETERS
  Consult IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a compound array in the format:
 EXTERNAL ROUTINES:
  SEND^GMRCGUIC

ORWORR GETBYIFN - GETBYIFN^ORWORR
 Returns the fields for a single order in the format:
        1   2    3     4      5     6   7   8   9   10     11    12
  .LST=~IFN^Grp^ActTm^StrtTm^StopTm^Sts^Sig^Nrs^Clk^PrvID^PrvNam^ActDA
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDAL32 ALLERGY MATCH - ALLSRCH^ORWDAL32
 Given a text string, return a list of possible matches from several
 different sources.
 PARAMETERS
  user input string
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$B^PSNAPIS,$$T^PSNAPIS,$$UP^XLFSTR,$$SCREEN^XTID,SCREEN^XTID

ORWDAL32 DEF - DEF^ORWDAL32
 Returns default values and list sets for Allergy ordering dialog.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDAL32 SYMPTOMS - SYMPTOMS^ORWDAL32
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$SCREEN^XTID,SCREEN^XTID

ORQQCN SVCLIST - SVCLIST^ORQQCN2
 Because the combo box on the Consults order dialog needs to include a
 shortlist at the top, a call was needed that returned the list of consults
 services alphabetically as a long list.  This is it.
 PARAMETERS
  StartFrom
   TYPE:LITERAL
   Starting service for the returned list, full or partial name.
  Direction
   TYPE:LITERAL
   Direction of the lookup.
 RETURN VALUE
  TYPE: ARRAY
  List of consults services as returned by GMRCASV, but in alphabetical
 EXTERNAL ROUTINES:
  SVCTREE^ORQQCN2

ORWPS1 NEWDLG - NEWDLG^ORWPS1
 Returns order dialog information for a new medication.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWPS1 PICKUP - PICKUP^ORWPS1
 Returns default for refill location (mail or window).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWPS1 REFILL - REFILL^ORWPS1
 RPC to submit a request for a refill.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  REF^ORMBLDPS

ORWRP PRINT LAB REPORTS - PRINT^ORWRPL
 This rpc is used to print a report on the Labs tab
 in CPRS.
 PARAMETERS
  DEVICE
   TYPE:LITERAL
   Name of the device where the report should print.
  DFN
   TYPE:LITERAL
   Internal entry number of entry in the Patient file.
  REPORT ID
   TYPE:LITERAL
   Identification number of the desired report.
  DATE RANGE
   TYPE:LITERAL
   This parameter indicates the number of days from TODAY
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the print request was successfully queued then the
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$HFS^ORWRP,HFSCLOSE^ORWRP,HFSOPEN^ORWRP,IOVAR^ORWRP,SETITEM^ORWRP

ORQQPL INACTIVATE - INACT^ORQQPL2
 PARAMETERS
  Problem IFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  AUDIT^GMPLX,DTMOD^GMPLX,$$HTFM^XLFDT

ORWDXM1 BLDQRSP - BLDQRSP^ORWDXM1
 Build responses for an order
  
 Input:
       1   2    3    4   5   6    7    8        11-20
 FLDS=DFN^LOC^ORNP^INPT^SEX^AGE^EVENT^SC%^^^Key Variables...
 ORIT=+ORIT: ptr to 101.41, $E(ORIT)=C: copy $E(ORIT)=X: change
  
 Output:
 LST=QuickLevel^ResponseID(ORIT;$H)^Dialog^Type^FormID^DGrp
 LST(n)=verify text or rejection text
 PARAMETERS
  ISIMO
   TYPE:LITERAL
   This determine if the order is an IMO order.
  ENCLOC
   TYPE:LITERAL
   This passes the encounter location to the API. This is used for Admin 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$PTR^ORCD,$$EVT^OREVNTX,$$DRAFT^ORWDX2,ADMTIME^ORWDXM2,VERTXT^ORWDXM2,$$DLGIN
FO^ORWDXM3,$$KEYVAR^ORWDXM3,$$VALQO^ORWDXM3,$$VERORD^ORWDXM3,BLD4CHG^ORWDXM3,CHK
COPY^ORWDXM3,CHKDSBL^ORWDXM3,CHKVACT^ORWDXM3,SETKEYV^ORWDXM3,SETUP^ORWDXM4,SETUP
S^ORWDXM4,VBASK^ORWDXM4

ORWDXM2 CLRRCL - CLRRCL^ORWDXM2
 Clear ORECALL.  Used by CPRS GUI to clean up ^TMP("ORECALL",$J) and
 ^TMP("ORWDXMQ",$J).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDX DISMSG - DISMSG^ORWDX
 Returns disabled message for an ordering dialog.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWPT DIEDON - DIEDON^ORWPT
 Returns date of death if patient has expired.  Otherwise returns 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWD1 PARAM - PARAM^ORWD1
 Returns the prompt and device parameters for Automated order prints
 PARAMETERS
  LOC
   TYPE:LITERAL
   Pointer to the Hospital location file where the prints are generated
 RETURN VALUE
  TYPE: SINGLE VALUE
  See description in PARAM^ORWD1
 EXTERNAL ROUTINES:
  

ORWPT CWAD - CWAD^ORWPT
 Returns the CWAD flag(s) for a patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CWAD^ORQPT2

ORWDX SENDP - SENDP^ORWDX
 Same as ORWDX SEND, but allows print devices as parameter.
 PARAMETERS
  orwdev
   TYPE:LITERAL
   chart device
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWD1 PRINTGUI - PRINTGUI^ORWD1
 RPC used by CPRS GUI to print orders to a designated print device.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GUI^ORPR02,INSRTBB^ORWD2

ORQQVI1 DETAIL - DETAIL^ORQQVI1
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

ORWOR SHEETS - SHEETS^ORWOR
 Returns order sheets for a patient.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWOR TSALL - TSALL^ORWOR
 Returns a list of valid treating specialities.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACTIVE^DGACT

ORWD1 RVPRINT - RVPRINT^ORWD1
 RPC used by CPRS GUI to print orders to a designated print device after
 the review or sign actions were used.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWD2 DEVINFO - DEVINFO^ORWD2
 Returns device information related to a location/nature of order when an
 order is signed or released via CPRS GUI.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWD2 MANUAL - MANUAL^ORWD2
 Returns device information for manual prints done via CPRS GUI.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXM MSTYLE - MSTYLE^ORWDXM
 Return the menu style for the system.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORQQPL SAVEVIEW - SAVEVIEW^ORQQPL2
 Saves preferred view (inpatient/outpatient) and list of preferred
 clinics/services to NEW PERSON file, field 125.nn.  Also sets value of
 parameter [ORCH CONTEXT PROBLEMS], which controls the default status of
 the problems shown, as well as whether comments should be displayed.
 Preferences take effect for both GUI and List Manager, and can be changed
 from either interface.
 PARAMETERS
  GMPLVIEW
   TYPE:LITERAL
   See field 125.nn of the NEW PERSON file for format of the first piece,
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET^XPAR,ADD^XPAR,CHG^XPAR

ORWGEPT CLINRNG - CLINRNG^ORWGEPT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR32 ONE SAMPLE - ONESAMP^ORWDLR32
 Returns data for one collection sample in the format: 
     n^SampIEN^SampName^SpecPtr^TubeTop^^^LabCollect^^SpecName
 PARAMETERS
  COLL SAMP IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDLR32 ONE SPECIMEN - ONESPEC^ORWDLR32
 Returns IEN^NAME of requested a TOPOGRAPHY FIELD (file #61) entry.
 PARAMETERS
  SPECIMEN IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWU INPLOC - INPLOC^ORWU
 Returns a list of wards from the HOSPITAL LOCATION file.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDRA32 LOCTYPE - LOCTYPE^ORWDRA32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS32 DOSES - DOSES^ORWDPS33
 Return doses for an orderable item.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ENDD^PSJORUTL,$$DFSU^PSNAPIS,NDF^PSS50

ORWPT FULLSSN - FULLSSN^ORWPT
 Given an SSN in the format 999999999(P), return a list of matching
 patients.
 PARAMETERS
  IEN
   TYPE:LITERAL
   SSN in the format '999999999(P)'.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1

ORQQCN2 GET CONTEXT - GETCTXT^ORQQCN2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORQQCN2 SAVE CONTEXT - SAVECTXT^ORQQCN2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET^XPAR,ADD^XPAR,CHG^XPAR

ORWTIU GET TIU CONTEXT - GTTIUCTX^ORWTIU
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PERSPRF^TIULE,$$GET^XPAR

ORWTIU SAVE TIU CONTEXT - SVTIUCTX^ORWTIU
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET^XPAR,ADD^XPAR,CHG^XPAR

ORWTIU GET DCSUMM CONTEXT - GTDCCTX^ORWTIU
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PERSPRF^TIULE,$$GET^XPAR

ORWTIU SAVE DCSUMM CONTEXT - SVDCCTX^ORWTIU
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET^XPAR,ADD^XPAR,CHG^XPAR

ORWORB AUTOUNFLAG ORDERS - UNFLORD^ORWORB
 Auto unflag orders/delete alert.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$XQAKILL^ORB3F1,MSG^ORCFLAG,LIST^ORQOR1,$$NOW^XLFDT,$$GET^XPAR,DELETE^XQALERT

ORWRA DEFAULT EXAM SETTINGS - GETDEF^ORWRA
 This RPC returns the default settings for the display of imaging exams on
 the reports tab. 
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The format of the returned string is as follows (pieces separated by '^')
 EXTERNAL ROUTINES:
  $$DT^ORCHTAB1,GETIMG^ORWTPD,$$GET^XPAR,OP^XQCHK

ORWDXM LOADSET - LOADSET^ORWDXM
 Return the contents of an order set in the following format:
    LST(0): SetDisplayText^Key Variables
    LST(n): DlgIEN^DlgType^DisplayText
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$KEYVAR^ORWDXM3

ORWDXC DELAY - DELAY^ORWDXC
 Return list or order checks on accept delayed orders.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^%DT,RETURN^ORCHECK,AM^ORCSAVE2,NEXT^ORCSAVE2,EN^ORKCHK

ORWCH LOADSIZ - LOADSIZ^ORWCH
 This RPC loads the size (bounds) for a particular CPRS GUI control. 
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORQQPL CHECK DUP - DUP^ORQQPL1
 PARAMETERS
  DFN
   TYPE:LITERAL
  TERM
   TYPE:LITERAL
  TEXT
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  ifn^status, or 0 if not found
 EXTERNAL ROUTINES:
  $$DUPL^GMPLX

ORQQCN DEFAULT REQUEST REASON - DEFRFREQ^ORQQCN2
 PARAMETERS
  SERVICE
   TYPE:LITERAL
  PATIENT DFN
   TYPE:LITERAL
  RESOLVE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GETDEF^GMRCDRFR

ORWDX LOCK ORDER - LOCKORD^ORWDX
 RPC to attempt to lock a specific order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$LOCK1^ORX2

ORWDX UNLOCK ORDER - UNLKORD^ORWDX
 RPC to unlock a specific order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UNLK1^ORX2

ORWDCN32 NEWDLG - NEWDLG^ORWDCN32
 Returns dialog information when NEW CONSULT/PROCEDURE is selected from
 the consults tab.
 PARAMETERS
  dialog type
   TYPE:LITERAL
   "C" for consult, "P" for procedure
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORQQCN GET SERVICE IEN - SVCIEN^ORQQCN2
 PARAMETERS
  ORIEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$USID^ORWDXC,$$NOW^XLFDT

ORQQCN PROVDX - PROVDX^ORQQCN2
 PARAMETERS
  SVCIEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
          ;    Input:
 EXTERNAL ROUTINES:
  $$PROVDX^GMRCUTL1

ORWPT BYWARD - BYWARD^ORWPT
 Returns a list of patients currently residing on a specified ward
 location.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWRP PRINT WINDOWS REPORT - PRINTW^ORWRPP
 Prints CPRS GUI information to windows printer.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$HFS^ORWRP,HFSCLOSE^ORWRP,HFSOPEN^ORWRP,IOVAR^ORWRP,SETITEM^ORWRP

ORQQCN SF513 WINDOWS PRINT - WPRT513^ORQQCN2
 Print consults Standard Form 513 to Windows device from GUI application.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  PRNT^GMRCP5A,$$HFS^ORWRP,HFSCLOSE^ORWRP,HFSOPEN^ORWRP,IOVAR^ORWRP,SETITEM^ORWR
P

ORWRP WINPRINT LAB REPORTS - PRINTW^ORWRPL
 Prints text from CPRS GUI to a windows printer.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$HFS^ORWRP,HFSCLOSE^ORWRP,HFSOPEN^ORWRP,IOVAR^ORWRP,SETITEM^ORWRP

ORWCIRN FACLIST - FACLIST^ORWCIRN
 Returns a list of the remote VA facilities at which the selected patient
 has been seen.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  TFL^VAFCTFU1,$$SITE^VASITE,$$GET^XPAR,GETLST^XPAR,$$IEN^XUAF4

ORWDLR32 GET LAB TIMES - GETLABTM^ORWDLR33
 Returns a list of lab collect times for a date and location.
 PARAMETERS
  DATE
   TYPE:LITERAL
  LOCATION
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DW^%DTC,NOW^%DTC,YMD^%DTC,$$NOW^XLFDT,$$GET^XPAR,GETLST^XPAR

ORWRP WINPRINT DEFAULT - WINDFLT^ORWRP
 Returns whether the Windows printer is set as the default for the user. 
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWRP GET DEFAULT PRINTER - GETDFPRT^ORWRP
 Returns default printer.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWRP SAVE DEFAULT PRINTER - SAVDFPRT^ORWRP
 Saves printer as user's default printer.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR,ADD^XPAR,CHG^XPAR

ORQQCN EDIT DEFAULT REASON - EDITDRFR^ORQQCN2
 Return value (see details there) determines if and when the consults
 'reason for request' can be edited.
 PARAMETERS
  SERVICE ID
   TYPE:LITERAL
   IEN of consults service from file 123.5
 RETURN VALUE
  TYPE: SINGLE VALUE
  0=editable anytime
 EXTERNAL ROUTINES:
  $$REAF^GMRCDRFR

ORWTIU WINPRINT NOTE - PRINTW^ORWTIU
 Returns a formatted global of a TIU document for output to a Windows print
 device.
 PARAMETERS
  Note IEN
   TYPE:LITERAL
   IEN of document in file 8925.
  Chart Copy?
   TYPE:LITERAL
   If true, print chart copy, else print work copy.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Formatted global containing the text of the document.
 EXTERNAL ROUTINES:
  $$HFS^ORWRP,HFSCLOSE^ORWRP,HFSOPEN^ORWRP,IOVAR^ORWRP,SETITEM^ORWRP,RPC^TIUPD

ORWRP2 HS COMPONENTS - COMP^ORWRP2
 This RPC returns an array of the ADHOC Health Summary components.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Here is the format of the returned array:
 EXTERNAL ROUTINES:
  COMP^GMTSADH5,COMPSUB^GMTSADH5

ORWRP2 HS COMP FILES - FILES^ORWRP2
 This RPC gets a list of files to select from for the ADHOC Health Summary.
 PARAMETERS
  COMP
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
  An array of files is returned that can be selected from for this component
 EXTERNAL ROUTINES:
  FILES^GMTSADH5,FILESEL^GMTSADH5

ORWRP2 HS REPORT TEXT - REPORT^ORWRP2
 This RPC is used to build the ADHOC Health Summary from an array of
 pre-selected health summary components.
 PARAMETERS
  COMPS
   TYPE:LIST
   The input array is defined as:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Text array for report section is returned.
 EXTERNAL ROUTINES:
  REPORT^GMTSADH5,ADHOC^ORPRS13,START^ORWRP

ORWRP2 HS FILE LOOKUP - FILESEL^ORWRP2
 This RPC gets the list of file entries for the file defined for a specific
 Health Summary component on the ADHOC Health Summary.  Current choices
 include files 60, 9999999.64, 811.9, 8925.1, 81, and possibly others
 (handled generically).  The file entries are used to populate a combo box
 on the form.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the file number for the entries to be used to populate the combo
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The global array returned is in the format:
 EXTERNAL ROUTINES:
  FILESEL^GMTSADH5

ORWRP2 HS SUBITEMS - SUBITEM^ORWRP2
 This RPC expands a Laboratory Test panel to all it's sub-components for
 selection in the ADHOC Health Summary.
 PARAMETERS
  TEST
   TYPE:LITERAL
   This is the pointer value to the Laboratory Test (#60) file of the panel
 RETURN VALUE
  TYPE: ARRAY
  The array returned is a list of all the components of a Laboratory test
 EXTERNAL ROUTINES:
  SUBITEM^GMTSADH5

ORQQPX GET HIST LOCATIONS - HISTLOC^ORQQPX
 Returns a list of historical locations from the LOCATION file
 (#9999999.06).
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

ORQQPX NEW REMINDERS ACTIVE - NEWACTIV^ORQQPX
 Return 1 if Interactive Reminders are active, otherwise return 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,APPL^PXRMRPCA,$$GET^XPAR

ORWPCE GET VISIT - GETVISIT^ORWPCE2
 Returns the visit IEN.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GETENC^PXAPI

ORQQCN CANEDIT - CANEDIT^ORQQCN1
 Returns indication of whether a consult/procedure request can be
 resubmitted.
 PARAMETERS
  Consult IEN
   TYPE:LITERAL
   Pointer to record  in file 123.
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if editable and can be resubmitted.
 EXTERNAL ROUTINES:
  $$EDRESOK^GMRCEDT2

ORWORB KILL EXPIR MED ALERT - KILEXMED^ORWORB
 Evaluate expiring med orders.  If none remain, kill current alert for
 current user.  Kill for other users if alert so defined.
 PARAMETERS
  Patient DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$XQAKILL^ORB3F1,$$DG^ORQOR1,AGET^ORWORR,DELETE^XQALERT,DELETEA^XQALERT

ORWPT LEGACY - LEGACY^ORWPT
 Returns message if patient has data on a legacy system.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  HXDATA^A7RDPAGU

ORWPCE MHCLINIC - MHCLINIC^ORWPCE2
 Returns TRUE of the indicated clinic is a mental health clinic.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Clinic IEN.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$MHCLIN^SDUTL2,MHCLIN^SDUTL2

ORWPCE GAFOK - GAFOK^ORWPCE2
 Returns TRUE if supporting mental health code exists to read and write
 GAF scores.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ENT^YSGAFAP1,GAFHX^YSGAFAPI

ORWPCE LOADGAF - LOADGAF^ORWPCE2
 Returns a list of GAF Scores
 PARAMETERS
  ORINPUT
   TYPE:LIST
   ORINPUT("DFN") = Patient DFN.
 RETURN VALUE
  TYPE: ARRAY
  Array of GAF Scores.
 EXTERNAL ROUTINES:
  GAFHX^YSGAFAPI

ORWPCE SAVEGAF - SAVEGAF^ORWPCE2
 Saves a GAF Score.
 PARAMETERS
  ORINPUT
   TYPE:LIST
   ORINPUT("DFN") = Patient IEN
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ENT^YSGAFAP1

ORWDLR33 FUTURE LAB COLLECTS - LCFUTR^ORWDLR33
 Returns the number of days in the future to allow Lab Collects.
 PARAMETERS
  ORLOC
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWPCE FORCE - FORCE^ORWPCE2
 Returns the value of the ORWPCE FORCE GUI PCE ENTRY parameter.
 PARAMETERS
  USER
   TYPE:LITERAL
   The user to check the parameter for.
  LOC
   TYPE:LITERAL
   Location to use in checking the parameter.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWDPS32 VALROUTE - VALROUTE^ORWDPS32
 Returns the IEN for a route if the name is valid.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ALL^PSS51P2

ORWOR VWGET - VWGET^ORWOR
 Retrieves the user's default view for the orders tab.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  REVSTS^ORWORDG,$$FMTE^XLFDT,$$GET^XPAR

ORWOR VWSET - VWSET^ORWOR
 Sets the default view on the orders tab for the user.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR,EN^XPAR

ORWU PARAM - PARAM^ORWU
 Simple call to return a parameter value.  The call assumes the current
 user, 'defaultable' entities, and one instance.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR,GETLST^XPAR

ORWDOR LKSCRN - LKSCRN^ORWDOR
 Does a lookup similar to GENERIC^ORWU.  Also allows passing of a reference
 to a screen in the Order Dialog file to screen to lookup.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDOR VALNUM - VALNUM^ORWDOR
 Validates a numeric entry.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWORB UNSIG ORDERS FOLLOWUP - ESORD^ORWORB
 After viewing unsigned orders for a patient via an alert, evaluates
 whether the alert should be deleted for the current user.
  
 The following two exception conditions exist when determining how alert
 deletion will occur.  In all other cases, alert deletion will occur when
 the patient has no unsigned orders.
  
 1)      If the recipient of this alert does NOT have the ORES key, the
 alert will be deleted for that recipient after he reviews the unsigned
 orders. 
  
 2)      If the recipient has the ORES key and is NOT linked to the patient
 as attending, inpatient primary provider or via OE/RR teams, his alert
 will be deleted when his unsigned orders are signed.  (If unsigned orders
 written by other providers for the patient remain, alerts for these other 
 providers will not be deleted.)  For example, a consulting surgeon (with
 ORES) places three unsigned orders for a patient.  He then receives an
 "Order requires electronic signature" alert for the patient.  He uses the 
 View Alerts follow-up action and is presented with ten unsigned orders for
 the patient.  Only three of the ten orders are his.  The surgeon signs his
 three unsigned orders.  If the surgeon is not linked to the patient as
 attending, inpatient primary providers or via OE/RR teams, the alert will 
 be deleted (for him only.)  
  
 In most cases alert deletion will occur when the patient has no unsigned
 orders.  For example, if a recipient has the ORES key and is linked to the
 patient as attending, inpatient primary provider or via OE/RR teams, all
 unsigned orders for the patient must be signed before his alert is
 deleted.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   The alert ID.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Nothing returned.
 EXTERNAL ROUTINES:
  DEL^ORB3FUP1,EN^ORQ1,$$DG^ORQOR1,$$UNSIGNOR^ORQOR2,$$PPLINK^ORQPTQ1

ORWTIU GET LISTBOX ITEM - GTLSTITM^ORWTIU
 Given a TIU document IEN, return the information required to construct a
 listbox item for that single document.
 PARAMETERS
  Documemnt IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
   The return element has pieces with the following positional values:
 EXTERNAL ROUTINES:
  $$RESOLVE^TIUSRVLO

ORWPCE HASCPT - HASCPT^ORWPCE2
 Returns the passed array with the second piece set to 0 or 1.
 PARAMETERS
  ORLIST
   TYPE:LIST
   This array contains the values that would be present in the 811.1 file's
 RETURN VALUE
  TYPE: ARRAY
  0 (FALSE) or 1 (TRUE)
 EXTERNAL ROUTINES:
  $$FIND1^DIC,$$GET1^DIQ

ORWPCE ASKPCE - ASKPCE^ORWPCE2
 Returns the value of the ORWPCE ASK ENCOUNTER UPDATE parameter.
 PARAMETERS
  USER
   TYPE:LITERAL
   The user to get the parameter for.
  LOC
   TYPE:LITERAL
   The Location to use when getting the parameter.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The 0-3 value stored in the ORWPCE ASK ENCOUNTER UPDATE parameter.
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWPCE GAFURL - GAFURL^ORWPCE2
 Returns the GAF Scale Rating Form URL
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  GAF Web Page URL
 EXTERNAL ROUTINES:
  GAFURL^YTAPI5

ORQQPXRM EDUCATION SUBTOPICS - EDS^ORQQPXRM
 Returns array of subtopics for any given education topic
 PARAMETERS
  EDUCATION TOPIC ID
   TYPE:LITERAL
   Education topic (ien) from EDUCATION TOPIC file [#9999999.09]
 RETURN VALUE
  TYPE: ARRAY
  FORMAT OF OUTPUT
 EXTERNAL ROUTINES:
  EDS^PXRMRPCB

ORQQPXRM EDUCATION SUMMARY - EDL^ORQQPXRM
 Returns list of education topics for a reminder
 PARAMETERS
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  List of education topics for this reminder in format
 EXTERNAL ROUTINES:
  EDL^PXRMRPCB

ORQQPXRM EDUCATION TOPIC - EDU^ORQQPXRM
 Detailed description of education topic
 PARAMETERS
  EDUCATION TOPIC ID
   TYPE:LITERAL
   Education topic (ien) from EDUCATION TOPIC file [#9999999.09]
 RETURN VALUE
  TYPE: ARRAY
  Detailed description of education topic as formatted text
 EXTERNAL ROUTINES:
  EDU^PXRMRPCB

ORQQPXRM MENTAL HEALTH - MH^ORQQPXRM
 Returns array for given mental health instrument
 PARAMETERS
  MENTAL HEALTH INSTRUMENT
   TYPE:LITERAL
   Name of the mental health instrument
 RETURN VALUE
  TYPE: ARRAY
  Returns array of mental health instrument questions/answers
 EXTERNAL ROUTINES:
  MHDLL^PXRMDRSG,MH^PXRMRPCC,MHR^PXRMRPCC,MHS^PXRMRPCC,$$GET^XPAR,$$PATCH^XPDUTL
,CHECKCR^YTQPXRM4

ORQQPXRM MENTAL HEALTH RESULTS - MHR^ORQQPXRM
 Returns progress note text based on the results of the test.
 PARAMETERS
  RESULT GROUP/ELEMENT
   TYPE:LITERAL
   This is the pointer to the result group for the test.
  TEST RESULTS
   TYPE:LITERAL
   Field to pass contents of the YS array (R1,R2,DFN,DUZ,ADATE etc).
 RETURN VALUE
  TYPE: ARRAY
  Returns array of progress note text as multiple type 7 records.
 EXTERNAL ROUTINES:
  MHR^PXRMRPCC

ORQQPXRM MENTAL HEALTH SAVE - MHS^ORQQPXRM
 Stores test result responses from a reminder dialog.
 PARAMETERS
  TEST RESULTS
   TYPE:LITERAL
   Test results. Needs to pass contents of the YS array (R1,R2,DFN,DUZ,ADATE
 RETURN VALUE
  TYPE: ARRAY
  Returns either 
 EXTERNAL ROUTINES:
  MHS^PXRMRPCC

ORQQPXRM PROGRESS NOTE HEADER - HDR^ORQQPXRM
 Returns header text to be inserted in each progress note.
 PARAMETERS
  HOSPITAL LOCATION
   TYPE:LITERAL
   Patients location from HOSPITAL LOCATION [#44]. May be null.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns text for progress note header
 EXTERNAL ROUTINES:
  HDR^PXRMRPCC

ORQQPXRM REMINDER CATEGORIES - CATEGORY^ORQQPXRM
 Returns list of all CPRS lookup categories and associated reminders
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient Identifier from Patient file [#2]
  HOSPITAL LOCATION
   TYPE:LITERAL
   Patient's HOSPITAL LOCATION [#44]. May be null.
 RETURN VALUE
  TYPE: ARRAY
  Returns array of categories and reminders based on CPRS lookup categories
 EXTERNAL ROUTINES:
  CATEGORY^PXRMRPCA

ORQQPXRM REMINDER DETAIL - REMDET^ORQQPXRM
 Returns the details of a clinical reminder
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier from Patient file [#2]
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  Formatted details of the clinical reminder
 EXTERNAL ROUTINES:
  REMDET^PXRMRPCA

ORQQPXRM REMINDER DIALOG - DIALOG^ORQQPXRM
 Dialog for a given reminder
 PARAMETERS
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  For each dialog item in the reminder dialog for the reminder :
 EXTERNAL ROUTINES:
  DIALOG^PXRMRPCC,DIALOG^PXRMRPCD

ORQQPXRM DIALOG PROMPTS - PROMPT^ORQQPXRM
 Additional prompts for a given dialog element
 PARAMETERS
  DIALOG ELEMENT IEN
   TYPE:LITERAL
   Reminder dialog element identifier (ien) from REMINDER DIALOG file
  CURRENT/HISTORICAL
   TYPE:LITERAL
   Used only for taxonomy dialogs.
  DIALOG LINE CPT/POV
   TYPE:LITERAL
   For taxonomy dialog the type of finding (POV/CPT) for this dialog line
 RETURN VALUE
  TYPE: ARRAY
  For a selected dialog element
 EXTERNAL ROUTINES:
  PROMPT^PXRMRPCC

ORQQPXRM REMINDER EVALUATION - ALIST^ORQQPXRM
 Allows evaluation of a list of reminders. Returns a list of clinical
 reminders due/applicable or not applicable to the patient.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier from the patient file [#2]
  REMINDER ARRAY
   TYPE:LIST
   List of reminders in format :
 RETURN VALUE
  TYPE: ARRAY
  List of reminders in format:
 EXTERNAL ROUTINES:
  ALIST^PXRMRPCA

ORQQPXRM REMINDER INQUIRY - RES^ORQQPXRM
 Detailed description of reminder
 PARAMETERS
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  Detailed description of clinical reminder as formatted text
 EXTERNAL ROUTINES:
  RES^PXRMRPCC

ORQQPXRM REMINDER WEB - WEB^ORQQPXRM
 Web addresses for selected reminder
 PARAMETERS
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  Formatted list of web addresses
 EXTERNAL ROUTINES:
  WEB^PXRMRPCA

ORQQPXRM REMINDERS UNEVALUATED - LIST^ORQQPXRM
 Returns list of CPRS reminders for patient/location (no evaluation is
 done)
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier from the patient file [#2]
  HOSPITAL LOCATION
   TYPE:LITERAL
   Patients location from HOSPITAL LOCATION [#44]. May be null
 RETURN VALUE
  TYPE: ARRAY
  List of reminder iens.
 EXTERNAL ROUTINES:
  GETLIST^ORQQPX,ALIST^PXRMRPCA

ORQQPXRM REMINDERS APPLICABLE - APPL^ORQQPXRM
 Returns a list of clinical reminders due/applicable or not applicable to
 the patient.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier from the patient file [#2]
  HOSPITAL LOCATION
   TYPE:LITERAL
   Patients location from HOSPITAL LOCATION [#44]. May be null.
 RETURN VALUE
  TYPE: ARRAY
  List of reminders in format:
 EXTERNAL ROUTINES:
  EVALCOVR^ORQQPX

ORWPCE MHTESTOK - MHTESTOK^ORWPCE2
 Returns TRUE if all supporing code is in place for Mental Health Tests.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MH^PXRMRPCC,MHR^PXRMRPCC,MHS^PXRMRPCC,$$GET^XPAR,LISTONE^YTAPI,SAVEIT^YTAPI1,S
HOWALL^YTAPI3,PREVIEW^YTAPI4

ORWLRR INFO - INFO^ORWLRR
 Return lab test description information.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ONE^LR7OR4

ORWOR UNSIGN - UNSIGN^ORWOR
 Returns outstanding unsigned orders.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$CHKORD^OREVNTX1,$$GET^XPAR

ORWPT INPLOC - INPLOC^ORWPT
 Returns the patient's current location if an inpatient.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWD1 COMLOC - COMLOC^ORWD1
 Returns true if all orders in a list have a common ordering location.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWD1 SIG4ANY - SIG4ANY^ORWD1
 Returns true if any orders in the list require a signature.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWD1 SIG4ONE - SIG4ONE^ORWD1
 Returns true if an order requires a signature.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORQQCN2 GET PREREQUISITE - PREREQ^ORQQCN2
 Returns resolved boilerplate form CONSULT SERIVCES file (123.5) reflecting
 the service's prerequisites for ordering a consult.
 PARAMETERS
  Service IEN
   TYPE:LITERAL
   Service IEN in file 123.5.
  Patient ID
   TYPE:LITERAL
   Patient DFN.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Resolved boilerplate text from file 123.5, reflecting the service's
 EXTERNAL ROUTINES:
  PREREQ^GMRCUTL1

ORQQCN2 SCHEDULE CONSULT - SCH^ORQQCN2
 Changes status of consult to "Scheduled", optionally adding a comment and
 sending alerts.
 PARAMETERS
  Consult IEN
   TYPE:LITERAL
   Consult IEN in file 123.
  Responsible provider
   TYPE:LITERAL
  Date of action
   TYPE:LITERAL
  Send alerts?
   TYPE:LITERAL
  Send alerts to
   TYPE:LITERAL
   ";" separated list of alert recipients - pointers to file 200.
  Comments
   TYPE:LIST
   Array of comments to be added with this action.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$SCH^GMRCGUIB,$$NOW^XLFDT

ORWRP PRINT REMOTE REPORT - REMOTE^ORWRPP
  This rpc is used to print a remote report on the Report tab
  in CPRS.
 PARAMETERS
  DEVICE
   TYPE:LITERAL
    Name of the device where the report should print.
  DFN
   TYPE:LITERAL
    Internal entry number of entry in the Patient file.
  REPORT ID
   TYPE:LITERAL
    Identification number of the desired report.
  HANDLE
   TYPE:LIST
   List of remote handles to print for.
 RETURN VALUE
  TYPE: SINGLE VALUE
   If the print request was successfully queued then the
 EXTERNAL ROUTINES:
  ^%ZTLOAD

ORWRP PRINT WINDOWS REMOTE - PRINTWR^ORWRPP
  Prints CPRS GUI information to windows printer.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$HFS^ORWRP,HFSCLOSE^ORWRP,HFSOPEN^ORWRP,IOVAR^ORWRP,SETITEM^ORWRP

ORWRP PRINT LAB REMOTE - REMOTE^ORWRPL
  This rpc is used to print a remote report on the Labs tab
  in CPRS.
  RETURN PARAMETER DESCRIPTION:
  If the print request was successfully queued then the
  Task manager task number is return. Otherwise, and error
  code and error description are returned.
  Error Code Table:
  
       Code            Text
       ----            ----
         0             <Task Number>
         1             No device selected
         2             No report specified
         3             Report type specified is not valid
         4             No date range specified
         6             Patient specified is not valid
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^%ZTLOAD

ORWRP PRINT WINDOWS LAB REMOTE - PRINTWR^ORWRPL
  Prints remote CPRS GUI information to windows printer.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$HFS^ORWRP,HFSCLOSE^ORWRP,HFSOPEN^ORWRP,IOVAR^ORWRP,SETITEM^ORWRP

ORQQPXRM DIALOG ACTIVE - ACTIVE^ORQQPXRM
 For a list of reminders [#811.9] returns same list with status to indicate
 if an active dialog exists for the reminder.
 PARAMETERS
  CLINICAL REMINDER IEN
   TYPE:LITERAL
   Array of clinical reminder iens [#811.9] to be checked.
 RETURN VALUE
  TYPE: ARRAY
  Array of clinical reminders in format
 EXTERNAL ROUTINES:
  ACTIVE^PXRMRPCC

ORWPCE MH TEST AUTHORIZED - MHATHRZD^ORWPCE2
 Indicates if a given mental health test can be given by the given user.
 PARAMETERS
  TEST
   TYPE:LITERAL
   MENTAL HEALTH TEST NAME
  USER
   TYPE:LITERAL
   The user giving the test.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a 1 (TEST AUTHORIZED) or a 0 (TEST NOT AUTHORIZED).
 EXTERNAL ROUTINES:
  PRIVL^YTAPI5

ORWRP2 HS COMPONENT SUBS - COMPSUB^ORWRP2
 This RPC returns an array of ADHOC Health Summary subcomponents.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  COMPSUB^GMTSADH5

ORWCH SAVFONT - SAVFONT^ORWCH
 Saves the user's preferred font.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

ORWDLR33 LASTTIME - LASTTIME^ORWDLR33
 When entering quick orders from an order menu, the ^TMP("ORECALL",$J)
 array contains the last responses entered.  This RPC allows retrieval of
 the previous order's collection time from that array.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The previous order's collection time, if any.
 EXTERNAL ROUTINES:
  $$RECALL^ORCD

ORWD1 SVONLY - SVONLY^ORWD1
 Prints service copies only (used when user says "Don't Print" for the
 other copies).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GUI^ORPR02

ORWPCE HASVISIT - HASVISIT^ORWPCE
 Returns the visit status of the visit associated with a note:
 
 1 if the visit is being pointed to by an appointment
 0 if the visit is NOT being pointed to by an appointment
 -1 if the visit is invalid or could not be determined
 PARAMETERS
  IEN
   TYPE:LITERAL
   IEN of the Note.
  DFN
   TYPE:LITERAL
   Patient DFN.
  ORLOC
   TYPE:LITERAL
   Hospital Location.
  ORDTE
   TYPE:LITERAL
   Visit Date
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GETENC^PXAPI,$$VST2APPT^PXAPI

ORWPCE CPTMODS - CPTMODS^ORWPCE
 Returns a list of CPT Modifiers for a given CPT Code.
 PARAMETERS
  ORCPTCOD
   TYPE:LITERAL
   CPT Code
 RETURN VALUE
  TYPE: ARRAY
  Returns an array in the format IEN^Descriptive Name^CPT Modifier Code.
 EXTERNAL ROUTINES:
  $$CODM^ICPTCOD

ORWPCE GETMOD - GETMOD^ORWPCE
 Returns information for a specific CPT Code.
 PARAMETERS
  MODIEN
   TYPE:LITERAL
   CPT MODIFIER IEN
 RETURN VALUE
  TYPE: SINGLE VALUE
  IEN^Descriptive Name^Code
 EXTERNAL ROUTINES:
  $$MOD^ICPTMOD

PSB MAIL - RPC^PSBRPCXM
 A call is made that allows the GUI to send its' own formatted mail
 message.
 PARAMETERS
  PSBCMD
   TYPE:LITERAL
   The type of action being attempted:
  PSBDATA
   TYPE:REFERENCE
   The text to be acted on.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Various success or failure tags depending on action.
 EXTERNAL ROUTINES:
  ^XMD

TIU ID CAN ATTACH - CANATTCH^TIUSRVA
 This BOOLEAN RPC evaluates the question of whether a particular document
 may be attached as an entry to an Interdisciplinary Note (i.e., can this
 document be an ID Child?).
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the IEN of the prospective ID Child document in the TIU Document
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the BOOLEAN result:
 EXTERNAL ROUTINES:
  $$CLASS^TIUCNSLT,$$CANDO^TIULP,$$POSSPRNT^TIULP,$$ISA^TIULX,$$ISCWAD^TIULX

TIU ID CAN RECEIVE - CANRCV^TIUSRVA
 This BOOLEAN RPC evaluates the question of whether a particular document
 may receive an entry as an Interdisciplinary Parent Note (i.e., can this
 document be an ID Parent?).
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the IEN of the prospective ID Parent document in the TIU Document
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the BOOLEAN result:
 EXTERNAL ROUTINES:
  $$CANDO^TIULP

TIU ID ATTACH ENTRY - IDATTCH^TIUSRVP1
 This RPC will attach a a document as an Interdisciplinary (ID) entry to an
 ID Parent document.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the IEN of the Entry which is to be attached as the ID Child.
  TIUDAD
   TYPE:LITERAL
   This is the internal entry number of the TIU Document which is to be the
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is a flag indicating the success or failure of the call:
 EXTERNAL ROUTINES:
  SENDID^TIUALRT1,AUDLINK^TIUGR1,FILE^TIUSRVP

TIU ID DETACH ENTRY - IDDTCH^TIUSRVP1
 This call will remove an ID Entry from an Interdisciplinary Note.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the internal entry number of the ID Entry which is to be removed
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is a flag indicating the success or failure of the call:
 EXTERNAL ROUTINES:
  IDDEL^TIUALRT1,AUDLINK^TIUGR1,FILE^TIUSRVP

TIU TEMPLATE GET DEFAULTS - GETDFLT^TIUSRVT2
 Returns Default Template Settings
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETLST^XPAR

TIU TEMPLATE SET DEFAULTS - SETDFLT^TIUSRVT2
 Saves Template Default Settings
 PARAMETERS
  SETTINGS
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

TIU TEMPLATE GET DESCRIPTION - GETDESC^TIUSRVT1
 Returns a Template's Description
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   Template IEN
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

TIU FIELD LOAD - LOAD^TIUSRVF
 Returns a single Template Field object
 PARAMETERS
  FLD
   TYPE:LITERAL
   Template Field Name
 RETURN VALUE
  TYPE: ARRAY
  Array in the format:
 EXTERNAL ROUTINES:
  

TIU FIELD LIST - LIST^TIUSRVF1
 Returns long list array of template fields
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

TIU FIELD CAN EDIT - CANEDIT^TIUSRVF1
 Returns TRUE if the current user is allowed to edit template fields.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ISA^USRLM,GETLST^XPAR

TIU FIELD LOCK - LOCK^TIUSRVF1
 Locks a template field record for editing
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   IEN of Template Field.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Flag returns success of lock.
 EXTERNAL ROUTINES:
  

TIU FIELD UNLOCK - UNLOCK^TIUSRVF1
 Unlock Template Field
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   IEN of Template Field
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

TIU FIELD SAVE - SAVE^TIUSRVF
 Saves a single Template Field
 PARAMETERS
  TIUDA
   TYPE:
   IEN of dialog field, if any
  TIUX
   TYPE:LIST
   Data to save in template field
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns success or failuer of save operation.
 EXTERNAL ROUTINES:
  $$UPPER^TIULS,LOCK^TIUSRVF1,UNLOCK^TIUSRVF1

TIU FIELD IMPORT - IMPORT^TIUSRVF
 Imports Template Fields from XML format
 PARAMETERS
  TIUXML
   TYPE:LIST
   Template Fields in XML format
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of the template fields imported, and the success of each
 EXTERNAL ROUTINES:
  

TIU FIELD EXPORT - EXPORT^TIUSRVF
 Exports Template Fields in XML format
 PARAMETERS
  FLDS
   TYPE:LIST
   List of template field names to export.
 RETURN VALUE
  TYPE: ARRAY
  XML version of template fields.
 EXTERNAL ROUTINES:
  

TIU FIELD LOAD BY IEN - LOADIEN^TIUSRVF
 Returns a single Template Field object.
 PARAMETERS
  FLDIEN
   TYPE:LITERAL
   Template Field IEN
 RETURN VALUE
  TYPE: ARRAY
  Array in the format:
 EXTERNAL ROUTINES:
  

TIU FIELD NAME IS UNIQUE - ISUNIQUE^TIUSRVF1
 Returns TRUE if the template field name is unique
 PARAMETERS
  NAME
   TYPE:LITERAL
   Template Field Name.
  IEN
   TYPE:LITERAL
   Optional IEN of existing field
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

TIU FIELD DELETE - DELETE^TIUSRVF1
 Deletes an entry in the Template Field (8927.1) file.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   IEN of record to delete.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DIK

TIU REMINDER DIALOGS - REMDLGS^TIUSRVT2
 Returns a list of reminder dialogs allowed for use as Templates.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Array of allowed reminder dialogs in IEN^Dialog Name format.
 EXTERNAL ROUTINES:
  

TIU REM DLG OK AS TEMPLATE - REMDLGOK^TIUSRVT2
 Returns TRUE is the passed in reminder dialog is allowed to be used in
 a TIU Template.
 PARAMETERS
  TIUIEN
   TYPE:LITERAL
   Reminder Dialog IEN.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

TIU FIELD DOLMTEXT - DOLMTEXT^TIUSRVF1
 Reads through an array of text and converts all entries of template
 fields to their assocaited List Manager text values.
 PARAMETERS
  TIULIST
   TYPE:LIST
   Input text to search for template fields.
 RETURN VALUE
  TYPE: ARRAY
  Same input array with template fields removed.
 EXTERNAL ROUTINES:
  

TIU TEMPLATE PERSONAL OBJECTS - PERSOBJS^TIUSRVT2
 Returns a list or Patient Data Objects allowed in Personal Templates.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

TIU TEMPLATE LOCK - LOCK^TIUSRVT2
 Locks Template
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   IEN of template to lock.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns success of lock.
 EXTERNAL ROUTINES:
  

TIU TEMPLATE UNLOCK - UNLOCK^TIUSRVT2
 Unlocks a template.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   IEN of Template to unlock.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

TIU USER CLASS LONG LIST - CLSLIST^TIUSRVT1
 Long List of User Classes
 PARAMETERS
  FROM
   TYPE:
  DIR
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

TIU DIV AND CLASS INFO - USERINFO^TIUSRVT1
 Returns a list of Divisions and User Classes for a specific User.
 PARAMETERS
  USER
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
  Array in the following format:
 EXTERNAL ROUTINES:
  $$ISA^USRLM

IBARXM QUERY ONLY - RQUERY^IBARXMR
 This RPC is used to query only the information for pharmacy co-payment
 billing that has happened for the given month/year.
 PARAMETERS
  IBICN
   TYPE:LITERAL
   This is the patient's ICN for reference to any VistA database
  IBM
   TYPE:LITERAL
   This is in fileman format the month/year for which the request is being made.
 RETURN VALUE
  TYPE: ARRAY
  The return array is in file 354.71 format.
 EXTERNAL ROUTINES:
  $$DFN^IBARXMU

IBARXM TRANS DATA - TRANS^IBARXMR
 This remote procedure is used to receive transaction information from a
 remote facility and reply with an acknowledgement.
 This RPC call does not send user data to remote side.
 PARAMETERS
  IBD
   TYPE:LITERAL
   This is the data sent by the remote treating facility to be filled in
  IBICN
   TYPE:LITERAL
   This is the patient's ICN.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return is the transaction IEN on this facility, indicating acceptance
 EXTERNAL ROUTINES:
  $$ADD^IBARXMN,$$DFN^IBARXMU

PXRM REMINDER DIALOG (TIU) - TDIALOG^ORQQPXRM
 Dialog for a given dialog ien.
 PARAMETERS
  DIALOG IEN
   TYPE:LITERAL
   Reminder Dialog ien from #801.41
 RETURN VALUE
  TYPE: ARRAY
  For each dialog element/group in the reminder dialog:
 EXTERNAL ROUTINES:
  DIALOG^PXRMRPCD

PXRM REMINDER CATEGORY - CATEGORY^PXRMRPCD
 List reminders and categories in display order for a reminder category.
 PARAMETERS
  CATEGORY
   TYPE:LITERAL
   Category ien [#811.7]
 RETURN VALUE
  TYPE: ARRAY
  List of active reminders and sub-categories:
 EXTERNAL ROUTINES:
  

PXRM REMINDERS AND CATEGORIES - SEL^PXRMRPCD
 Returns list of reminders and categories.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORQPT DEFAULT CLINIC DATE RANG - CDATRANG^ORQPTQ2
 Returns default start and stop dates for clinics in the form: start^stop.
 Start and stop are free text and are not in FM format.  
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Default start and stop dates for clinics in the form: start^stop.  Start
 EXTERNAL ROUTINES:
  $$UP^XLFSTR,$$GET^XPAR

ORQQCN ASSIGNABLE MED RESULTS - GETMED^ORQQCN3
 Returns a list of medicine results that can be attached to a procedure.
 PARAMETERS
  CONSULT IEN
   TYPE:LITERAL
   Consult (procedure) IEN in file 123.
 RETURN VALUE
  TYPE: ARRAY
  List of medicine results in the format:
 EXTERNAL ROUTINES:
  GETMED^GMRCGUIU

ORQQCN REMOVABLE MED RESULTS - GETRES^ORQQCN3
 Returns list of medicine results that are currently attached to a
 procedure.
 PARAMETERS
  Consult IEN
   TYPE:LITERAL
   Consult (procedure) IEN in file 123.
 RETURN VALUE
  TYPE: ARRAY
  List of medicine results in the format:
 EXTERNAL ROUTINES:
  GETRES^GMRCGUIU

ORQQCN GET MED RESULT DETAILS - DISPMED^ORQQCN3
 Detailed display of medicine results.
 PARAMETERS
  Medicine result pointer
   TYPE:LITERAL
   Variable pointer to medicine result.
 RETURN VALUE
  TYPE: ARRAY
  Detailed display of medicine result.
 EXTERNAL ROUTINES:
  DISPMED^GMRCGUIU

ORQQCN ATTACH MED RESULTS - MEDCOMP^ORQQCN3
 Allows a med result to be attached to a procedure request.
 PARAMETERS
  Consult IEN
   TYPE:LITERAL
   Consult (procedure) IEN in file 123.
  Result pointer
   TYPE:LITERAL
   Variable pointer to medicine result.
  Date
   TYPE:LITERAL
   Date the result was attached.
  date
   TYPE:
  Resp Person
   TYPE:LITERAL
   Pointer to file 200, for the person attaching the result.
  Alerts to
   TYPE:LITERAL
   Semicolon-delimited list of user DUZs to send alerts to for this action.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MEDCOMP^GMRCMED

ORQQCN REMOVE MED RESULTS - REMOVE^ORQQCN3
 Allows removal of medicine results from a  procedure.
 PARAMETERS
  Consult IEN
   TYPE:LITERAL
   Consult (procedure) IEN in file 123.
  Med Result
   TYPE:LITERAL
   Variable pointer to medicine result.
  Date
   TYPE:LITERAL
   Date the result was removed.
  Resp Person
   TYPE:LITERAL
   Pointer to file 200 for the person removing the result.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  REMOVE^GMRCDIS

ORWTPP GETTU - GETTU^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETTU^ORWTPN

ORWTPP LSDEF - LSDEF^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  LSDEF^ORWTPL

ORWTPP NEWLIST - NEWLIST^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  NEWLIST^ORWTPL

ORWTPP PLISTS - PLISTS^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PLISTS^ORWTPT

ORWTPP REMLIST - REMLIST^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  REMLIST^ORWTPT

ORWTPP SAVECD - SAVECD^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SAVECD^ORWTPL

ORWTPP SAVECS - SAVECS^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SAVECS^ORWTPO

ORWTPP SAVELIST - SAVELIST^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SAVELIST^ORWTPL

ORWTPP SAVENOT - SAVENOT^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SAVENOT^ORWTPR,SAVENOTO^ORWTPR

ORWTPP SAVENOTO - SAVENOTO^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SAVENOTO^ORWTPR

ORWTPP SAVEOC - SAVEOC^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SAVEOC^ORWTPR

ORWTPP SAVEPLD - SAVEPLD^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SAVEPLD^ORWTPL

ORWTPP SAVESURR - SAVESURR^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  SAVESURR^ORWTPR

ORWTPP SAVET - SAVET^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SAVET^ORWTPN

ORWTPP SETCOMBO - SETCOMBO^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SETCOMBO^ORWTPT

ORWTPP SETOTHER - SETOTHER^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SETOTHER^ORWTPO

ORWTPP SETREM - SETREM^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SETREM^ORWTPR

ORWTPP SETSUB - SETSUB^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  SETSUB^ORWTPN

ORWTPP SORTDEF - SORTDEF^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  SORTDEF^ORWTPL

ORWTPP PLTEAMS - PLTEAMS^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PLTEAMS^ORWTPT

ORWTPP TEAMS - TEAMS^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PLTEAMS^ORWTPT,TEAMS^ORWTPT

ORWTPT ATEAMS - ATEAMS^ORWTPT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWTPT GETTEAM - GETTEAM^ORWTPT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWTPN GETCLASS - GETCLASS^ORWTPN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$CLASPICK^TIULA4

ORWTPN GETTC - GETTC^ORWTPN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$CANENTR^TIULP,$$CANPICK^TIULP,$$ISA^TIULX

ORWTPO CSARNGD - CSARNGD^ORWTPO
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPO CSLABD - CSLABD^ORWTPO
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPO GETTABS - GETTABS^ORWTPO
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PDSET^ORWTPUP

ORWTPP ADDLIST - ADDLIST^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ADDLIST^ORWTPT

ORWTPP CHKSURR - CHKSURR^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CHKSURR^ORWTPUA

ORWTPP CLDAYS - CLDAYS^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CLDAYS^ORWTPL

ORWTPP CLEARNOT - CLEARNOT^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  CLEARNOT^ORWTPR

ORWTPP CLRANGE - CLRANGE^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CLRANGE^ORWTPL

ORWTPP CSARNG - CSARNG^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CSARNG^ORWTPO

ORWTPP CSLAB - CSLAB^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CSLAB^ORWTPO

ORWTPP DELLIST - DELLIST^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DELLIST^ORWTPL

ORWTPP GETCOMBO - GETCOMBO^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETCOMBO^ORWTPT

ORWTPP GETNOT - GETNOT^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETNOT^ORWTPR,GETNOTO^ORWTPR

ORWTPP GETNOTO - GETNOTO^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETNOTO^ORWTPR

ORWTPP GETOC - GETOC^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETOC^ORWTPR

ORWTPP GETOTHER - GETOTHER^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETOTHER^ORWTPO

ORWTPP GETREM - GETREM^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETREM^ORWTPR

ORWTPP GETSUB - GETSUB^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETSUB^ORWTPN

ORWTPP GETSURR - GETSURR^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETSURR^ORWTPR

ORWTPP GETTD - GETTD^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETTD^ORWTPN

ORWTPP GETCOS - GETCOS^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETCOS^ORWTPN

ORWTPP GETDCOS - GETDCOS^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETDCOS^ORWTPN

ORWTPP SETDCOS - SETDCOS^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SETDCOS^ORWTPN

ORWORB KILL EXPIR OI ALERT - KILEXOI^ORWORB
 Evaluate expiring flagged orderable item orders. If none remain, kill
 current alert for current user.  Kill for other users if alert so defined.
 PARAMETERS
  Patient DFN
   TYPE:LITERAL
   Patient DFN
  Alert type
   TYPE:LITERAL
   Pointer to type of alert in the OE/RR NOTIFICATIONS file (100.9). This can
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$XQAKILL^ORB3F1,$$DG^ORQOR1,AGET^ORWORR,DELETE^XQALERT,DELETEA^XQALERT

ORWRP LAB REPORT LISTS - LABLIST^ORWRP
 This remote procedure call returns a list of lab reports,
 
 There are no input parameters fo this rpc.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLST^XPAR

ORWPCE GETSVC - GETSVC^ORWPCE
 Calculates the correct service category.
 PARAMETERS
  SVC
   TYPE:LITERAL
   Initial Service Connection Category.
  LOC
   TYPE:LITERAL
   Pointer to the hospital location.
  INP
   TYPE:LITERAL
   Patient Status
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the calculated service category.
 EXTERNAL ROUTINES:
  $$SVC^PXKCO

ORQQCN SVC W/SYNONYMS - SVCSYN^ORQQCN2
 This is a modified version of ORQQCN GET SERVICE TREE that also includes
 synonyms for the services returned. It also allows passing of an optional
 Consult IEN, for screening allowable services to forward the consult to,
 especially in the case of interfacility consults.
 PARAMETERS
  Start With
   TYPE:LITERAL
   Which service in the hierarchy to begin with.
  Purpose
   TYPE:LITERAL
   0 for display purposes, 1 to order or forward a consult.
  Include Synonyms
   TYPE:LITERAL
   0 to exclude synonyms, 1 to include synonyms.
  Consult IEN
   TYPE:LITERAL
   OPTIONAL - Include pointer to file 123, the Consult Request file.  Used 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Output: Array formatted as follows-
 EXTERNAL ROUTINES:
  GUI^GMRCASV1

ORWCV1 COVERSHEET LIST - COVERLST^ORWCV1
 This remote procedure call returns a list of Cover Sheet reports,
 
 There are no input parameters fo this rpc.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWTIU IDNOTES INSTALLED - IDNOTES^ORWTIU
 Returns "1" if TIU*1.0*100 is installed, "0" otherwise.  This lets the
 CPRS GUI enable or disable the Interdisciplinary Notes functionality until
 the server is ready.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  See description.
 EXTERNAL ROUTINES:
  $$PATCH^XPDUTL

ORQQPX GET FOLDERS - GETFLDRS^ORQQPX
 Returns the value of the ORQQPX REMINDER FOLDERS parameter for the
 current user.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the value of the ORQQPX REMINDER FOLDERS parameter
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLST^XPAR

ORQQPX SET FOLDERS - SETFLDRS^ORQQPX
 Sets the value of the ORQQPX REMINDER FOLDERS parameter for the
 current user.
 PARAMETERS
  ORFLDRS
   TYPE:LITERAL
   String containing a one character code for each folder visible in the
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

ORQQPX GET DEF LOCATIONS - GETDEFOL^ORQQPX
 Returns the contents of the ORQQPX DEFAULT LOCATIONS parameter.
 PARAMETERS
  LOC
   TYPE:LITERAL
   Current Location.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLST^XPAR

ORWDPS2 OISLCT - OISLCT^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN^PSSDIN,START^PSSJORDF,DOSE^PSSOPKI1,DOSE^PSSORUTL

ORWDPS2 ADMIN - ADMIN^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$FIRST^ORCDPS3

ORWDPS1 ODSLCT - ODSLCT^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDPS1 SCHALL - SCHALL^ORWDPS1
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient DFN
  LOCIEN
   TYPE:LITERAL
   This is the inpatient location IEN from file 44, if a location is not 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$WARDIEN^ORWDPS32,SCHED^PSS51P1

ORWDPS2 REQST - REQST^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$RESOLVE^PSJORPOE

ORWDPS2 DAY2QTY - DAY2QTY^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  QTYX^PSOSIG

ORWDX DGNM - DGNM^ORWDX
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWUL QV4DG - QV4DG^ORWUL
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWUL FV4DG - FV4DG^ORWUL
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ISQED^%ZTLOAD

ORWUL FVSUB - FVSUB^ORWUL
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWUL FVIDX - FVIDX^ORWUL
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWUL QVSUB - QVSUB^ORWUL
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWUL QVIDX - QVIDX^ORWUL
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS1 CHK94 - CHK94^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS1 DFLTSPLY - DFLTSPLY^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DSUP^PSOSIGDS

ORWPCE ANYTIME - ANYTIME^ORWPCE2
 Returns TRUE if encounters can be entered at any time
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if Encounters can be entered at any time.
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPP GETIMG - GETIMG^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETIMG^ORWTPO

ORWTPO GETIMGD - GETIMGD^ORWTPO
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPP SETIMG - SETIMG^ORWTPP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  SETIMG^ORWTPO

ORQQPX REM INSERT AT CURSOR - INSCURS^ORQQPX
 Returns TRUE if text generated from a reminder dialog, when processing
 a reminder, is to be inserted at the current cursor location, rather
 than at the bottom of the note.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLST^XPAR

ORWDPS2 MAXREF - MAXREF^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MAX^PSOSIGDS

ORWDPS2 SCHREQ - SCHREQ^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$SCHREQ^PSJORPOE

ORWRP COLUMN HEADERS - GETCOL^ORWRP
 Get list of Column headers for a ListView type report from file 101.24.
 PARAMETERS
  IFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWPCE AUTO VISIT TYPE SELECT - AUTOVSIT^ORWPCE2
 Returns TRUE if visit type should be automatically selected.
 PARAMETERS
  LOC
   TYPE:LITERAL
   Location.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWDPS2 QTY2DAY - QTY2DAY^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  QTYX^PSOSIG

ORQQPX NEW COVER SHEET REMS - REMLIST^ORQQPX
 Returns a list of reminders for cover sheet evaluation.
 PARAMETERS
  LOC
   TYPE:LITERAL
   Location
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLST^XPAR

ORQQPX NEW COVER SHEET ACTIVE - NEWCVOK^ORQQPX
 Returns TRUE if the new cover sheet parameters are to be used.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLST^XPAR

ORQQPX LVREMLST - LVREMLST^ORQQPX
 Returns Cover Sheet reminder settings
 PARAMETERS
  LVL
   TYPE:LITERAL
   Parameter Level setting
  CLASS
   TYPE:LITERAL
   Optional User Class IEN if level is CLASS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORQQPX SAVELVL - SAVELVL^ORQQPX
 Saves Parameter Level settings.
 PARAMETERS
  LVL
   TYPE:LITERAL
   Parameter Level
  CLASS
   TYPE:LITERAL
   Optional User Class IEN if LVL is CLASS
  DATA
   TYPE:LIST
   Data.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DEL^XPAR,EN^XPAR,NDEL^XPAR

ORWU HAS OPTION ACCESS - HASOPTN^ORWU
 Returns true if the user has access to the specified menu option.
 PARAMETERS
  OPTION
   TYPE:LITERAL
   Either the Option Name or Option IEN
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ACCESS^XQCHK

ORWPCE ALWAYS CHECKOUT - DOCHKOUT^ORWPCE2
 Returns TRUE if encounters should be automatically checked out.
 PARAMETERS
  LOC
   TYPE:LITERAL
   Location
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWPCE GET EXCLUDED - EXCLUDED^ORWPCE2
 Returns a list of excluded PCE entries
 PARAMETERS
  LOC
   TYPE:LITERAL
   Location
  TYPE
   TYPE:LITERAL
   Excluded PCE data items are stored in one of five parameters.
 RETURN VALUE
  TYPE: ARRAY
  Array of Seq#^IEN
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWDPS1 FORMALT - FORMALT^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN1^PSSUTIL1

ORQPT DEFAULT LIST SORT - DEFSORT^ORQPTQ11
 Returns the current user's default patient selection list SORT ORDER
 setting.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Current user's SORT setting, such as "A" for alphabetic, "S" for source,
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWDPS1 DOSEALT - DOSEALT^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ENRFA^PSJORUTL

ORWTPR OCDESC - OCDESC^ORWTPR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWTPR NOTDESC - NOTDESC^ORWTPR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDPS1 FAILDEA - FAILDEA^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$OIDEA^PSSUTLA1,OIDEA^PSSUTLA1,$$DEA^XUSER

ORWTIU CANLINK - CANLINK^ORWTIU
  Given a title, call CANLINK^TIULP to determine whether this title can use
  linked as an Interdisciplinary child note.
  
 dbia #2322
 PARAMETERS
  TITLE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
   1^      - document can be an ID child
 EXTERNAL ROUTINES:
  $$CANLINK^TIULP

DVBAB REPORT CHECKLIST - REPORT1^DVBAB9
 Generates an exam worksheet.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB CHECK CREDENTIALS - CHKCRED^DVBAB1
 Verifies the user has been granted access to AMIE II/CAPRI
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DVBAB FIND EXAMS - FINDEXAM^DVBAB1
 Lists all of the patient's AMIE II C&P exam requests whether complete, new
 or pending.
 PARAMETERS
  INPUT1
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB SEND MSG - MSG^DVBAB1
 Used to generate e-mail messages for specific CAPRI actions, such as
 changing a C&P exam request.
 PARAMETERS
  VAL1
   TYPE:LITERAL
   This is the cancelling users DUZ.
  VAL2
   TYPE:LITERAL
   This is the Subjecto of the message - XMSUB
  VAL3
   TYPE:LIST
   This is the text of the message  -  XMTEXT
  VAL4
   TYPE:LITERAL
   This is the mail group name  -  MGN
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DIC,^XMB,$$GOTLOCAL^XMXAPIG

DVBAB APPOINTMENT LIST - DPA^DVBAB1B
 Returns a list of past, future or all appointments.
 PARAMETERS
  VAL1
   TYPE:LITERAL
   This is the DFN - the ien for the patient selected
  VAL2
   TYPE:LITERAL
   This is CHOICE - valid input is A (for All appointments), F (for Future
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns LIST of appointments for the patient based on value of CHOICE.
 EXTERNAL ROUTINES:
  ^%DT

DVBAB REPORT LISTS - LIST^DVBAB1
 This remote procedure call returns a list of reports,
 Health Summary types and date ranges that can be displayed
 at the workstation.
  
 There are no input parameters for this RPC.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETS^DIQ

DVBAB PTINQ - PTINQ^DVBAB1
 Returns a patient inquiry text report.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  START^ORWRP

DVBAB INCREASE EXAM COUNT - INCEXAM^DVBAB1
 Used to record the number of exams pending for a specified patient.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DVBAB HEALTH SUMMARY TEXT - RPT^DVBAB1
 This rpc retrieves the report text for a report selected on
 the Report tab.
 the report format on the roll 'n scroll version of CPRS.
 
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of entry in the Patient file.
  REPORT ID
   TYPE:LITERAL
   Identification number of the desired report.
  HEALTH SUMMARY TYPE
   TYPE:LITERAL
   Internal entry number of entry in the HEALTH SUMMARY TYPE file.
  DATE RANGE
   TYPE:LITERAL
   This parameter indicates the number of days from TODAY
  REPORT SECTION
   TYPE:LITERAL
   This parameter specifics which portion of the report should be
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Text array for report section is returned.
 EXTERNAL ROUTINES:
  

DVBAB 2507 PENDING REPORT - STRT^DVBAB6
 Generates a report based on the status of 2507 requests.
 PARAMETERS
  DVBCSORT
   TYPE:LITERAL
   This is  the status.  Valid choices are: A (age), S (status), V (veteran
  RSTAT
   TYPE:LITERAL
   This is the Request Status.  Valid choices are: A (all), P (pending), N
  ERDAYS
   TYPE:LITERAL
   If DVBCSORT = A (age) this must be the earliest age to start with (ie. 30
  OLDAYS
   TYPE:LITERAL
   This is the Oldest age (ie 1 day) if DVBCSORT=A (age).  This goes with
  ADIVNUM
   TYPE:LITERAL
   This is the regional office number - this is required only if DVBCSORT=R,
  ELTYP
   TYPE:LITERAL
   This is the elapsed time.  Values are C (calendar days - default) or W
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  MSG is returned.
 EXTERNAL ROUTINES:
  

DVBAB INST LIST - INSTLIST^DVBAB1
 Returns a list of Institutions.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GETS^DIQ

DVBAB DATETIME - DTTM^DVBAB1
 Returns the current date/time from VistA
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$HTE^XLFDT

DVBAB AMIS REPORT - STRT^DVBAB3
 Returns an AMIS report for specified search criteria.
 PARAMETERS
  BDATE
   TYPE:LITERAL
   Beginning date in a date range to use for retrieving results for the 
  EDATE
   TYPE:LITERAL
   Ending date in a date range to use for retrieving results for the report.
  RONUM
   TYPE:LITERAL
   This is an optional parameter that has 2 optional pieces: 
  SBULL
   TYPE:LITERAL
   A Y/N value which indicates whether a bulletin should be generated when 
  DUZ
   TYPE:LITERAL
   Identifies the individual in the NEW PERSON File (#200) who should 
  DVBAPRTY
   TYPE:LITERAL
   Priority of Exam code which inidicates which priorities to filter on.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB SC VETERAN REPORT - EN^DVBAB4
 Generates a service-connected veterans report.
 PARAMETERS
  INPUT1
   TYPE:LITERAL
   START DATE
  INPUT2
   TYPE:LITERAL
   STOP DATE
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB PENDING C&P REPORT - STRT^DVBAB6
 Generates a report containing the pending C&P exam requests.
 PARAMETERS
  DVBCSORT
   TYPE:LITERAL
  RSTAT
   TYPE:LITERAL
  ERDAYS
   TYPE:LITERAL
  OLDAYS
   TYPE:LITERAL
  ADIVNUM
   TYPE:LITERAL
  ELTYP
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DVBAB REPORT EXAM CHKLIST - STRT^DVBAB4
 Generates an exam worksheet.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$SITE^DVBCUTL4

DVBAB REPORT ADMINQ - ENBROKE2^DVBAADRP
 Generates an admission inquiry report, in either standard or delimited 
 format, for the specified parameters.
 PARAMETERS
  BDATE
   TYPE:LITERAL
   Beginning date in a date range to use for retrieving results for the 
  EDATE
   TYPE:LITERAL
   Ending date in a date range to use for retrieving results for the report.
  ROYESNO
   TYPE:LITERAL
   'Y' indicates to screen by RONUM.
  RONUM
   TYPE:LITERAL
   Screens RO number on report. Regional Office Station # when ROYESNO is 
  DVBADLMTR
   TYPE:LITERAL
   This is an optional parameter, which when defined with the final end date 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^%ZIS,HOME^%ZIS,$$HFS^DVBAB82,END^DVBAB82,HFSOPEN^DVBAB82,KILL^DVBAUTIL,NOPARM
^DVBAUTL2

DVBAB REPORT INCOMPVET - STRT^DVBAB51
 Generates an incompetent veteran report, in either standard or delimited 
 format, for the specificed date range.
 PARAMETERS
  BDATE
   TYPE:LITERAL
   Beginning date in a date range to use for retrieving results for the 
  EDATE
   TYPE:LITERAL
   Ending date in a date range to use for retrieving results for the report.
  DVBADLMTR
   TYPE:LITERAL
   This is an optional parameter, which when defined with the final end date 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB REPORT DISCHARGE - STRT^DVBAB53
 Generates a discharge report, in either standard or delimited format, for 
 the specified parameters.
 PARAMETERS
  BDATE
   TYPE:LITERAL
   Beginning date in a date range to use for retrieving results for the 
  EDATE
   TYPE:LITERAL
   Ending date in a date range to use for retrieving results for the report.
  ADTYPE
   TYPE:LITERAL
   Valid discharge code values:
  DVBADLMTR
   TYPE:LITERAL
   This is an optional parameter, which when defined with the final end date 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB REPORT READMIT - STRT^DVBAB56
 Generates a re-admission report, in either standard or delimited format, 
 for the specified date range.
 PARAMETERS
  BDATE
   TYPE:LITERAL
   Beginning date in a date range to use for retrieving results for the 
  EDATE
   TYPE:LITERAL
   Ending date in a date range to use for retrieving results for the report.
  DVBAH
   TYPE:LITERAL
   Defines the scope of the report:
  DVBADLMTR
   TYPE:LITERAL
   This is an optional parameter, which when defined with the final end date 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB REPORT ADMISSIONS - STRT^DVBAB54
 Generates an admission report, in either standard or delimited format,
 for the specified date range.
 PARAMETERS
  BDATE
   TYPE:LITERAL
   Beginning date in a date range to use for retrieving results for the 
  EDATE
   TYPE:LITERAL
   Ending date in a date range to use for retrieving results for the report.
  DVBADLMTR
   TYPE:LITERAL
   This is an optional parameter, which when defined with the final end date 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB REPORT PENDING7131 - STRT^DVBAB57
 Generates a list of pending 7131 requests.
 PARAMETERS
  SELDIV
   TYPE:LITERAL
  DIV
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DVBAB REPORT CPDETAILS - STRT^DVBAB70
 Returns a detailed summary of a specific C&P request.
 PARAMETERS
  DFN
   TYPE:LITERAL
  ZREQDA
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  VARS^DVBCUTIL

DVBAB REPORT 7131INQ - STRT^DVBAB71
 Returns a 7131 inquiry report.
 PARAMETERS
  ZDFN
   TYPE:LITERAL
  RECIEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DVBAB LABLIST - LABLIST^DVBAB1
 Returns a list of the site's laboratory test names.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DVBAB VERSION - VERSION^DVBAB1
 Used to ensure GUI and VISTA are on the same version of CAPRI.
 PARAMETERS
  DVBGUIV
   TYPE:LITERAL
   Version # of CAPRI GUI.  Sets a variable DVBABVx so that the error trap 
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

DVBAB DIVISION - DIVISION^DVBAB1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETS^DIQ

EC GETDSSUNITUSRS - ECUSR^ECUMRPC
 Returns an array of users with access to a particular DSS unit.  User access 
 to a DSS unit is determined from file #200.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   DSS unit IEN must be passed in as input parameter.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array list with user name and ien from file #200.
 EXTERNAL ROUTINES:
  

EC GETECSCREEN - ECSCN^ECUMRPC
 Returns a list active, inactive or both of Event Code Screens from EC EVENT 
 CODE SCREENS FILE #720.3.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY can contains the following elements separated by up-arro
w.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The result array contains the following data separated by up-arrow.
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$CPT^ICPTCOD

EC GETPXREASON - ECPXRS^ECUMRPC
 Return array entries with Procedure reasons linked to an Event Code screen.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   The Event Code screen IEN from file #720.3.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array with data containing 
 EXTERNAL ROUTINES:
  

EC GETECSDETAIL - ECSDTLS^ECUMRPC
 Returns details on a specific Event Code Screen from the EC EVENT CODE SCREENS
 FILE #720.3.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   The input parameter ECARY contains the Event code screen IEN.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return variable contains the following data separated by up-arrows.
 EXTERNAL ROUTINES:
  $$GET1^DIQ

EC GETPATPROCS - PATPROC^ECUERPC
 Returns an array of patient entries from EVENT CAPTURE PATIENT FILE #721 that 
 matches a location, DSS unit, patient DFN, start date and end date.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the following values separated by up-arrows:-
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array with Event Capture Patient entries with the following data:-
 EXTERNAL ROUTINES:
  ^%DT,$$GET1^DIQ,$$GETPPRV^ECPRVMUT,SETENV^ECUMRPC,$$ICDDX^ICDCODE,$$CPT^ICPTCO
D,$$FMTE^XLFDT

EC GETSCNHELP - ECHELP^ECUURPC
 Returns the entries from the HELP FILE #9.2 based on a help frame.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the Help Frame Name.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array with help text from the HELP FRAM File (#9.2).
 EXTERNAL ROUTINES:
  ^DIC,SETENV^ECUMRPC

EC GETECLOC - ECLOC^ECUMRPC
 Returns an array with all active Event Capture locations from file #4.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns array with value set to location and location IEN respectively.
 EXTERNAL ROUTINES:
  GETLOC^ECL

EC GETUSRDSSUNIT - USRUNT^ECUERPC
 Returns an array of DSS units for which the user has access.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   The input variable ECARY contains a value from the location or New Person fil
e.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of DSS Units. Data pieces separated by an up-arrow as follows
:-
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC

EC GETCPTLST - CPTFND^ECUMRPC2
 Performs a search on a CPT string and returns an array list of matches from 
 file #81.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   CPT search string.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a global array with CPT IEN, code and name respectively.
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC

EC GETECSPROCS - PROC^ECUERPC
 Returns an array of procedures for an Event Code screen (file #720.3). Event
 code screens are based on location, DSS unit and Category.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the following values separated by up-arrow.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of procedures. Data pieces as follows:-
 EXTERNAL ROUTINES:
  ^%DT,$$GET1^DIQ,PROS^ECHECK1,$$GETPPRV^ECPRVMUT,SETENV^ECUMRPC,$$ICDDX^ICDCODE
,$$CPT^ICPTCOD,$$FMTE^XLFDT

EC GETECSCATS - CAT^ECUERPC
 Returns an array of categories for an Event Code screen based on a specific
 location and DSS unit.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the following values separated by up-arrow.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of categories with data pieces as follows:-
 EXTERNAL ROUTINES:
  CATS^ECHECK1,SETENV^ECUMRPC

EC GETBATPROCS - PROCBAT^ECUERPC1
 Returns an array with entries from EVENT CAPTURE PATIENT FILE #721 for 
 patients for a specific procedure.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the following values separated by up-arrows:-
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of Event Capture Patients with the following data:-
 EXTERNAL ROUTINES:
  ^%DT,$$GET1^DIQ,PARSE^ECUERPC,SETENV^ECUMRPC,$$ICDDX^ICDCODE,DEM^VADPT

EC REPORTS - RPTEN^ECRRPC
 This call is used by all Event Capture GUI reports.  Produces report based on
 option selected from the Delphi application.
 PARAMETERS
  ECARY
   TYPE:LIST
   The input array ECARY will be defined based on the report to be generated. Th
e
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the report or the task number if queued.
 EXTERNAL ROUTINES:
  ^%DT,SETENV^ECUMRPC

EC GETIEN - FNDIEN^ECUURPC
 Returns the IEN from a file.
 PARAMETERS
  ecary
   TYPE:
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the following elements
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a file IEN.
 EXTERNAL ROUTINES:
  ^DIC,SETENV^ECUMRPC

EC GETPATINFO - PATINF^ECUERPC1
 This is a general purpose call that provides segments of the patient data 
 from the Event Capture Patient File #721.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   The input variable ECARY contains the following values:-
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Base on the type data requested, returns either of the following.
 EXTERNAL ROUTINES:
  PATPRV^ECUERPC2,SETENV^ECUMRPC

EC GETPXMODIFIER - ECPXMOD^ECUERPC
 Returns CPT modifier entries for a CPT Procedure based on procedure date.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the following values separated by up-arrows.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of CPT procedure modifiers as follows:-
 EXTERNAL ROUTINES:
  NOW^%DTC,SETENV^ECUMRPC,$$CODM^ICPTCOD,$$MODP^ICPTMOD

EC GETPROVIDER - PRVDER^ECUERPC
 Returns an array of valid providers based on a procedure date.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the procedure date.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of active providers. Data pieces are as follows:-
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC,$$GET^XUA4A72

EC GETNATPX - ECNATPX^ECUMRPC
 Returns an array of active, inactive or both of Event Capture national and 
 local Procedures from file #725.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the following subscripted elements
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of EC local/national procedures with the following pieces of 
 EXTERNAL ROUTINES:
  $$CPT^ICPTCOD

EC VALIDATE SPREADSHEET DATA - IN^ECV1RPC
 This RPC validates EC spreadsheet data and returns an array containing error me
ssages
 PARAMETERS
  ECDATA
   TYPE:LITERAL
   This is a row of data in the spreadsheet
 RETURN VALUE
  TYPE: ARRAY
  This is a list of error codes and messages
 EXTERNAL ROUTINES:
  ECHDRS^ECU1RPC,GETDATA^ECU1RPC,^ECV2RPC,^ECV3RPC,^ECV4RPC

EC GETPATELIG - ELIG^ECUERPC
 Returns a list of patient eligibilities.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable, ECARY contains the patient IEN (#2).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of patient eligibilities as follows:-
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC,ELIG^VADPT

EC GETPATCLASTAT - PATCLAST^ECUERPC1
 Returns a patient in/out status and classification. Classifications are:
 Agent Orange, Ionizing Radiation, SC Condition, Environmental Contaminants and
 Military Sexual Trauma.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the following values separated by up-arrow.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a single line with values for a patient status and classifications.
 EXTERNAL ROUTINES:
  NOW^%DTC,SETENV^ECUMRPC,$$CHKDSS^ECUTL0,$$INOUTPT^ECUTL0,CL^SDCO21,$$EC^SDCO22

EC GETENCDXS - ENCDXS^ECUERPC1
 Returns a patient encounter primary and secondary diagnosis codes from Event 
 Capture Patient File (#721).
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY has the followed pieces of data separated by up-arrows.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array with a patient encounter diagnosis
 EXTERNAL ROUTINES:
  NOW^%DTC,SETENV^ECUMRPC,$$PDXCK^ECUTL2,$$ICDDX^ICDCODE

EC GETDSSUNIT - DSSUNT^ECUMRPC1
 Returns array with active and/or inactive DSS units from file 724.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Optional input variable ECARY containing a status of:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The results array contains data for DSS units as follows:-
 EXTERNAL ROUTINES:
  $$GET1^DIQ,SETENV^ECUMRPC,$$UP^XLFSTR

EC GETCAT - CAT^ECUMRPC1
 Returns a list of active and/or inactive categories from file #726.
 PARAMETERS
  ecary
   TYPE:LITERAL
  ECARY
   TYPE:LITERAL
   Status of A-ctive, I-nactive or B-oth.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array with categories. Data pieces as follows:-
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC,$$FMTE^XLFDT

EC GETPXLST - PXFND^ECUMRPC2
 Performs a search on a procedure string and returns an array list of matches
 from file #81 and/or #725.
 User can type 
     1.  "A.search string" to search file 81.
     2.  "B.search string" to search file 725.
     3.  "search string" to search both files.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Procedure search string.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a global array with 
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC

EC DSSCATCHECK - CATCHK^ECUMRPC1
 Checks whether category is used in an Event Code Screen.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Variable ECARY contains the DSS Unit ien (file #724) that will be checked to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a value of 1 or 0 indicating whether category is used in Event Code 
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC

EC FILER - FILE^ECFLRPC
 A general purpose Event Capture filer used when filing data into ECS files.
 PARAMETERS
  ECARY
   TYPE:LIST
   The input array ECARY defines all the fields and values needed for a particul
ar 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a flag of sucess or failure or a list of error codes.
 EXTERNAL ROUTINES:
  ^ECEFPAT,^ECMFCAT,^ECMFDSSU,DSSU^ECMFDSSU,USER^ECMFDSSU,^ECMFECS,REASON^ECMFEC
S,^ECMFLOC,^ECMFLPX,SETENV^ECUMRPC

EC GETLIST - SRCLST^ECUMRPC1
 This call is used to perform a search on a file based on a search string.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   The input string ECARY contains four pieces separated by "
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a list of values based on the search criteria.
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC,LEX^ECUMRPC2,PROV^ECUMRPC2

EC GETDSSECS - DSSECS^ECUMRPC
 Returns a list of Event Code Screen from EC EVENT CODE CREENS FILE #720.3
 based on a DSS Unit and location.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the value for DSS Unit
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array with data Event Code screens as follows:-
 EXTERNAL ROUTINES:
  

EC GETLOC - GLOC^ECUMRPC2
 This broker entry point returns all active, inactive or both locations 
 from file #4.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input variable ECARY contains the following values:-
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Results array contain the following values:-
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLOC^ECL,SETENV^ECUMRPC

EC GETPRODEFS - PRDEFS^ECUERPC
 This broker entry point returns the defaults for procedure data entry.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input value, ECARY, contains the following values separated by "
 RETURN VALUE
  TYPE: SINGLE VALUE
  Output value, RESULTS, contain the data pieces as follows:-
 EXTERNAL ROUTINES:
  $$GET1^DIQ,SETENV^ECUMRPC

EC GETDATE - ECDATE^ECUURPC
 Broker call returns the client date as a Fileman internal and external date 
 format.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Client entered date and date flag passed in variable ECARY:-
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns in variable RETURN:- Fileman internal date^External date format.
 EXTERNAL ROUTINES:
  ^%DT,D^DIQ,SETENV^ECUMRPC

EC CLASHELP - CLHLP^ECUERPC1
 RPC Broker entry point for classification help.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input key ECARY consist of the following pieces:-
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array of help text for classification.
 EXTERNAL ROUTINES:
  ^DIC,HFSCLOSE^ECRRPC,HFSOPEN^ECRRPC,SETENV^ECUMRPC,SC^SDCO23

MAGG DEV FIELD VALUES - GETS^MAGGTSYS
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 PARAMETERS
  NODE
   TYPE:LITERAL
   This is the IEN in the Image File.
  FLAGS
   TYPE:LITERAL
   This is the Flags parameter used in the call to GETS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of 
 EXTERNAL ROUTINES:
  GETS^DIQ,$$BROKER^XWBLIB

MAGGADDIMAGE - ADD^MAGGTIA
 RPC Call to add new entry to Image File using UPDATE^DIE.
 PARAMETERS
  MAGGZ
   TYPE:LIST
   MAGGZ is an array of fields and their entries.  
 RETURN VALUE
  TYPE: SINGLE VALUE
  MAGGRY - Ret variable (Single Variable)
 EXTERNAL ROUTINES:
  ^%DT,FIELD^DID,VAL^DIE,$$EXTERNAL^DILFD,$$VFIELD^DILFD,MAKECLAS^MAGGSIU1,$$MAK
ENAME^MAGGTIA1,ADD^MAGGTIA1,QACHK^MAGGTIA2,$$DRIVE^MAGGTU1,$$NOW^XLFDT,$$KSP^XUP
ARAM

MAG CONSULT MSG CREATE - MSG^MAGMAPI
 Piece1=0 if failure
 Piece1=1 if successful
   
 Note: you must create the mail group IMAGE TELECONSULT (RADIOLOGY) and
       add members to recieve the consult notification mail message.
 PARAMETERS
  MAGDUZ
   TYPE:LITERAL
   DUZ number for sender of message
  TXT
   TYPE:LIST
   Message to be sent; $END$; Recipient list
 RETURN VALUE
  TYPE: SINGLE VALUE
  Piece1=0 if failure
 EXTERNAL ROUTINES:
  

MAGGLISTPROC - LIST^MAGGTMC
 Return a list of Medicine procedures/subspecialities.
 List can be subset of whole if site uses Imaging Capture Security Keys to 
 limit the users access to only Medicine Procedures 
 that they have a MAGCAP ... Key for.
 PARAMETERS
  MAGGZY
   TYPE:LITERAL
   Not using this input for any processing in Version 2.5
 RETURN VALUE
  TYPE: ARRAY
  Returns list of:  NAME       PRINT NAME  ^     GLOBAL ^   IEN
 EXTERNAL ROUTINES:
  $$NEWERR^%ZTER,$$PLACE^MAGBAPI

MAGGPATPROC - PRC^MAGGTMC
 Return a List of All Patient Procedures in subspeciality.
 For use when capturing Images and linking to a Medicine Procedure.
 PARAMETERS
  MAGGZY
   TYPE:LITERAL
   Input is '
 RETURN VALUE
  TYPE: ARRAY
  Returns an array of procedures 
 EXTERNAL ROUTINES:
  $$NEWERR^%ZTER,DT^DICRW,SUB^MCARUTL2

MAGGHSLIST - HSLIST^MAGGTCPR
 Returns an array of health summary types.
 PARAMETERS
  XXX
   TYPE:LITERAL
   Null value, not used.
 RETURN VALUE
  TYPE: ARRAY
  Array of health summary types.
 EXTERNAL ROUTINES:
  LIST^DIC

MAGGHS - HSUM^MAGGTCPR
 Returns a health summary for a patient of the type requested.
 requested.
 PARAMETERS
  MAGGZ
   TYPE:LITERAL
   ; MAGGZ    ->   DFN  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array contains lines of health summary that was requested.
 EXTERNAL ROUTINES:
  ^%ZIS,^%ZISC,$$NEWERR^%ZTER,$$GET1^DIQ,END^GMTS,SELTYP1^GMTS,EN^GMTS1

MAGGRPT - BRK^MAGGTRPT
 Returns associated report for Image IEN.
 PARAMETERS
  MAGGIEN
   TYPE:LITERAL
   Internal entry number in file 
  NOCHK
   TYPE:LITERAL
   If this flag is sent with a value of 1, then the QA check will
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Report returned is the Long Description of the image entry from the image
 EXTERNAL ROUTINES:
  ^%ZIS,^%ZISC,$$ISDEL^MAGGI11,$$NODE^MAGGI11,CHK^MAGGSQI

MAGGPROCIMAGE - FILE^MAGGTMC1
 Files image pointer in procedure file and procedure pointers in image file.
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA = DATETIME
  MAGARR
   TYPE:LIST
   An array of images that are to be associated with the procedure.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns   "1^ message"  if successful.
 EXTERNAL ROUTINES:
  ^%DT,$$NEWERR^%ZTER,LINKDT^MAGGTU6,UPDATE^MCUIMAG0

MAG ABSJB - ABSJB^MAGGTU71
 Sets queue entry to create abstract and/or copy to jukebox.
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   Pointer to image file
  DATA
   TYPE:LITERAL
   $P(1) IEN.  Set an Abstract Queue for the IEN.
 RETURN VALUE
  TYPE: SINGLE VALUE
  1|0 ^ message  1 = success  0 = failure
 EXTERNAL ROUTINES:
  $$ABSTRACT^MAGBAPI,$$JUKEBOX^MAGBAPI,$$DA2PLC^MAGBAPIP

MAGGRADLIST - LIST^MAGGTRA1
 Input is Radiology patient 'RADFN'. Output is a list of Patient exams.
 PARAMETERS
  DATA
   TYPE:LITERAL
   This is the Radiology Patient DFN.   i.e.  RADFN
 RETURN VALUE
  TYPE: ARRAY
  If unsucessful, ARRAY(0) = "0^reason for failure "
 EXTERNAL ROUTINES:
  $$NEWERR^%ZTER,EN1^RAO7PC1,$$DT^XLFDT

MAGGRADPTR - MAGPTR^MAGGTRA
 Files the image pointer into the Radiology package and the Radiology
 pointers into the Imaging package.
 PARAMETERS
  XDUZ
   TYPE:LITERAL
   Not being used anymore, kept for backward compatibility.
  MAGIEN
   TYPE:LITERAL
   Internal entry number of Image File entry  
  DATA
   TYPE:LITERAL
   First "
 RETURN VALUE
  TYPE: SINGLE VALUE
  If successful,   '1^message'
 EXTERNAL ROUTINES:
  $$NEWERR^%ZTER,DT^DICRW,LINKDT^MAGGTU6,CREATE^RARIC,PTR^RARIC

MAGGDGRPD - DGRPD^MAGGTCPR
 Displays the Patient Profile in a Delphi Window. The call first opens the
 'IMAGING WORKSTATION' device and then calls EN^DGRPD.
 Then calls EN^DGRPD 
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient's DFN.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array containing report text (one line per node).
 EXTERNAL ROUTINES:
  ^%ZIS,^%ZISC,EN^DGRPD

MAGGDESCCAT - CATEGORY^MAGGTU3
 Returns list of 'MAG DESCRIPTIVE CATEGORIES'.  i.e., NAME^IEN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of 'MAG DESCRITIVE CATEGORIES'.
 EXTERNAL ROUTINES:
  

MAGGLAB STAIN - STAIN^MAGGTLB
 The line tag STAIN is used for selection of Histological stain
 Send array of entries in file 2005.4, Image Histological Stain
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Send array of entries in file 2005.4, Image Histological Stain
 EXTERNAL ROUTINES:
  

MAGGLAB MICRO - MICRO^MAGGTLB
 ;The line tag MICRO is used for selection of Microscopic Objective.
 An array of entries in the Microscopic Objective file are returned.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Send array of entries in file 2005.41, Microscopic Objective.
 EXTERNAL ROUTINES:
  

MAGGLAB SECT - SECT^MAGGTLB
 This call returns a list of Lab Sections to the calling app.
 The line tag SECT is used for selection of the Laboratory section
 Build Pathology selection from file 68 accordingly to user's division
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  MAGRY - Returns array of lab section name, section abbreviation used in
 EXTERNAL ROUTINES:
  $$NEWERR^%ZTER

MAGGLAB START - START^MAGGTLB
 ;The line tag START is used for selection of the specimen that the image
  relates to. This line tag will require a lab section (Autopsy/
  Gross, Autopsy/Microscopic, EM, Surgical Path, or Cytology),
 the Accession year, and either an Accession # or Autopsy #.  Based on
 this information it will return an array of specimens for selection.
 PARAMETERS
  SECT
   TYPE:LITERAL
   Lab section, i.e. SP, CY, etc.
  YEAR
   TYPE:LITERAL
   Lab specimen year.
  ACNUM
   TYPE:LITERAL
   Lab accession number.
  DFN
   TYPE:LITERAL
   PATIENT'S DFN
 RETURN VALUE
  TYPE: ARRAY
  Array of lab specimens, date/time, pathologist.
 EXTERNAL ROUTINES:
  $$NEWERR^%ZTER,GETS^DIQ

MAGGLAB FILE - FILE^MAGGTLB1
 Files the Lab pointer in Image File, ^MAG(2005, and files the image
 pointer in the Lab file. ^LR(LRDFN,LRSECT
 PARAMETERS
  IMIEN
   TYPE:LITERAL
   IMIEN - 
  DATA
   TYPE:LITERAL
   ;DATA - stain
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns '1^success' or '0^error text'.
 EXTERNAL ROUTINES:
  $$NEWERR^%ZTER

MAGGRADIMAGE - IMAGE^MAGGTRAI
 User selects a Radiology exam from the listing displayed, we return a list
 of images associated with that exam.
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA is the exam data that was output from the MAGGRADLIST RPC call.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of images associated with the Radiology exam. Each array
 EXTERNAL ROUTINES:
  $$NEWERR^%ZTER,$$RTRNFMT^XWBLIB

MAGGUPREFGET - GET^MAGGTUP
 Returns the user preferences for the Imaging Display windows.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Each entry of the return array has the window name as first piece, 
 EXTERNAL ROUTINES:
  $$DFTFLT^MAGGSFLT

MAGGUPREFSAVE - SAVE^MAGGTUP
 Saves the Imaging user's window preferences to the Imaging User Preferences
 file.  ^MAG(2006.18,
 PARAMETERS
  DATA
   TYPE:LIST
   Each array node has window name as first piece followed by the window
 RETURN VALUE
  TYPE: SINGLE VALUE
  returns:   '1^User preferences saved'
 EXTERNAL ROUTINES:
  

MAGGRADREPORT - RAD^MAGGTRP1
 Returns the Radiology report for the input value RARPT.  ^RARPT(RARPT)
 PARAMETERS
  RARPT
   TYPE:LITERAL
   Internal entry number of 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the report in an array.
 EXTERNAL ROUTINES:
  ^%ZISC

MAGGSUR GET - GET^MAGGTSR
 Returns a list of Surgery Cases for the Patient.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   The DFN of patient.
 RETURN VALUE
  TYPE: ARRAY
  Returns an array of Surgery cases for the given DFN.
 EXTERNAL ROUTINES:
  INFO^MAGGTII,GET^SROGTSR,$$FMTE^XLFDT

MAGGSUR FILE - FILE^MAGGTSR1
 Files the pointers in the Surgery and Image packages.
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   Image file internal number.  
  DATA
   TYPE:LITERAL
   Sting of '
 RETURN VALUE
  TYPE: SINGLE VALUE
  If success, returns "1^success"
 EXTERNAL ROUTINES:
  $$NEWERR^%ZTER,UPDATE^DIE,CLEAN^DILF,LINKDT^MAGGTU6

MAGGACTION LOG - LOGACT^MAGGTU6
 Call from Delphi to log an action performed on the image. 
 Actions are logged the IMAGE ACCESS LOG file  ^MAG(2006.95
 PARAMETERS
  DATA
   TYPE:LITERAL
   '
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns   "1^" if success.
 EXTERNAL ROUTINES:
  ENTRY^MAGLOG

MAGG DTTM - DTTM^MAGGTU5
 Does a FileMan conversion using %DT="T" D ^%DT,$$FMTE^XLFDT(Y,"8")
 PARAMETERS
    X
   TYPE:LITERAL
   User input to date/time field 
  INDT
   TYPE:LITERAL
   This is the Date to be converted in External or Internal Format.
  NOFDT
   TYPE:LITERAL
   This is a Flag to tell if Future Dates are allowed.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns date/time in format  Month DD, YYYY@HH:MM
 EXTERNAL ROUTINES:
  ^%DT,NOW^%DTC,$$FMTE^XLFDT

MAGGUSER2 - USERINF2^MAGGTU3
 Returns Array of info about user, and site settings.
 the user's security keys for later applications.
 PARAMETERS
  MAGGWRKID
   TYPE:LITERAL
   Workstation ID and Location from MAG.INI file section [SYS_SiteParam].
 RETURN VALUE
  TYPE: ARRAY
          ; MAGRY(1) = DUZ ^ FULL NAME  ^ INITIALS
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$CONSOLID^MAGBAPI,$$PLACE^MAGBAPI,$$DUZ2PLC^MAGBAPIP,$$SITE^VASITE
,$$VERSION^XPDUTL,$$KSP^XUPARAM,$$PROD^XUPROD,PROD^XUPROD

MAGGUSERKEYS - USERKEYS^MAGGTU3
 Return an array of Imaging Keys that this user holds.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns an array of IMAGING Security Keys
 EXTERNAL ROUTINES:
  USERKEYS^MAGGTU31

MAGG VERIFY ESIG - ESIG^MAGQLOG
 Verifies the Electronic signature of the current user.  
 Uses 'DUZ' defined in the partition.
 PARAMETERS
  ESIG
   TYPE:LITERAL
   This is the encrypted electronic signature entered by the user on the
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns   "1^message"   for success
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$DECRYP^ROUTINE,HASH^ROUTINE

MAGG WRKS UPDATES - UPD^MAGGTAU
 Using this remote procedure, the workstation updates its record in the
 IMAGING WINDOWS WORKSTATION file (#2006.81) and starts a new session.
 PARAMETERS
  DATA
   TYPE:LITERAL
   Data that should be stored in the IMAGING WINDOWS WORKSTATION file
 RETURN VALUE
  TYPE: SINGLE VALUE
  Zero value of the first '^'-piece of the Results[0] indicates that an 
 EXTERNAL ROUTINES:
  ^%DT,UPDATE^DIE,GETS^DIQ,$$PLACE^MAGBAPI,$$NOW^XLFDT,$$VERSION^XPDUTL

MAGG LOGOFF - LOGOFF^MAGGTAU
 Tracks the time of the Imaging session.
 Kills TMP globals, cleans up.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  always returns '1'.  Mainly for future use and Imaging statistics.
 EXTERNAL ROUTINES:
  UPDATE^DIE,$$NOW^XLFDT

MAGG SYS WRKS DISPLAY - WRKS^MAGGTSY
 Utilites for Imaging system manager.
 RPC Call for MAGSYS utility. List of Workstation Information.
 PARAMETERS
  ZYx
   TYPE:LITERAL
   the Computer Name running MAGSYS.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the Imaging windows workstation file entries.
 EXTERNAL ROUTINES:
  

MAGG MED NEW - NEW^MAGGTMC1
 Makes a procedure stub in the Medicine package.
 This call doesn't require an Image pointer, so the stub is just that
   : a stub with nothing in it.
 PARAMETERS
  DATA
   TYPE:LITERAL
   ; DATA = DATETIME
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns MCIEN of newly created procedure stub
 EXTERNAL ROUTINES:
  

MAGG IMAGE INFO - IMAGEINF^MAGGTU3
 Returns information on 1 Image
 PARAMETERS
  IEN
   TYPE:LITERAL
   internal entry number in IMAGE file  
  NOQACHK
   TYPE:LITERAL
   If this flag is sent with a value of 1, then the QA check will
 RETURN VALUE
  TYPE: ARRAY
  Returns '^' delimited string of image info
 EXTERNAL ROUTINES:
  $$INFO^MAGGAII,$$ISDEL^MAGGI11,$$NODE^MAGGI11

MAGG IMAGE DELETE - IMAGEDEL^MAGGTID
 Deletes Image entry from Image file, ^MAG(2005 and Image File from disk.
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   Internal entry number in the IMAGE FM File.  
  MAGGRPDF
   TYPE:LITERAL
   This is a Group Delete Flag
  REASON
   TYPE:LITERAL
   This is a free text description of the Reason for Deleting the Image.
 RETURN VALUE
  TYPE: ARRAY
    1^Image deleted
 EXTERNAL ROUTINES:
  

MAGG DEV SHOW NODE - MAG^MAGGTSYS
 For help in development and testing.
 It returns the NODE from Imaging file to view in raw form.
 PARAMETERS
  NODE
   TYPE:LITERAL
   This is the node of file 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The ^MAG(2005,IEN  Global data in raw form.
 EXTERNAL ROUTINES:
  

MAGG SYS WRKS SESSIONS - SESSION^MAGGTSY1
 Returns session listing for a workstation.
 PARAMETERS
  DATA
   TYPE:LITERAL
    DATA is '
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of user sessions on this workstation.
 EXTERNAL ROUTINES:
  

MAGG SYS SESSION DISPLAY - DISPLAY^MAGGTSY1
 Returns a display of this session activity.
 PARAMETERS
  MAGSIEN
   TYPE:LITERAL
   This is the IEN of the Session in file 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a list of actions and errors that
 EXTERNAL ROUTINES:
  

MAG3 LOGACTION - LOGACT^MAGGTAU
 Certain actions performed by a user are tracked for statistical purposes
 in the IMAGING WINDOWS SESSIONS and IMAGING WINDOWS WORKSTATIONS files.
 PARAMETERS
  ACTION
   TYPE:LITERAL
   LOGACT calls ACTION
 RETURN VALUE
  TYPE: SINGLE VALUE
  Always returns the string "1^Action logged"
 EXTERNAL ROUTINES:
  

MAGG QUE IMAGE - QUEIMAGE^MAGGTU7
 Queues images to be copied from JukeBox to harddrive.
  (to the Image Write Directory)
 PARAMETERS
  CODE
   TYPE:LITERAL
   A Code containing A | F | B 
  MAGIEN
   TYPE:LITERAL
   This is the IEN from Image File 
 RETURN VALUE
  TYPE: SINGLE VALUE
   1^message for success
 EXTERNAL ROUTINES:
  $$JBTOHD^MAGBAPI,$$DA2PLC^MAGBAPIP,$$ABS4IMAG^MAGGSFT

MAGG QUE IMAGE GROUP - QUEGROUP^MAGGTU7
 RPC Call to queue all images of an
   Image group for a copy from JukeBox.
   This can also be a PREFETCH, in which case the Images being
   Queued have a lower priority than other copies from JukeBox
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   This is the IEN of the Image Group in MAG(2005 file.
  CODE
   TYPE:LITERAL
           ; CODE is a string code for which images to Queue
  QCODE
   TYPE:LITERAL
    QCODE is a QUEUE code.  If = 1 then this is a prefetch
 RETURN VALUE
  TYPE: SINGLE VALUE
  '^' delimited string.  Standard Imaging return format 
 EXTERNAL ROUTINES:
  

MAGG QUE PATIENT - QUEPAT^MAGGTU7
 This is called for a PREFETCH, the images queued this way have a 
   lower priority than other copy from JukeBox queues.
 Queues all images for a patient.  i.e. All images for a patient will be
 copied from the jukebox to the harddrive.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   This is the patients DFN.
  CODE
   TYPE:LITERAL
           ; CODE is a string code for which images to Queue
 RETURN VALUE
  TYPE: SINGLE VALUE
  "1^message"   if successful
 EXTERNAL ROUTINES:
  $$ISDEL^MAGGI11

MAGG QUE LIST - QUELIST^MAGGTU7
 Queues a list of images to be copied from jukebox to harddrive. 
 PARAMETERS
  CODE
   TYPE:LITERAL
     A Code containing A | F | B
  LIST
   TYPE:LIST
   The list of Image IEN's to be queued.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Standard Imaging return variable  1 = success  0 = error
 EXTERNAL ROUTINES:
  

MAGG MED DICOMID - DICOMID^MAGGTMC1
 Returns an ID, generated as a temporary way to link, flouroscopic
 images captured by other system to images captured on this
 workstation.
 They will be linked by both being saved under the same Medicine procedure.
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA = psien 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns 1^DICOMID if successful
 EXTERNAL ROUTINES:
  DICOMID^MAGDMEDI

MAGG OFFLINE IMAGE ACCESSED - MAIL^MAGGTU3
 This sends a message when an image has been accessed from a Jukebox
 platter that is offline, as determined by having an entry in 
 the file ^MAGQUEUE(2006.033.
 PARAMETERS
  MAGFILE
   TYPE:LITERAL
   The full path and file name of the Image accessed.
  MAGIEN
   TYPE:LITERAL
   The Internal entry number in file MAG(2005.  
 RETURN VALUE
  TYPE: SINGLE VALUE
  always returns "1^message sent"
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$UP^XLFSTR,^XMD

MAGQ ABP - ENTRY^MAGQBTM
 Provides a list of Active Background Processes.
 PARAMETERS
  WORKSTAT
   TYPE:LITERAL
   This value is the actual workstation name as specified by
  PROCESS
   TYPE:LITERAL
   This value is by design either "B-PROC" or "Purge" and is used to rename
 RETURN VALUE
  TYPE: ARRAY
  (0)="-1^No Background Processor parameters on system" OR
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI,ADD^MAGBAPI,$$UBPW^MAGQBUT1,VOKR^MAGQBUT4,$$UPPER^MAGQE4,$$BAS
E^XLFUTL

MAGQ REQ - REQUE^MAGQBTM
 Requeues a process which failed.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number of the Vista Imaging Queue file (#2006.03) of the
 RETURN VALUE
  TYPE: SINGLE VALUE
  The Internal Entry number of the newly requeued task.
 EXTERNAL ROUTINES:
  TIDL^MAGQBIM,DQUE^MAGQBUT2,$$TRIM^MAGQBUT4

MAGQ QUD - QUPDTE^MAGQBTM
 Updates the status field in the specified queue record.
 PARAMETERS
  IEN
   TYPE:LITERAL
   The internal entry number of the Vista Imaging Queue file - the queue item
  UPDATE
   TYPE:LITERAL
   The message string result of the process:
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UPDATE^DIE,$$JUKEBOX^MAGBAPI,ENTRY^MAGLOG,DQUE^MAGQBUT2,$$TRIM^MAGQBUT4,$$NOW^
XLFDT

MAGQ GET - GETQUE^MAGQBTM
 Returns parameters for the next queue process for the specified type.
 PARAMETERS
  ACTION
   TYPE:LITERAL
   The background processor queue type
 RETURN VALUE
  TYPE: SINGLE VALUE
  The internal entry number (IEN) of the Mag Queue file (#2006.03) of
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI

MAGQ FS UPDATE - FSUPDT^MAGQBUT1
 Updates the online file server entries in the Network location file
 with the disk size and the space available.
 PARAMETERS
  IEN
   TYPE:LITERAL
   The network location file (#2005.2) internal entry number of the record
  SPACE
   TYPE:LITERAL
   The amount of space available for copying images.
  SIZE
   TYPE:LITERAL
   The disk capacity of the network share.
 RETURN VALUE
  TYPE: SINGLE VALUE
  "1^Update Complete"
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI,$$FMTE^XLFDT,$$NOW^XLFDT

MAGQBP UPDATE - PGEUD^MAGQBPG2
 Nulls the appropriate magnetic network location reference.
 PARAMETERS
  FILENAME
   TYPE:LITERAL
   The Image file name to be updated.
  EXT
   TYPE:LITERAL
   The image file extension to be updated.
  IEN
   TYPE:LITERAL
   Image file internal entry number to be updated.
  Device
   TYPE:LITERAL
   'NET' or 'JB' to specify which Image system reference to update.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean: 0:failed, 1:success
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI,$$FTYPE^MAGQBPRG,ELOG^MAGQBPRG

MAGQBP PARM - PGEPAR^MAGQBPG2
 Site Purge parameter fetch.
 PARAMETERS
  NULL
   TYPE:
   No input parameter required.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Status^MinAbs^MinFull^MinBig^ABS^PACABS^FULL^PACS^BIG^PACSBIG^RADHOLD
 EXTERNAL ROUTINES:
  GETS^DIQ,$$PLACE^MAGBAPI

MAGQ CUPDTE - CUPD^MAGQBPRG
 This RPC is used by the purge routine to update the magnetic references in
 the image file(#2005) for images have migrated to heretofore unmapped
 network locations.
 PARAMETERS
  FILEPATH
   TYPE:LITERAL
   This is the network path on which the image file was found.
  FNAME
   TYPE:LITERAL
   This is the filename, including extension, which requires its location
  IEN
   TYPE:LITERAL
   This is the internal entry number of the image file (#2005) which requires
 RETURN VALUE
  TYPE: SINGLE VALUE
  NULL: no return value is defined.
 EXTERNAL ROUTINES:
  

MAGG CPRS RAD EXAM - IMAGEC^MAGGTRAI
 Returns a list of Images for the Radiology Exam selected in CPRS.
 PARAMETERS
  DATA
   TYPE:LITERAL
   This is the Data that CPRS sends Imaging, in the windows messaging format.
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of images and image information 
 EXTERNAL ROUTINES:
  $$RTRNFMT^XWBLIB

MAGG SYS GLOBAL NODE - MAG^MAGGTSY2
 Returns the global node of an Image File entry.
 PARAMETERS
  NODE
   TYPE:LITERAL
   This is the node to display.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the NODE of the Image file. i.e. ^MAG(2005,NODE
 EXTERNAL ROUTINES:
  

MAGG GROUP IMAGES - GROUP^MAGGTIG
 Returns array of images for an Image entry.
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   Internal entry of Image entry in Image File 
  NOCHK
   TYPE:LITERAL
   If this flag is sent with a value of 1, then the QA check will
 RETURN VALUE
  TYPE: ARRAY
  Array of Image information for each entry in the Image Group.
 EXTERNAL ROUTINES:
  $$INFO^MAGGAII,CHK^MAGGSQI,CHKGRPCH^MAGGSQI,$$RTRNFMT^XWBLIB

MAGG PAT IMAGES - IMAGES^MAGGTIG
 This returns the full list of images for a patient.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   This is DFN of patient.
 RETURN VALUE
  TYPE: ARRAY
  Returns an array, (Global Array if list gets too big), of all images for
 EXTERNAL ROUTINES:
  $$INFO^MAGGAII,$$ISDEL^MAGGI11

MAGQ ELOGR - ELOGR^MAGQBPRG
 This provides a method of capturing errors logged during the purge
 process.  This function provides a list which can be examined at a later
 date and will be rolled into the purge log file on the BP Server 
 which performed the purge.
 PARAMETERS
  NULL
   TYPE:
   No input parameter is defined.
  LIMIT
   TYPE:LITERAL
   This value is used to control the array size.
 RETURN VALUE
  TYPE: ARRAY
  This is a list of the file names and image file (#2005) references
 EXTERNAL ROUTINES:
  

MAGQ JH RPT - JHRPT^MAGQBJHR
 Reports on the current set of Jukebox to harddisk (JBTOHD) processes (Who,
 queued, what patients, when, and workstation logons)
 PARAMETERS
  null
   TYPE:
   No input parameter is defined for this procedure.
 RETURN VALUE
  TYPE: ARRAY
  This array contains information regarding the queuer, the file types, and
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$PLACE^MAGBAPI

MAGG PAT EACH IMAGE - EACHIMG^MAGGTIG
 Returns a list of Images with Capture date/time, image description for
 each patient image, and it will list all images of all groups and all
 single images.
 Called from capture application to list most recent images captured
 for a patient.  
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   Patient's DFN.
  MAX
   TYPE:LITERAL
   The maximum number of images to return.
 RETURN VALUE
  TYPE: ARRAY
  Returns the array, reverse chronological order of
 EXTERNAL ROUTINES:
  $$ISDEL^MAGGI11

MAGQB QSL - BPQSL^MAGQBUT1
 This procedure call sets the queue file last process queue to the input
 parameter.  This is used by the Queue Manager reset the queue method.
 PARAMETERS
  QUEUE TYPE
   TYPE:LITERAL
   This defines the queue type to be reset.
  IEN
   TYPE:LITERAL
   This is the QUEUE file (#2006.03) internal entry number.
 RETURN VALUE
  TYPE: ARRAY
  No output or result values have been defined for this procedure call.
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI

MAGG GET TIMEOUT - TIMEOUT^MAGGTU6
 Called by imaging application to get the Site defined timeout for 
 the Imaging applications. 
 Accepted input is "DISPLAY" , "CAPTURE", "VISTARAD" or "TELEREADER".
 PARAMETERS
  APP
   TYPE:LITERAL
   Either "DISPLAY"  "CAPTURE" or "VISTARAD".
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the entry in the IMAGING SITE PARAMETERS File for the Timeout
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI

MAGQ JBS - ENTRY^MAGQBPG1
 This list process returns a list of jukebox shares for the BP Verifier.
 PARAMETERS
  WS Name
   TYPE:LITERAL
   This is the tree letter BP Workstation name.
  jbscan
   TYPE:LITERAL
   'jbscan' literal.
 RETURN VALUE
  TYPE: ARRAY
  This is the list of jukebox shares.
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI,$$UPPER^MAGQE4,$$FMTE^XLFDT,$$NOW^XLFDT,$$BASE^XLFUTL

MAGQ SHARES - SHR^MAGQBPG1
 This RPC returns a list of online shares for the verifier process to
 validate Vista Imaging file references to.
 PARAMETERS
  null
   TYPE:
   No input parameters are defined for this procedure.
 RETURN VALUE
  TYPE: ARRAY
  This list contains the path and internal entry number of all the ONline
 EXTERNAL ROUTINES:
  $$CWL^MAGBAPI,$$PLACE^MAGBAPI

MAG3 TIU IMAGE - FILE^MAGGNTI
 Files the TIU pointer in Imaging and the Imaging Pointer in TIU.
 PARAMETERS
  MAGDA
   TYPE:LITERAL
   This is the Image File entry Internal number.
  TIUDA
   TYPE:LITERAL
   This is the TIU internal number.
 RETURN VALUE
  TYPE: SINGLE VALUE
  success  1^message
 EXTERNAL ROUTINES:
  LINKDT^MAGGTU6,PUTIMAGE^TIUSRVPL

MAG3 LOOKUP ANY - LKP^MAGGNLKP
 Lookup using FIND^DIC for general purpose file lookup.
 PARAMETERS
  ZYx
   TYPE:LITERAL
           ; ZY is parameter sent by calling app (Delphi)
  MAGIN
   TYPE:LITERAL
   MAGIN is parameter sent by calling app (Delphi)
  DATA
   TYPE:LITERAL
   |TAB|; DATA : 
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of matching entries.
 EXTERNAL ROUTINES:
  FIND^DIC,$$GET1^DID,$$VFILE^DILFD

MAG3 TIU DATA FROM DA - DATA^MAGGNTI
 get TIU data from the TIUDA.
 Returns Document Type, and Document Date/Time
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the internal number in the TIU Document file.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns Document Type, and Document Date/Time
 EXTERNAL ROUTINES:
  $$GET1^DIQ

MAG3 CPRS TIU NOTE - IMAGES^MAGGNTI
 Returns a list of all images for a TIU document.
 for a TIU document
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   Internal entry number of document i.e.  
 RETURN VALUE
  TYPE: ARRAY
  Array of "^" delimited Image information in the format : 
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$INFO^MAGGAII,CHK^MAGGSQI,INVALID^MAGGTIG,GETILST^TIUSRVPL,$$FMTE^
XLFDT

MAGQ JPUD - JPUD^MAGQBPG1
 This call is to update the Image file JUKEBOX file references.
 PARAMETERS
  POINTER
   TYPE:LITERAL
   This is the network location file IEN.
  EXTENSION
   TYPE:LITERAL
   This is the image file extension of the file whose jukebox reference is in
  IEN
   TYPE:LITERAL
   This is the IMAGE file (#2005) internal entry number.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean: '1' equals success, '0' call failed.
 EXTERNAL ROUTINES:
  $$FTYPE^MAGQBPRG

MAGQ VCUD - VCUD^MAGQBPG1
 This call is to update the Image file VMC file references.
 PARAMETERS
  Pointer
   TYPE:LITERAL
   This is the network location file IEN.
  Extension
   TYPE:LITERAL
   This is the image file extension of the file whose network reference is in
  IEN
   TYPE:LITERAL
   This is the IMAGE file (#2005) internal entry number.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean: '1' equals success, '0' call failed.
 EXTERNAL ROUTINES:
  $$FTYPE^MAGQBPRG

MAGQ DIK - DELETE^MAGGTID
 This procedure will remove an image file entry and clean
 up references to it.
 PARAMETERS
  ien
   TYPE:LITERAL
   The internal entry number of the image entry to be removed.
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
  Return Array RY(0)="1^SUCCESS"
 EXTERNAL ROUTINES:
  DELETE^MAGSIMBR

MAGQ ISN - ISN^MAGUSIT
 This is the mail message component of the "ImageGroupNotify" method.
 This report is sent to the MAG SERVER mail group in order to alert
 members of the occurance of image file size variance.  This is indicative
 of a network and Clinical imaging event requiring action to correct the
 clinical database.
 PARAMETERS
  FILENAME
   TYPE:LITERAL
   This is the filename and extension which has file size variance.
  Network source file size.
   TYPE:LITERAL
   This is the bite integer which represents the size property.
  Jukebox size
   TYPE:LITERAL
   This is the Jukebox file size integer property.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean: '1' equals success, '0' equals failure.
 EXTERNAL ROUTINES:
  DD^%DT,NOW^%DTC,$$GET1^DIQ,$$CONSOLID^MAGBAPI,$$PLACE^MAGBAPI,$$KSP^XUPARAM

MAGG PAT FIND - FIND^MAGGTPT1
 Patient Lookup uses FIND^DIC
 PARAMETERS
  ZYx
   TYPE:LITERAL
   '
  MAGGLKP
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of matching entries.
 EXTERNAL ROUTINES:
  FIND^DIC,$$DOB^DPTLK1,$$SSN^DPTLK1,$$GETICN^MPIF001

MAGG PAT INFO - INFO^MAGGTPT1
 Returns a string of '^' delimited pieces of patient information.
 
 PARAMETERS
  DATA
   TYPE:LITERAL
   ;    DATA:  MAGDFN 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The result String returns the following.
 EXTERNAL ROUTINES:
  ACTION^MAGGTAU,$$GETICN^MPIF001,DEM^VADPT,ELIG^VADPT,KVA^VADPT,KVAR^VADPT,GETD
FN^VAFCTFU1,$$SITE^VASITE,$$FMTE^XLFDT,$$PROD^XUPROD,PROD^XUPROD

MAGG PAT BS5 CHECK - BS5CHK^MAGGTPT1
 This RPC calls the GUIBS5A^DPTLK6 API.  To return a list of Patients if
 any match the Last Name and Last 4 SSN of the input DFN.
 It is the Similiar Patient Check.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   DFN of Patient to check.
 RETURN VALUE
  TYPE: ARRAY
  List of patient names and DFNs matching the input DFN.
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1,GUIBS5A^DPTLK6

MAG GET NETLOC - SHARE^MAGGTU6
 Returns a list of all entries in the Network Location file (2005.2).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  List of network locations with properties
 EXTERNAL ROUTINES:
  

MAG EKG ONLINE - ONLINE^MAGGTU6
 Returns the status of the first EKG network location type.
 If an EKG storage type doesn't exist then an offline status is returned.
  
 1=online
 0=offline
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  1=online
 EXTERNAL ROUTINES:
  $$CONSOLID^MAGBAPI,$$PLACE^MAGBAPI

MAGG PAT PHOTOS - PHOTOS^MAGGTIG
 This returns an Image list of Patient Photo iD's in the Image File.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   This is the DFN of the patient in question.
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of all patient Photo on file in the Image File.
 EXTERNAL ROUTINES:
  $$INFO^MAGGAII,$$ISDEL^MAGGI11

MAGG LOG ERROR TEXT - LOGERROR^MAGGTU3
 This call inserts text into the Error field of the IMAGING WINDOWS
 SESSION FILE.
 PARAMETERS
  TEXT
   TYPE:LIST
   This is the list of text to insert.
 RETURN VALUE
  TYPE: SINGLE VALUE
  always returns "1^"
 EXTERNAL ROUTINES:
  LOGERR^MAGGTERR

MAGQ SYSTEM - MAGSYS^MAGQBUT2
 This procedure provides a list of all active person file members who have the "
MAG SYSTEM" security key assignned to them.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  file 200 IEN^Person file name
 EXTERNAL ROUTINES:
  $$FIND1^DIC,$$GET1^DIQ,$$NOW^XLFDT

TIU TEMPLATE GETLINK - GETLINK^TIUSRVT1
 Returns template linked to a specific title or reason for request.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NODEDATA^TIUSRVT

TIU TEMPLATE ALL TITLES - TITLELST^TIUSRVT1
 Returns a long list of all active titles.
 PARAMETERS
  FROM
   TYPE:LITERAL
  DIR
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWCOM PTOBJ - PTOBJ^ORWCOM
 Returns COM Object entries from  different parameters.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Zero Node from File 101.15
 EXTERNAL ROUTINES:
  

ORWCOM ORDEROBJ - ORDEROBJ^ORWCOM
 Returns COM Objects for order accept
 PARAMETERS
  ORGRP
   TYPE:LITERAL
   Display Group IEN
 RETURN VALUE
  TYPE: SINGLE VALUE
  Zero node from File 101.15
 EXTERNAL ROUTINES:
  

ORWCOM GETOBJS - GETOBJS^ORWCOM
 Returns a list of all active COM objects
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWCOM DETAILS - DETAILS^ORWCOM
 Returns details of COM object when passed in COM IEN.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWSR SHOW SURG TAB - SHOWSURG^ORWSR
 Check for presence of SR*3.0*100 (Surgery Electronic Signature) patch, and
 also for parameter value.  If both TRUE, surgery tab will be displayed in
 CPRS.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  TRUE - surgery patch installed,and parameter enabled.
 EXTERNAL ROUTINES:
  $$GET^XPAR,$$PATCH^XPDUTL

ORWSR LIST - LIST^ORWSR
 Return list of surgery cases for a patient.
 PARAMETERS
  patient id
   TYPE:LITERAL
  BEGIN DATE
   TYPE:LITERAL
  END DATE
   TYPE:LITERAL
  CONTEXT
   TYPE:LITERAL
   Not yet implemented.  Reserved for future use.
  MAX
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  OperationIEN^Description^date^surgeon^case#
 EXTERNAL ROUTINES:
  Y^DIQ,STATUS^GMTSROB,$$DATE^ORDVU,$$NON^SROESTV,LIST^SROESTV,$$SITE^VASITE,$$P
ATCH^XPDUTL

ORWSR GET SURG CONTEXT - GTSURCTX^ORWSR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWSR SAVE SURG CONTEXT - SVSURCTX^ORWSR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR,ADD^XPAR,CHG^XPAR

ORWSR ONECASE - ONECASE^ORWSR
 Given a TIU document IEN, return the surgical case record and all other
 documents related to the case, for display in the GUI treeview.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   Document IEN in file 8925.
 RETURN VALUE
  TYPE: ARRAY
  Same as ORWSR LIST, but for only one case.
 EXTERNAL ROUTINES:
  GET1405^TIUSRVR,$$PATCH^XPDUTL

ORWSR CASELIST - CASELIST^ORWSR
 Returns a list of all surgery cases for a patient, without documents as
 returned by ORWSR LIST.
 PARAMETERS
  dfn
   TYPE:LITERAL
   Patient DFN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Case IEN^Procedure name^FileMan date of surgery^surgeon IEN;Surgeon name^
 EXTERNAL ROUTINES:
  LIST^SROESTV,$$PATCH^XPDUTL

ORWSR SHOW OPTOP WHEN SIGNING - SHOWOPTP^ORWSR
 PARAMETERS
  CASE IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$OPTOP^SROESTV,$$PATCH^XPDUTL

ORWSR IS NON-OR PROCEDURE - ISNONOR^ORWSR
 PARAMETERS
  CASE IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NON^SROESTV,$$PATCH^XPDUTL

ORQQCN GET PROC IEN - PROCIEN^ORQQCN1
 Given orderable item IEN, return pointer to file 123.3
 PARAMETERS
  orderable item
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWRP3 EXPAND COLUMNS - LIST^ORWRP3
 This RPC loads and expands nested reports defined in the OE/RR Reports
 file (#101.24) for use on the Reports Tab in CPRS.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWTPD DELDFLT - DELDFLT^ORWTPD
 Delete user level's specific health summary component setting( date range and m
ax occurences)
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DEL^XPAR,NDEL^XPAR

ORWTPD GETDFLT - GETDFLT^ORWTPD
 get default setting for all reports(time/occ limits)
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPD SUINDV - SUINDV^ORWTPD
 set user level individual report's time/occ setting
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DEL^XPAR,EN^XPAR

ORWTPD RSDFLT - RSDFLT^ORWTPD
 get system or package level default setting for all repors.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPD SUDF - SUDF^ORWTPD
 Set user level default time/occ limits for all reports
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR,DEL^XPAR,EN^XPAR

ORWTPD ACTDF - ACTDF^ORWTPD
 Make default time/occ setting take action on each report
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPD GETSETS - GETSETS^ORWTPD
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWRP PRINT V REPORT - PRINTV^ORWRPP1
 This rpc is used to print a V type report on the Reports tab in CPRS
 PARAMETERS
  ORIO
   TYPE:LITERAL
  DFN
   TYPE:LITERAL
  HEADER
   TYPE:LITERAL
  REPORT
   TYPE:WORD PROCESSING
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^%ZTLOAD

ORWCH SAVECOL - SAVECOL^ORWCH
 This RPC saves the column width sizes for reports in CPRS for the user.
 PARAMETERS
  COL
   TYPE:LITERAL
   Format: ifn
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

ORWRP2 COMPABV - COMPABV^ORWRP2
 This RPC returns an array of the ADHOC Health Summary components by abbreviatio
n.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Here is the format of the returned array:
 EXTERNAL ROUTINES:
  COMP^GMTSADH5

ORWRP2 SAVLKUP - SAVLKUP^ORWRP2
 This saves the last Adhoc Health Summary lookup used by a user in CPRS.
 PARAMETERS
  VAL
   TYPE:LITERAL
   This is the value passed to the parameter ORWRP ADHOC LOOKUP
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

ORWRP2 GETLKUP - GETLKUP^ORWRP2
 This gets the last Adhoc Health Summary lookup used by a user in CPRS.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  This returns the value saved in the parameter ORWRP ADHOC LOOKUP
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWRP2 COMPDISP - COMPDISP^ORWRP2
 This RPC returns an array of the ADHOC Health Summary components by 
 display name.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Here is the format of the returned array:
 EXTERNAL ROUTINES:
  COMP^GMTSADH5

ORWPCE ISCLINIC - ISCLINIC^ORWPCE2
 Returns TRUE if location is a Clinic.
 PARAMETERS
  ORLOC
   TYPE:LITERAL
   Location
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ

ORWSR RPTLIST - RPTLIST^ORWSR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  Y^DIQ,STATUS^GMTSROB,$$DATE^ORDVU,LIST^SROESTV,$$SITE^VASITE,$$PATCH^XPDUTL

ORQQPXRM MST UPDATE - MST^ORQQPXRM
 Saves MST data
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MST^PXRMRPCC

ORWMC PATIENT PROCEDURES1 - PROD1^ORWMC
 This remote procedure call returns a list of patient procedures for a
  specific patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of patient in the Patient file [
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

ORWRA IMAGING EXAMS1 - EXAMS1^ORWRA
 This remote procedure call returns a list on imaging exams for a
 specific patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of patient in the Patient file [
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The format of the returned global array is the following:
 EXTERNAL ROUTINES:
  

ORWRA REPORT TEXT1 - RPT1^ORWRA
 This remote procedure call returns an array containing
 a formattied imaging report. This array matches exactly
 the report format on the roll 'n scroll version of CPRS.
 
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of patient in the Patient file [
  EXAMID
   TYPE:LITERAL
   Imaging exam ID.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The global array returned contains the formatted text
 EXTERNAL ROUTINES:
  

VEJD TPA GET KIDS STATUS - KID^VEJDTP01
 This does a Fileman lookup on the INSTALL file and returns the last entry
 for the value passed.
 PARAMETERS
  VAL
   TYPE:LITERAL
   Enter the name of the KIDS build for which you which to see its
 RETURN VALUE
  TYPE: ARRAY
  An array is returned in case an error is encountered or if multiple
 EXTERNAL ROUTINES:
  

DENTV ADA CODES QUICK - GET^DENTVRP2
 Retrieve the user's quick list of CPT codes.
 stored file 220.5, field 19600.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This will return the user's quick list in the standard array format.
 EXTERNAL ROUTINES:
  

DENTV ADD QL ENTRY - ADD^DENTVRP2
 This will add a new CPT to the user's quick list.
 the Dental Provider file (#220.5).
 PARAMETERS
  CPT
   TYPE:LITERAL
   This is the cpt code name (.01) value in the CPT file (#81)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return 1 if successfully added, else return -1^error message.
 EXTERNAL ROUTINES:
  

DENTV DD FIELD UPDATE - FILE^DENTVRP3
 This call will allow the updating of certain fields in file 228.
 You can delete a locally added medical CPT code.
 You can edit the diagnosis codes mapped to any CPT code.
 PARAMETERS
  DATA
   TYPE:LIST
   DATA(1) = ien for file 228
  KEY
   TYPE:LITERAL
   Check which security key this user has. The default value is 'L', or you
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the data was successfully filed, then return
 EXTERNAL ROUTINES:
  

DENTV DD GET DATA - GTD^DENTVRP3
 Pass this RPC a cpt code and it will return the data stored in file 228
 PARAMETERS
  CODE
   TYPE:LITERAL
   This is the CPT code name.  You can also send the ien to file 81 (CPT)
  KEY
   TYPE:LITERAL
   Check which security key this user has. The default value is 'L', or you
 RETURN VALUE
  TYPE: ARRAY
  This returns the data in file 228 associated with a cpt code.  It
 EXTERNAL ROUTINES:
  

DENTV DD GET/ADD RECORD - ADD^DENTVRP3
 This rpc returns the internal entry number to file 228 for a cpt code.
 PARAMETERS
  DATA
   TYPE:LITERAL
   Format:  data = p1 
  KEY
   TYPE:LITERAL
   Check which security key this user has. The default value is 'L', or you
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a literal:
 EXTERNAL ROUTINES:
  

DENTV DD SECURITY KEY - KEY^DENTVRP3
 This rpc will check to see if user holds the DENTV EDIT FILE security
 keys.
 PARAMETERS
  KEY
   TYPE:LITERAL
   Optional if KEY="L" (or KEY not passed at all), then check to see if the
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns 1 if user holds the security key
 EXTERNAL ROUTINES:
  

DENTV DELETE HISTORY ENTRY - DELH^DENTVRHD
 This will mark records in file 228.1 as deleted.   Through indexes on the
 DATE DELETED field in file 228.1, the associated transactions in file
 228.2 will be marked as deleted.  Since these two files are considered 
 part of the official medical record, then, according to HIPAA, once a 
 permenant record has been filed, it cannot be deleted unless an audit 
 trail is maintained.  So we will keep these deleted records in these two 
 files but will mark the records as having been deleted.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the internal entry number in file 228.1 to be deleted
  REASON
   TYPE:LITERAL
   You can provide a reason as to why this record was deleted.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return a message:
 EXTERNAL ROUTINES:
  

DENTV DELETE QL ENTRY - DEL^DENTVRP2
 This will delete a CPT code from a user's quick list.
 list.
 PARAMETERS
  CPT
   TYPE:LITERAL
   This is the cpt code name (.01) in the cpt file (#81)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return 1 if successfully deleted, else return -1^error message.
 EXTERNAL ROUTINES:
  

DENTV DENT HISTORY ENC - ENC^DENTVRH
 This will return the dental encounter data for a given record in file
 228.1
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the internal entry number for file 228.1
 RETURN VALUE
  TYPE: ARRAY
  This will return two lines of data:
 EXTERNAL ROUTINES:
  

DENTV DENTAL CLASSIFICATIONS - DC^DENTVRP1
 RPC to return dental classifications from file 220.2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  This returns the dental classifications from file 220.2 in an array in the
 EXTERNAL ROUTINES:
  

DENTV EXCEL EXTRACT - EXCEL^DENTVRP9
 This rpc will extract data from the history file (228.1) and format it
 so that the data can be imported into a spreadsheet.  The data will be in
 delimited format, with the '^' as the delimiter.
 PARAMETERS
  SDT
   TYPE:LITERAL
   This is the start date/time for the extract.  The date/time must be in
  EDT
   TYPE:LITERAL
   This is the end date for the extract.  It must be in internal Fileman
  PROV
   TYPE:LITERAL
   Optional - if you want to extract only those records for a particular
  DFN
   TYPE:LITERAL
   Optional - if you wish to extract records for a particular patient, then
  FLG
   TYPE:LITERAL
   Contains the string CFPO or any combination of that.
  STN
   TYPE:LITERAL
   Contains the external facility ID (500, 500BZ, etc) for which the user 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   RET is returned as the global reference ^TMP("DENT",$J)
 EXTERNAL ROUTINES:
  

DENTV FILE ADMIN TIME - NON^DENTVRP4
 This will file non-clinical admin time into file 226
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA = p1
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a string 1^Record successfully added
 EXTERNAL ROUTINES:
  

DENTV FILE DATA - UPD^DENTVRF
 The will process the data from the DRM GUI and file it to the 
 corresponding files.  It will create a record in file 221, 228.1, one or 
 more files in 228.2, and will file data to PCE.
 PARAMETERS
  DATA
   TYPE:LIST
   This array will contain all the data needed.
 RETURN VALUE
  TYPE: ARRAY
  The return array data will be in the format n^text where
 EXTERNAL ROUTINES:
  

DENTV GET CATEG/CODES - CATC^DENTVRP1
 This works in conjunction with the DENTV GET CATEGORIES rpc.  You pass
 the subcategory name and this call will return the array of cpt codes
 associated with that subcategory name.
  
 end description update 6-23-2003
 PARAMETERS
  TYP
   TYPE:LITERAL
   This is the subcategory name from file 228 that was retrieved by using
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  An array of cpt codes is returned that have this subcategory (fields 5 or
 EXTERNAL ROUTINES:
  

DENTV GET CATEGORIES - CAT^DENTVRP1
 This rpc will return the different categories (fields 5 & 6) in file 228
 PARAMETERS
  TYP
   TYPE:LITERAL
   This is optional.  If passed it should be either 1, 2, or 12
 RETURN VALUE
  TYPE: ARRAY
  An array is returned (in alphabetical order) of the various subcategory
 EXTERNAL ROUTINES:
  

DENTV GET CODE LIST - LIST^DENTVRP1
 This call will return all ADA CPT codes which match the inputted string.
 You can pass the cpt code name or a string, like 'surf'.
 PARAMETERS
  VAL
   TYPE:LITERAL
   This is the string of characters that will be used in a Fileman lookup on
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  An array of codes will be returned.  For format of that array see the
 EXTERNAL ROUTINES:
  

DENTV TOOTH HISTORY - TH^DENTVRH
 This returns the dental history for a single tooth for a patient or for 
 all records.
 PARAMETERS
  DATA
   TYPE:LITERAL
   Input parameter for looking up dental history in file 19600.1
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A global array will be passed back to the calling client.  The format
 EXTERNAL ROUTINES:
  

DENTV DENTAL PROVIDER - PROV^DENTVRP1
 From user's duz, verify that the user is a valid dental provider
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is a a pointer to the NEW PERSON file (#200)
 RETURN VALUE
  TYPE: SINGLE VALUE
  This will return the user's name if the user is an active dental
 EXTERNAL ROUTINES:
  

VEJDWPB GET SCHED APPTS - APPT^VEJDVST1
 This will invoke SDA^VADPT.  It returns those appointments which were kept
 and all open future appointments depending upon the date range.
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA = DFN 
  VECLIN
   TYPE:LIST
   VECLIN is a local array which contains a list of clinics to be used to 
  SCODE
   TYPE:LIST
   This is a list of 3-digit stop codes used to screen appointments 
  VEDIV
   TYPE:LIST
   This is a list of divisions to be used to screen appointments.  Only 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data passed to broker via the global ^TMP("VEJD",$J,"APT",#)
 EXTERNAL ROUTINES:
  

VEJDWPB GET VISITS/APPOINTMENT - VSIT^VEJDVST2
 This will call the VEJDWPB GET SCHED APPTS rpc to get the scheduled
 appointments for the user inputted date range.
  
 It then loops throughs the Visit file (#9000010) "AA" cross reference to
 find all visits.
  
 It then uses the uses the IN5^VADPT to get the current admission.
 It then uses the uses the IN5^VADPT to get the current admission.
 PARAMETERS
  DATA
   TYPE:LITERAL
    DATA - required - DFN 
  VECLIN
   TYPE:LIST
    VECLIN is a local array which contains a list of clinics to be used to
  SCODE
   TYPE:LIST
    This is a list of 3-digit stop codes used to screen appointments
  VEDIV
   TYPE:LIST
    This is a list of divisions to be used to screen appointments.  Only
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  It returns to the broker, via the global array ^TMP("VEJD",$J,"VSIT",#)
 EXTERNAL ROUTINES:
  

VEJDWPB GET SC CONDITIONS - SCCOND^VEJDVST
 This will return a string indicating whether the service condition
 questions need to be asked:
    Agent Orange exposure
    Environmental Contaminant exposure
    Service Connected
    Military Sexual Trauma
    Head & Neck Cancer
  
 If VST is not passed, then APPT must be the scheduling appointment
 date/time and LOC must be the the hospital location data
  
 If VST is passed, then APPT and LOC are optional.
 PARAMETERS
  DATA
   TYPE:LITERAL
    DATA = DFN 
 RETURN VALUE
  TYPE: SINGLE VALUE
  This will return a string in the format p1^p2^p3^p4^p5^p6 where
 EXTERNAL ROUTINES:
  

VEJDWPB ADD PROBLEM - CREATE^VEJDWPB0
 This will create a new entry in the problem list file using the
 D CREATE^GMPLUTL(.VEJDDATA,.VEJDRETN) call.
 PARAMETERS
  VEJDDATA
   TYPE:LIST
   For detailed escription of the array setup see documentation in the
 RETURN VALUE
  TYPE: SINGLE VALUE
  If problem successfully added, returns 1^new IEN in problem list
 EXTERNAL ROUTINES:
  

VEJDWPB UPDATE PROBLEM - UPDATE^VEJDWPB0
 This will update an existing problem using the 
 D UPDATE^GMPLUTL(.VEJDRETN,.VEJDDATA) call
 PARAMETERS
  VEJDDATA
   TYPE:LIST
   For detailed description of array format, see documentation in routine.
 RETURN VALUE
  TYPE: SINGLE VALUE
  If update is successful, then returns 1^(data from gmplutl call)
 EXTERNAL ROUTINES:
  

VEJDWPB GET VISITS ONLY - VS^VEJDVST2
 This loops through the Visit file (#9000010) AA cross reference to find
 all visits for a patient and date range
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the pointer value to the Patient file
  BEG
   TYPE:LITERAL
   Optional - this is the starting date for the search in internal fileman
  END
   TYPE:LITERAL
   Optional - this is the ending date/time for the search in internal fileman
  ZLOC
   TYPE:LIST
   Optional - you can look for visits for specific locations (file 44).  The
  CAT
   TYPE:LITERAL
   This flag controls whether service categories should be screened or not.
  VECLIN
   TYPE:LIST
    VECLIN is a local array which contains a list of clinics to be used to
  SCODE
   TYPE:LIST
    This is a list of 3-digit stop codes used to screen appointments
  VEDIV
   TYPE:LIST
    This is a list of divisions to be used to screen appointments.  Only
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The data is passed to the broker in the ^TMP("VEJD",$J,"VSIT",#) where
 EXTERNAL ROUTINES:
  

VEJD DDR FINDER - FIND^VEJDDDR0
 PARAMETERS
  VEJDFILE
   TYPE:LITERAL
   This is the number of the file in which you wish to search.
  VEJDIENS
   TYPE:LITERAL
   This is the IENS through which you wish to search for the value VEJDVAL.
  VEJDFELD
   TYPE:LITERAL
   This is an 
  VEJDNUM
   TYPE:LITERAL
   This is the maximum number of entries to be returned.  Defaults to all
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array in the following format:
 EXTERNAL ROUTINES:
  

VEJD DDR GETS ENTRY DATA - GET^VEJDDDR0
 PARAMETERS
  VEJDFILE
   TYPE:LITERAL
   This is the number of the file in which you wish to search.
  VEJDIENS
   TYPE:LITERAL
   This is the IENS for the search.  See the instructions on constructing an
  VEJDFELD
   TYPE:LITERAL
   This is an 
  VEJDFLAG
   TYPE:LITERAL
   This is a string containing up to 3 characters that will modify how
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array with the following format:
 EXTERNAL ROUTINES:
  

VEJD DDR LISTER - LIST^VEJDDDR0
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

VEJD DDR WP FILER - WP^VEJDDDR0
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

VEJD DDR DELETE ENTRY - KILL^VEJDDDR0
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

VEJD DDR UPDATE FILE - UPDATE^VEJDDDR0
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

VEJD DDR FILER - FILE^VEJDDDR0
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

VEJD DDR UPDATE SUBFILE - UPDATE1^VEJDDDR0
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

XWB EXAMPLE TRAP PARAMS - ERRTRAP^XWBEXMPL
 This RPC is for testing use only. It calls the Error Trap to save off the
 symbol table for debuging.
  
 The call accepts up to 9 parameters that are labeled P1 to P9.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return is the string: "Error Trap called to save symbol table"
 EXTERNAL ROUTINES:
  

YTAPI NEW ASI - ADDER^YTAPI8
 This remote procedure allows new entries to be added to the ADDICTION SEVERITY
 INDEX file (#604).
  
 Input required: none
 Output:
 YSDATA(1)=[DATA]
 YSDATA(2)= IEN created in file 604
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIC

TIU FIELD CHECK - CHKFLD^TIUSRVF1
 Very similar to IMPORT^TIUSRVF, except does not save template fields.
 Resolves self referencing loops, and takes into account fields with
 the same name already saved.
 PARAMETERS
  RECSET
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
  Returns an array of named results and modified XML, separated by a line
 EXTERNAL ROUTINES:
  IMPORT2^TIUSRVF

TIU FIELD LIST ADD - XFLDLD^TIUSRVF1
 Takes in the XML string, in the format XMLSET(1)=" <TEMPLATE_FIELDS>" and 
 merges them with the global ^TMP("TIUFLDXML",$J).  If the subscript is 1,
 then it KILLs the global before it merges.  This routine is used so very
 large lists of fields can be processed without many calls to the database.
 PARAMETERS
  XMLSET
   TYPE:LIST
   Input in the format of XMLSET(1)="<FIELD NAME="12345">"
  XMLIN
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
  Returns a "1" if successful; 0 otherwise.
 EXTERNAL ROUTINES:
  

TIU FIELD LIST IMPORT - LIMPORT^TIUSRVF1
 Calls the import process for a pre-loaded (into ^TMP) list of template
 fields.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of field names imported in the format NAME^RCODE^RENAME, 
 EXTERNAL ROUTINES:
  IMPORT2^TIUSRVF

TIU SET DOCUMENT TEXT - SETTEXT^TIUSRVPT
 This RPC buffers the transmittal of text (i.e., the body of TIU Documents)
 from the Client to the Server. It allows documents of indefinite size to
 be filed, without risk of an allocate error on the M Server.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the IEN of the TIU Document in the TIU DOCUMENT file (#8925).
  TIUX
   TYPE:LIST
   This is the array in which the body of the TIU Document is being passed,
  SUPPRESS
   TYPE:LITERAL
   Optional parameter.  Default is 0 (no).
 RETURN VALUE
  TYPE: SINGLE VALUE
  Four '^'-piece scalar result formatted as follows:
 EXTERNAL ROUTINES:
  MERGTEXT^TIUEDI1,$$ISADDNDM^TIULC1,GETTIU^TIULD

TIU SET ADMINISTRATIVE CLOSURE - ADMNCLOS^TIUSRVPT
 This remote procedure sets the file attributes necessary to close a
 document by administrative action (either manually or by scanning a paper
 document that doesn't require the signature of an author as a typical TIU
 Document would).
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the IEN of the document in the TIU DOCUMENT FILE (#8925).
  MODE
   TYPE:LITERAL
   This is the alphabetic code for the manner in which the document was
  PERSON
   TYPE:LITERAL
   This is the IEN in the NEW PERSON file (#200) of the person who closed the
 RETURN VALUE
  TYPE: SINGLE VALUE
  If successful, this RPC returns the IEN in the TIU DOCUMENT file (#8925)
 EXTERNAL ROUTINES:
  ALERTDEL^TIUALRT,ISCNSLT^TIUCNSLT,$$POSTSIGN^TIULC1,$$DATE^TIULS,$$SIGNAME^TIU
LS,$$SIGTITL^TIULS,$$HASKIDS^TIUSRVLI,SETKIDS^TIUSRVLI,FILE^TIUSRVP

ORWPCE HNCOK - HNCOK^ORWPCE2
 Returns TRUE if the Head and/or Neck Cancer patches have been installed
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PATCH^XPDUTL

ORWORB KILL UNVER ORDERS ALERT - KILUNVOR^ORWORB
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$XQAKILL^ORB3F1,$$DG^ORQOR1,AGET^ORWORR,INP^VADPT,$$FMADD^XLFDT,$$NOW^XLFDT,D
ELETE^XQALERT,DELETEA^XQALERT

ORWORB KILL UNVER MEDS ALERT - KILUNVMD^ORWORB
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$XQAKILL^ORB3F1,$$DG^ORQOR1,AGET^ORWORR,INP^VADPT,$$FMADD^XLFDT,$$NOW^XLFDT,D
ELETE^XQALERT,DELETEA^XQALERT

ORWPS MEDHIST - MEDHIST^ORWPS
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$OI^ORX8,HISTORY^PSBMLHS,RPC^PSBO,$$PATCH^XPDUTL

ORWDPS4 CPLST - CPLST^ORWDPS4
 Get co-pay ralated questions
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDPS4 CPINFO - CPINFO^ORWDPS4
 Save outpatient med order co-pay information.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  SC^ORCSAVE2

IBARXM TRANS BILL - BILL^IBARXMR
 This rpc will receive data that a charge should be created for a pharmacy 
 copayment that had previously not been charged due to the patient 
 reaching their copayment cap amount.
 This RPC call does not send user data to remote side.
 PARAMETERS
  IBICN
   TYPE:LITERAL
   This is the patient's ICN, to be used to identify the patient.
  IBT
   TYPE:LITERAL
   This is the transaction number to bill.
  IBB
   TYPE:LITERAL
   This is the amount to bill.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value will be the transaction ien in file 354.71, to indicate
 EXTERNAL ROUTINES:
  BILL^IBARXMB,$$DFN^IBARXMU,$$SWSTAT^IBBAPI,$$QUEUE^VDEFQM

ORWDPS2 CHKPI - CHKPI^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXR GTORITM - GTORITM^ORWDXR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$VALUE^ORCSAVE2

ORWDPS2 CHKGRP - CHKGRP^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

VAFC REMOTE PDAT - PDAT^VAFCRPC
 This Remote Procedure Call will return the text Patient 
 MPI/PD Data Inquiry report to a remote site.
 PARAMETERS
  ICN
   TYPE:LITERAL
   This should be the ICN without the 'V' or the checksum.
  SSN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
  This Remote Procedure Call will return the text Patient
 EXTERNAL ROUTINES:
  $$GETDFN^MPIF001,DSPPDAT^VAFCHFS,HFS^VAFCHFS

MAG4 POST PROCESSING - ACTION^MAGGSPP
 This is call to perform any post processing action required on 
 a newly saved image of this type.  post processing (for now) is
 determined by the MAG DESCRIPTIVE CAGETORIES file.  If this image
 points to an entry in that file that has Action turned ON, then
 the TAG^ROUTINE will be called with the Image IEN.
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   Internal entry number in the Image File (
 RETURN VALUE
  TYPE: ARRAY
  1^SUCCESSFUL
 EXTERNAL ROUTINES:
  

MAG4 VERSION CHECK - CHKVER^MAGGTU4
 This remote procedure checks the version of the Imaging client
 application. Depending on the version of the VistA Imaging KIDS install,
 the client application can be forced to display a warning and/or
 terminate.
 PARAMETERS
  CLVER
   TYPE:LITERAL
   The client application passes its descriptor as the value of this
 RETURN VALUE
  TYPE: ARRAY
  Result code and message are returned into the Results[0]. The subsequent
 EXTERNAL ROUTINES:
  $$CHKVER1^MAGGTU41,ERROR^MAGGTU41,WARNING^MAGGTU41,$$ERROR^MAGUERR

ORWDPS2 QOGRP - QOGRP^ORWDPS2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXR GETPKG - GETPKG^ORWDXR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

MAGJ PTRADEXAMS - PTLIST^MAGJLST1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This procedure is used by the Radiology Imaging Workstation to display a
 listing of all, or a subset of all, radiology exams for a selected
 patient.
 PARAMETERS
  DATA
   TYPE:LITERAL
   Patient DFN 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   ARRAY(0)     = # Exams Found ^ Text for listing title, or error message
 EXTERNAL ROUTINES:
  DT^DICRW,GETEXAM3^MAGJUTL1,PID^VADPT6,$$FMADD^XLFDT,$$FMTE^XLFDT

MAGJ ROUTE ENABLE - RTENA^MAGJRT
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This procedure is used by the VistARad Workstation to obtain from
  the Imaging Host system user permission to use the Demand Routing
 function.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns "TRUE" or "FALSE", based on user security key.
 EXTERNAL ROUTINES:
  USERKEYS^MAGJUTL3

MAGJ ROUTE REQUEST - RTREQ^MAGJRT
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This rpc processes a list of input exams to configure the dialog by which
 the user will request exams to be routed.  The rpc returns the exam list
 and information used to prompt the user for routing destination and
 priority for each exam.
 PARAMETERS
  DATA
   TYPE:LIST
   List of Radiology Exam pointers.  Each entry in the list contains:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DT^DICRW

MAGJ ROUTE EXAMS - RTEXAM^MAGJRT
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 For input list of exams, queue corresponding image files to be routed to
 indicated destinations (according to Network Location file entries).
 PARAMETERS
  DATA
   TYPE:LIST
   Each entry in the list contains:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Normal reply indicating success/failure of the operation.
 EXTERNAL ROUTINES:
  DT^DICRW,SEND^MAGBRTUT,$$JBFETCH^MAGJUTL2

MAGJ RADACTIVEEXAMS - ACTIVE^MAGJLS2
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This procedure is used by the Radiology Imaging Workstation to display
 listings of radiology exams:
   1) UNREAD Exams--list all Active exams for selected modalities (Rad
      Imaging Types) having an Exam Status of "Examined" (or its
      equivalent).
   2) RECENT Exams--list all Active exams for selected modalities (Rad
      Imaging Types) EXCEPT those having an Exam Status of "Examined" (or
      its equivalent).
   3) ALL ACTIVE--Lists the union of the above two lists.
 PARAMETERS
  DATA
   TYPE:LITERAL
   The input string supplies two parameters: LIST_TYPE 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ARRAY(0)     = # Exams Found ^ Text for listing title, or error message
 EXTERNAL ROUTINES:
  PARAMS^MAGJLS2B

MAGJ RADCASEIMAGES - OPENCASE^MAGJEX1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This procedure is used by the Radiology Imaging Workstation to fetch image
 file information for all the images for a selected case.  If the case's
 images are not on magnetic storage, but are on archive storage (e.g.,
 jukebox), then the procedure initiates a fetch of the image files from
 the archive.
 PARAMETERS
  DATA
   TYPE:LITERAL
   Input value is the pointer to the RAD/NUC MED REPORTS file for the case;
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   ARRAY(0)   = # Images Found ^ Text for reply status or error message
 EXTERNAL ROUTINES:
  DT^DICRW,IMGLOOP^MAGJEX1B,CKINTEG^MAGJRPT,GETEXAM2^MAGJUTL1,$$JBFETCH^MAGJUTL2
,$$ZRUMAMMO^MAGJUTL4,$$ZRUREVAN^MAGJUTL4

MAGJ PRIOREXAMS - PRIOR1^MAGJEX2
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This procedure is used by the Radiology Imaging Workstation to fetch
 case pointer information for all the cases/prior exams related to a given
 case.  If the images for the prior exams are not on magnetic storage, but
 are on archive storage (e.g., jukebox), then the procedure initiates a
 fetch of the image files from the archive.  This procedure can be run in
 two modes: 1) to Pre-Fetch from the archive exams that are likely to be of
 interest to the radiologist--this mode would be invoked some time after
 a new exam is ordered (e.g., at Register Patient for Exam);
 2) to Auto-Display images for prior cases at
 the time the radiologist is reading a new case.
 PARAMETERS
  DATA
   TYPE:LITERAL
   The input string has 5 pieces, delimited by "
 RETURN VALUE
  TYPE: ARRAY
   ARRAY(0)   = # Cases Found ^ Text for reply status or error message
 EXTERNAL ROUTINES:
  DT^DICRW,GETEXAM2^MAGJUTL1,MAGJOBNC^MAGJUTL3

MAGJ RADSTATUSUPDATE - STATUS^MAGJUPD1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This procedure is used by the Radiology Imaging Workstation to update the
 Radiology Exam Status code for the current exam to "Interpreted" (or an
 equivalent value).  Also, the case is closed by this procedure, and
 Key Image and/or Presentation State data is stored, if required.
   Note: This procedure will only update the Exam Status if the current
         value is "Examined".
 PARAMETERS
  PARAMS
   TYPE:LITERAL
   Input string = UPDFLAG 
  DATA
   TYPE:WORD PROCESSING
   optional array of text containing Key Image and/or
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns string = 1/0 ^ RESULT
 EXTERNAL ROUTINES:
  DT^DICRW,SAVKPS^MAGJUPD2,GETEXAM2^MAGJUTL1,LOG^MAGJUTL3,EN2^RAUTL20,$$NOW^XLFD
T

MAGJ RADORDERDISP - ORD^MAGJRPT
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 Returns the Detailed Request Display for the radiology exam.
 PARAMETERS
  DATA
   TYPE:LITERAL
   Input is pointers to the Radiology exam--
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns info in an array.
 EXTERNAL ROUTINES:
  ^%ZISC,GETEXAM2^MAGJUTL1,^RAORD5

MAGJ CACHELOCATION - CACHEQ^MAGJUTL3
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This procedure is used by the Radiology Imaging Workstation to obtain from
 the Imaging Host system the image cache locations for images that have
 been routed to remote sites/workstations.
 PARAMETERS
  DATA
   TYPE:LITERAL
   This is the Remote Location identifier as defined on the reading
 RETURN VALUE
  TYPE: GLOBAL ARRAY
    ARRAY(0)   = # of Cache Locations below (0 to n)
 EXTERNAL ROUTINES:
  DT^DICRW,LIST^MAGBRTLD

MAGJ CUSTOM LISTS - LISTINF^MAGJUTL3
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This procedure is used by the Radiology Imaging Workstation to obtain from
  the Imaging Host system information for defined custom exam lists (from
 the file MAG RAD LISTS DEFINITION).  This information is used to load
 a workstation menu option with available lists, as well as make these
 available via buttons on the VistaRad Server window.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ARRAY(0)   = # of List entries below
 EXTERNAL ROUTINES:
  

MAGJ PT ALL EXAMS - PTLSTALL^MAGJLST1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 This procedure is used by the Radiology Imaging Workstation to display
  a listing of all radiology exams for a selected patient.  Further details
 may be found in the Remote Procedure MAGJ PTRADEXAMS.
 PARAMETERS
  DATA
   TYPE:LITERAL
   Patient DFN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  See RPC: MAGJ PTRADEXAMS
 EXTERNAL ROUTINES:
  

MAGJ EXAM REPORT - RADRPT^MAGJRPT
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
 Imaging VistaRad workstation call to display a Radiology report.
 PARAMETERS
  DATA
   TYPE:LITERAL
   This is the pointer to the Radiology report file.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Text of the exam report is returned in a global array.  A header line is
 EXTERNAL ROUTINES:
  ^%ZISC,GETEXAM2^MAGJUTL1,EN3^RAO7PC3

MAGJ PT INFO - PINF1^MAGJUTL3
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 Returns Patient data for the DFN input.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   Patient DFN
 RETURN VALUE
  TYPE: SINGLE VALUE
   
 EXTERNAL ROUTINES:
  INFO^MAGGTPT1

EC SPACEBAR - ECDEF^ECUERPC1
 This RPC would return the value equivalent to when the 'Spacebar and Return' 
 keys are entering in the VISTA package.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   The input variable ECARY contains the value of the file to obtain the VISTA 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The RESULTS variable contains the IEN and the .01 field description.
 EXTERNAL ROUTINES:
  ^DIC,SETENV^ECUMRPC

ORBCMA5 GETUD - GETUD^ORBCMA5
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORBCMA5 GETUDID - GETUDID^ORBCMA5
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORBCMA5 GETIVID - GETIVID^ORBCMA5
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORBCMA5 ODITMBC - ODITMBC^ORBCMA5
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWUBCMA USERINFO - USERINFO^ORWUBCMA
 PARAMETERS
  ORWDPS5
   TYPE:
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR,$$KSP^XUPARAM

ORBCMA32 DLGSLCT - DLGSLCT^ORBCMA32
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORBCMA1 ODSLCT - ODSLCT^ORBCMA1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORBCMA1 CHK94 - CHK94^ORBCMA1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORBCMA1 FAILDEA - FAILDEA^ORBCMA1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$OIDEA^PSSUTLA1,OIDEA^PSSUTLA1

ORBCMA1 FORMALT - FORMALT^ORBCMA1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN1^PSSUTIL1

ORBCMA1 DOSEALT - DOSEALT^ORBCMA1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ENRFA^PSJORUTL

ORBCMA1 SCHALL - SCHALL^ORBCMA1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  AP^PSS51P1

ORBCMA32 AUTH - AUTH^ORBCMA32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORBCMA32 DRUGMSG - DRUGMSG^ORBCMA32
 PARAMETERS
  BOWDPS32 FORMALT
   TYPE:
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ENDCM^PSJORUTL

ORBCMA32 FORMALT - FORMALT^ORBCMA32
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ENRFA^PSJORUTL

ORBCMA32 VALROUTE - VALROUTE^ORBCMA32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ALL^PSS51P2

ORBCMA32 ISSPLY - ISSPLY^ORBCMA32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORBCMA32 IVAMT - IVAMT^ORBCMA32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ENVOL^PSJORUT2,ENVOL2^PSJORUT2

ORBCMA32 VALRATE - VALRATE^ORBCMA32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ORINF^PSIVSP

ORBCMA32 VALSCH - VALSCH^ORBCMA32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^PSSGSGUI

EC DIEDON - ECDOD^ECUERPC2
 This RPC returns a patient's date of death.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   The input variable ECARY contains the patient's DFN.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The RPC returns either of the following pieces of data as output.
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC,2^VADPT

ORQPT MAKE RPL - RPLMAKE^ORQPTQ11
 Passes Team List IEN, creates a TMP file entry of patients based thereon, 
 and receives a $J job number in return.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Job Number ($J) to assist in subsequent reading of TMP global that was 
 EXTERNAL ROUTINES:
  

ORQPT READ RPL - RPLREAD^ORQPTQ11
 Passes global reference and other parameters, and receives a list of 
 patients (up to 44 maximum) with IENs, for use in scrolling a Long List 
 Box (LLB) componenet.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Array of patients with their IENs for populating Long List Box (LLB) 
 EXTERNAL ROUTINES:
  

ORQPT KILL RPL - RPLCLEAN^ORQPTQ11
 This RPC is passed a ^TMP file root and $J
 (job number) and kills the ^TMP("ORRPL",$J global
 data based on the passed file root w/job number.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS1 LOCPICK - LOCPICK^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTIU GET SAVED CP FIELDS - GETCP^ORWTIU
 Given a TIU document of the clinical procedures class, return the author, 
 title, cosigner, procedure summary code, date/time of procedure, and 
 reference date, as stored on the server.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   Pointer to file 8925 for the document.
 RETURN VALUE
  TYPE: SINGLE VALUE
  AUTHOR^COSIGNER^PROCSUMMCODE^PROCDATE^DOCTITLE^REFDATE
 EXTERNAL ROUTINES:
  EXTRACT^TIULQ

ORWOR PKIUSE - PKIUSE^ORWOR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWPT LAST5 RPL - LAST5RPL^ORWPT
 Returns a list of patients matching the string of Last Name Initial_Last 
 4 SSN (Initial/Last 4 look-up based on Restricted Patient List).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1

ORWPT FULLSSN RPL - FSSNRPL^ORWPT
 Given an SSN in the format 999999999(P), return a list of matching 
 patients based on Restricted Patient List.
 PARAMETERS
  IEN
   TYPE:LITERAL
   SSN in the format '999999999(P)'.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1

ORWOR1 CHKDIG - CHKDIG^ORWOR1
 Returns true if an order requires a digital signature.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWOR1 GETDTEXT - GETDTEXT^ORWOR1
 Returns the external text of an existing order.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWOR1 GETDSIG - GETDSIG^ORWOR1
 Returns the digital signature of an existing order.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWOR1 SIG - SIG^ORWOR1
 Returns 1 if signature gets stored.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CRLURL^XUSSPKI,$$STORESIG^XUSSPKI

ORWCIRN RESTRICT - RESTRICT^ORWCIRN
 This RPC checks for sensitive patients on a remote system.
 PARAMETERS
  PATID
   TYPE:LITERAL
   PATID = DFN;ICN
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PTSEC^DGSEC4,$$GETDFN^MPIF001,$$SITE^VASITE

ORWTPD GETIMG - GETIMG^ORWTPD
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$DT^ORCHTAB1,GETDEF^ORWRA

PSB GETORDERTAB - RPC^PSBVDLTB
 Gives the client VDL information for the specified patient and time frame.
 PARAMETERS
  DFN
   TYPE:LITERAL
   The patient IEN from 
  VDL TAB
   TYPE:LITERAL
   The tab from the VDL that is being requested.
  VDL DATE
   TYPE:LITERAL
   The date of the requested data.  If not passed then current date/time are
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  NOW^%DTC,EN^PSBVDLIV,EN^PSBVDLPB,EN^PSBVDLUD,CLEAN^PSBVT,EN^PSJBCMA,IN5^VADPT,
$$FMADD^XLFDT,$$GET^XPAR

PSB WARDLIST - WLIST^PSBPARIV
 Returns a list of active wards that are available
 for the definition of IV parameters in the BCMA IV PARAMETERS file 53.66.
 Wards already in file 53.66 are returned with the type of IV PARAMETERS
 defined.
 PARAMETERS
  PSBEDIV
   TYPE:LITERAL
   Division
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Results(0)      =       ^1 the number of wards returned
 EXTERNAL ROUTINES:
  WIN^DGPMDDCF,$$GET1^DIQ,$$SITE^VASITE

PSB GETIVPAR - GETPAR^PSBPARIV
 Returns the IV parameters by IV type, as defined for a ward in file 53.66.
 PARAMETERS
  PSBWARD
   TYPE:LITERAL
   The IEN of the ward from file 53.66 or the word 'ALL'.
  PSBIVPT
   TYPE:LITERAL
   The IV type - 'A' for Additive
  PSBDIV
   TYPE:LITERAL
   
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A delimited string with the IV type and the defined parameters.
 EXTERNAL ROUTINES:
  $$GET^XPAR

PSB DEVICE - DEVICE^PSBRPC1
 Allows user to select a Printer from the GUI.
 PARAMETERS
  FROM
   TYPE:LITERAL
   Text to $O from
  DIR
   TYPE:LITERAL
   $O Direction
 RETURN VALUE
  TYPE: ARRAY
  Results(1)=IEN;Name^DisplayName^Location^RMargin^PLength
 EXTERNAL ROUTINES:
  

PSB PUTIVPAR - PUTPAR^PSBPARIV
 Sets 53.66 or parameters file w/input from 53.66 if ward is not "ALL"
 PARAMETERS
  PSBWARD
   TYPE:LITERAL
   
  PSBPARS
   TYPE:LITERAL
   IV type - "A" for Additive
  PSBDIV
   TYPE:LITERAL
   
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The IV type - "A" for Additive
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$SITE^VASITE,EN^XPAR

PSB IV ORDER HISTORY - GETOHIST^PSBRPC2
 Returns individual detailed bag history.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patients IEN number
  PSBORD
   TYPE:LITERAL
   Order number from Inpatient Medications
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Results(0) is the total line count or "-1^No bags available for this 
 EXTERNAL ROUTINES:
  NOW^%DTC,EN^PSBPOIV,CLEAN^PSBVT,PSJ1^PSBVT

PSB BAG DETAIL - BAGDTL^PSBRPC2
 Returns a chronological detailed history on each specific IV bag that is
 selected.
  
  
 [0] = -1^No History On File             
  
 [0] = Number of Nodes
 [1] = Action Date/Time^User ID^Action Status^Comments
 PARAMETERS
  PSBUID
   TYPE:LITERAL
   IV unique ID number.
  PSBORD
   TYPE:LITERAL
   IPM order number
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DT^DILF

PSB ALLERGY - ALLR^PSBALL
 Returns a list of allergies for a patient.
 PARAMETERS
   PATIENT ID
   TYPE:LITERAL
   The record number of the patient (DFN) from the Patient file (#2).
 RETURN VALUE
  TYPE: ARRAY
  Array of patient allergies.  Returned data is delimited by "^" and
 EXTERNAL ROUTINES:
  

PSB GETPROVIDER - PROVLST^PSBRPCMO
 Used to get a list of active providers.
 PARAMETERS
  PSBIN
   TYPE:LITERAL
   This is the data that is passed to perform a lookup on the provider.
 RETURN VALUE
  TYPE: ARRAY
  An array is returned in the format:
 EXTERNAL ROUTINES:
  NOW^%DTC,LIST^DIC,$$GET1^DIQ

PSB MOB DRUG LIST - OILST^PSBRPCMO
 Used by the BCMA/CPRS Med Order Button to return an array of drug.
 PARAMETERS
  PSBSCAN
   TYPE:LITERAL
   PSBSCAN is the value that has been scanned or entered by the user.
  PSBOTYP
   TYPE:LITERAL
   Type of list:
 RETURN VALUE
  TYPE: ARRAY
  Results[0] = 1
 EXTERNAL ROUTINES:
  NOW^%DTC,$$FIND1^DIC,LIST^DIC,$$GET1^DIQ,$$GETDRN^PSBOMT,$$GET^XPAR

PSB CPRS ORDER - ORDER^PSBRPCMO
 This RPC sets results of a Med Order Button transaction in a global for 
 Inpatient Pharmacy to pick up.
 PARAMETERS
  PSBHDR
   TYPE:LITERAL
  PSBREC
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
  Results[0] = Number of items in the array
 EXTERNAL ROUTINES:
  

PSB NURS WARDLIST - NWLIST^PSBRPC
 This will return a list of active ward from the NURS LOCATION, file 211.4.
 PARAMETERS
  none
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
  RESULTS(0)      =       Number of nodes returned.
 EXTERNAL ROUTINES:
  $$GET1^DIQ

PSB MAXDAYS - MAX^PSBRPC
 This RPC returns the maximum number of days a user can view or print the 
 MAH report. This parameter is set using CPRS and is call ORRP BCMA MAH.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

IBARXM QUERY SUPPRESS USER - RQUERY^IBARXMR
 This RPC is used to query only the information for pharmacy co-payment
 billing that has happened for the given month/year.
 The RPC should be used only for queries, which will not allow the user to 
 see information, because the user data will not be transmitted to remote 
 system.
 PARAMETERS
  IBM
   TYPE:LITERAL
   This is in fileman format the month/year for which the request is being 
  IBICN
   TYPE:LITERAL
   This is the patient's ICN for reference to any VistA database.
 RETURN VALUE
  TYPE: ARRAY
  The return array is in file 354.71 format.
 EXTERNAL ROUTINES:
  $$DFN^IBARXMU

ROR LOG MESSAGE DETAILS - EN3^RORRP7
 PARAMETERS
  RORIEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

XQAL GUI ALERTS - ENTRY^XQALGUI
 This is the RPC that handles the XUAlert component
 PARAMETERS
  DATA
   TYPE:LIST
   This is the only input parameter into the ENTRY tag. DATA is subscripted,
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return parameter is a global array containing the return values
 EXTERNAL ROUTINES:
  

TIU IS THIS A CLINPROC? - ISCP^TIUCP
 This RPC evaluates whether or not a Title is under the
 CLINICAL PROCEDURES Class.
 PARAMETERS
  TITLE
   TYPE:LITERAL
   This is the TIU Document file (#8925.1) IEN for the Title selected.
 RETURN VALUE
  TYPE: SINGLE VALUE
  A boolean value is returned.
 EXTERNAL ROUTINES:
  $$ISA^TIULX

TIU IDENTIFY CLINPROC CLASS - CPCLASS^TIUCP
 This RPC gets the CLINICAL PROCEDURES TIU Document Definition
 file (#8925.1) IEN.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  A numeric value is returned.
 EXTERNAL ROUTINES:
  

TIU LONG LIST CLINPROC TITLES - LNGCP^TIUCP
 This RPC serves data to a longlist of selectable Titles for CLINICAL
 PROCEDURES.
 PARAMETERS
  FROM
   TYPE:LITERAL
   This is the reference Title from which the longlist is scrolling.
  DIR
   TYPE:LITERAL
   This is the direction in which the longlist is scrolling from the
 RETURN VALUE
  TYPE: ARRAY
  An array is returned.
 EXTERNAL ROUTINES:
  LONGLIST^TIUSRVD

RG REMOTE HL7 TASK - TASK^RGMTRUN
 This remote procedure call will return the currently running
 Health Level Seven (HL7) tasks from a remote site to the
 Master Patient Index (MPI).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  This remote procedure call will return the currently running
 EXTERNAL ROUTINES:
  HFS^RGMTHFS

RG REM ACTIVITY - EN^RGACTIV
 This remote procedure call (RPC) returns Health Level Seven (HL7) message 
 information and exception information for a patient.  The HL7 data is from
 the ADT/HL7 PIVOT (#391.71) file and exception date is from the CIRN HL7 
 EXCEPTION LOG (#991.1) file.
 PARAMETERS
  ICN
   TYPE:LITERAL
   Integration Control Number (ICN) for patient on whom data is requested.
  SSN
   TYPE:LITERAL
   Social Security Number (SSN) for patient on whom data is requested.
 RETURN VALUE
  TYPE: ARRAY
  ARRAY
 EXTERNAL ROUTINES:
  $$GETDFN^MPIF001,$$SITE^VASITE

DGWPT DFLTSRC - DFLTSRC^DGWPT
 Return user's default patient list source.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

DGWPT TOP - TOP^DGWPT
 Returns the last selected patient by the defined user.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DGWPT SELCHK - SELCHK^DGWPT
 Returns a 1 if the patient record is flagged as senstive, otherwise
 returns 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$EN1^DGQPT2

DGWPT SAVDFLT - SAVDFLT^DGWPT
 Saves user's preference for default list source.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  SAVDFLT^DGWPT1

DGWPT CLINRNG - CLINRNG^DGWPT
 Returns a list of selectable options from which a user can choose a date
 range for appointments.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$HTFM^XLFDT

DGWPT BYWARD - BYWARD^DGWPT
 Returns a list of patients currently residing on a specified ward
 location.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DGWPT DIEDON - DIEDON^DGWPT
 Returns date of death if patient has expired.  Otherwise returns 0.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DGWPT1 PRCARE - PRCARE^DGWPT1
 Return primary care information for a patient in the format:
   VAL=Primary Care Team^Primary Care Provider^Attending
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$OUTPTPR^SDUTL3,$$OUTPTTM^SDUTL3

DGWPT SELECT - SELECT^DGWPT
 RPC to return key information on a patient as follows:
  
 1    2   3   4    5      6    7    8       9       10      11   12 13  14
 NAME^SEX^DOB^SSN^LOCIEN^LOCNM^RMBD^CWAD^SENSITIVE^ADMITTED^CONV^SC^SC%^ICN
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CWAD^DGQPT2,$$EN1^DGQPT2,$$GETICN^MPIF001,GETICN^MPIF001,ELIG^VADPT

YTRP INSTRUMENT REPORT - INTRMNT^YTRPWRP
 This remote procedure allows staff to print out psychological tests and
 interview reports.
 PARAMETERS
  YSDFN
   TYPE:LITERAL
   YSDFN is a pointer to the Patient file #2.
  YSXT
   TYPE:LITERAL
   This varible contains "Test Completion Date,Name of the test", for example
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RESULT returns the test text report for a selected patient and a given
 EXTERNAL ROUTINES:
  DEM^VADPT,PID^VADPT,$$FMTE^XLFDT

YTAPI QUEST - QUEST^YTAPI6
 Returns flat array with data about a psychological test.
 This API returns the text, bottom, introduction and possible correct 
 responses for all items in a test in file 601. It will work only for 
 tests as opposed to interviews or batteries. The ASI is not supported.
  
 Input: 
                 CODE: Test code from file 601 e.g. "CAGE", "BDI"
  
 Output:
 Array(1)=[DATA] ;indicates successful  call
 Array(2)=MMPI2 ;SECOND LINE IS TEST Code
 Array(x)=first item number^I^introductory text
 Array(x)=first item number^T^text of question
 Array(x)=first item number^A^allowed responses
 Array(x)= first item number^R^response cues
 .
 .
 Array(x)=last item number^I^introductory text                    
 Array(x)=last item number^T^text of question                     
 Array(x)=last item number^A^allowed responses          
 Array(x)=last item number^R^response cues
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PARSE^YTAPI

YTAPI PRIVLEGE - PRIVL^YTAPI5
 Returns user privlege to see psych test results.
  
 Input: YSCODE ;code of test or interview to check privelges for
 Output:
 YSDATA(1)=[DATA]
 YSDATA(2)=1^user privileged for all tests
         or
 YSDATA(2)=1^exempt test"
         or
 YSDATA(2)=1^interview
         or
 YSDATA(2)=1^exempt test
         or
 YSDATA(2)=0^no access
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

YTAPI SAVE INCOMPLETES - SAVEINC^YTAPI7
 API to save responses of partially completed psychological tests.
  
 Input:
         DFN ;ien of file 2 Patient
         YSCODE: code of test in file 604
         YSNEXT: next item number to be answered
         YSORDER: DUZ of staff ordering test
         R1: array of answers 1-200
         R2: array of answers 201-400
         R3: array of answers 401-600
  
 Output:
         YSDATA(1)=[DATA]
         YSDATA(2)=saved ok
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTAPI GET INCOMPLETE - GETINC^YTAPI7
 API to retrive partially completed psychological tests.
  
 Input Required: DFN ;ien of file 2 Patient
                 YSCODE ; code for entry in file 601 Psycholgical Testing
 Output:
         YSDATA(1)=[DATA]
         YSDATA(2)=INSTRUMENT^DATE ENTERED^DATE ADMINISTERED 
 CLERICALLY^NEXT ITEM^VALID RESPONSE STRING^CLERK TEST^ORDERED BY^DATE 
 BEGUN
         YSDATA(3)=responses 1-200
         YSDATA(4)=responses 201-400
         YSDATA(5)=responses 401-600
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTAPI LIST INCOMPLETES - LISTINC^YTAPI7
 API to returm a list of incomplete psychological tests.
  
 Input Required: DFN ; ien of file 2 Patient
 Output:        YSDATA(1)=[DATA]
                YSDATA(X)=CODE^DATE OF ADMIN^(not) restartable
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DD^%DT,$$FMDIFF^XLFDT

YTAPI NEW GAF - ENT^YSGAFAP1
 Allows entry of a new GAF rating.
  
 Input Required:
         DFN  - Patient IEN
         GAF - GAF Score (Axis 5)
         DATE - Date/Time of Diagnosis
         STAFF - Diagnosis By DUZ
 Output: only reports success vs. error
         YSDATA(1)=[DATA] VS. YSDATA(1)=[ERROR]
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTAPI ASI LISTER - LISTASI^YTAPI8
 This API lists all ASI administrations for a specified patient.
 Input required: DFN (ien of file 2)
 Output is in the following format:
  
 YSDATA(1)=[DATA]
 YSDATA(2)= IEN^DATE OF INTERVIEW^CLASS^SPECIAL^ESIGNED
 .
 .
 YSDATA(X)= IEN^DATE OF INTERVIEW^CLASS^SPECIAL^ESIGNED
  
 0 RETURNED IF NO ADMINS
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$FMTE^XLFDT

YTAPI GET ASI RESPONSES - GETASI^YTAPI8
 This API returns the ASI responses for a specified ASI administration.
  
 Input required: DFN ; ien of file 2 Patient
                 IEN ; ien of file 604 Addiction Severity Index
  
 Output: YSDATA(1)=[DATA]
         YSDATA(x)= Field #^Question name^is it Required^Answer
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

YSRP ASI NARRATIVE - ASINAR^YSASRPWP
 This procedure prints the selected ASI in narrative form.
 PARAMETERS
  YSASDA
   TYPE:LITERAL
   YSASDA is a pointer to the Addiction Severity Index file #604.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RESULT contians the narrative report for the selected ASI.
 EXTERNAL ROUTINES:
  

YSRP ASI ITEM - ASIITM^YSASRPWP
 This procedure prints the selected Addiction Severity Index in a captioned
 format.
 PARAMETERS
  YSASDA
   TYPE:LITERAL
   YSASDA is a pointer to the Addiction Severity Index file (#604).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RESULT contains the item report for the selected ASI.
 EXTERNAL ROUTINES:
  

YTAPI ASI SIGNER - SIGN^YTAPI8
 Allows interviewer to sign ASI, transcriber to "sign off" and send a
 bulletin.
  
 Input Required:
                 CODE: electronic signature code
                 IEN: ien of ASI in file 604
  
 Output: reports on status of the operation only
                 YSDATA(1)=[DATA]
                 YSDATA(2)=1^ASI SIGNED
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$DECRYP^XUSRB1,BUL^YSASBUL,CONV^YSASCR,CR^YSASCR

YTAPI TEST BULLETIN - SNDBUL^YTAPI9
 When a clerk gives a psychological test by order of a clinician, a VISTA 
 email bulletin is sent to that clinician, informing him/her of the 
 administration of the test, the date, the clerk and the patient.
  
 Input: DFN ;ien of file 2 Patient
        YSORD ;DUZ of ordering clinician
  
 Output:
 only success vs. error is reported.
 YSDATA(1)=[DATA]
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ENBUL^YSUTL

YTAPI CLERK RESPONSES - CLERK^YTAPI9
 This API returns the possible answer alternatives for each question in a 
 test or interview from file 601, Psychological Testing
  
 Input Required: Code , the test/interview code ie MMPI2
 Output: YSDATA(1)=[DATA]
         YSDATA(x)=Question number^A^string with approriate answers (ie 
 TFX)
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  RESP^YTAPI6

YTAPI ASI SAVE DATA - SAVASI^YTAPI9
 This API saves data to the file 604, Addiction Severity Index.
 Required input: YSIEN ,ien of the file 604 entry
                 YS(1)=file 604 field number^value to save
                         .
                         .
                 YS(x)=file 604 field number^value to save
  
 Output: only to indicate success vs error
  
                 YSDATA(1)=[DATA]
                 YSDATA(2)=OK ASI SAVE YSIEN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  CHK^DIE,FILE^DIE

YTAPI ASI PNOTE - ASIPN^YTAPI9
 This API creates a Pnote in TIU based on the ASI report.
 Input required: IEN of file 604, Addiction Severity Index.
 Output is only to show success or failure of the operation.
  
 YSDATA(1)=[DATA]/[ERROR]
 YSDATA(2)=OK Progress Note created/No Pnote entered
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ASTIT^YSASPNT,NARSET^YSASPNT

YTAPI TEST BATTERY - BATT^YTAPI9
 Returns a list of all available test batteries and the tests within them.
  
 Input: none
 Output:
 YSDATA(1)=[DATA]
 YSADAT(x)=battery name^test1^test2^test3^test4
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTAPI SAVE TEST COMMENT - ADDCOMM^YTRPEXT
 This API is used to add comments to completed tests and interviews.
 PARAMETERS
  YSDATA
   TYPE:LITERAL
   The YSDATA catains the following information:
  YSCOMMT
   TYPE:LIST
   YSCOMMT array contains comment lines to be filed.
 RETURN VALUE
  TYPE: ARRAY
  RESULT(1)="[ERROR]",RESULT(2)=" No test found"
 EXTERNAL ROUTINES:
  ^DIC,^DIE

YTAPI ASI FACTORS - EN^YSASFS
 Input IEN of file 604, Addiction Severity Index
 Returns the 5 factor scores for an ASI in the following format:
  
 YSDATA(1)=[DATA]
 YSDATA(2)=ALCOHOL^FACTOR SCORE^T SCORE
 .
 .
 YSDATA(6)=LEGAL^FACTOR SCORE^T SCORE
 PARAMETERS
  IEN
   TYPE:
   An IEN for file 604 "Addiction Severity Index".
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

MPIF CHANGE CMOR - RCCMOR^MPIFRPC
 This remote procedure call (RPC) allows the changing/updating of the 
 COORDINATING MASTER OF RECORD (#991.03) field in the PATIENT (#2) file 
 for a specific patient. An A08 Update message can also be triggered.
 PARAMETERS
  ICN
   TYPE:LITERAL
   ICN - not including the checksum
  CMOR
   TYPE:LITERAL
   The station number of the site that is to become the CMOR
  SSN
   TYPE:LITERAL
   Social Security Number for the patient that is to be changed.  SSN will
  A08
   TYPE:LITERAL
   This field will serve as a flag to note whether or not an A08 update 
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if successfully change the CMOR
 EXTERNAL ROUTINES:
  $$CHANGE^MPIF001,$$GETDFN^MPIF001,$$GETDFNS^MPIF002,AVAFC^VAFCDD01,$$IEN^XUAF4

MPIF SSN DUPS - TOSITE^MPIFDUPS
 This RPC will be used by the data management teams' stat report to search
 for multiple SSNs with differnt ICNs from the same site.
 PARAMETERS
  ARRAY
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GETDFN^MPIF001,$$MPINODE^MPIFAPI,$$SITE^VASITE

MPIF ICN STATS - ICNSTAT^MPIFRPC
 RPC to return ICN, Exceptions pending, CMOR, CMOR History, ICN History 
 for any given ICN
 PARAMETERS
  ICN
   TYPE:LITERAL
  SSN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
  Array returned:
 EXTERNAL ROUTINES:
  NOTICE^DGSEC4,PTSEC^DGSEC4,$$GETDFN^MPIF001,$$GETICN^MPIF001,$$GETVCCI^MPIF001
,$$GETICNS^MPIF002,GETCMORH^MPIF002,GETICNH^MPIF002,$$SITE^VASITE

MPIF EXT PDAT REMOTE - PATINFO^MPIFEXT2
 Extended PDAT call remote.  ICN or SSN can be passed.
 PARAMETERS
  ICN
   TYPE:LITERAL
   ICN for patient requesting data on.
  SSN
   TYPE:LITERAL
   SSN for patient data to be returned on.
  RPC
   TYPE:LITERAL
  EXIST
   TYPE:LITERAL
   If there is no value or 0 is passed, then a new request for data should 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NOTICE^DGSEC4,PTSEC^DGSEC4,GETS^DIQ,$$GETDFN^MPIF001,$$GETICNS^MPIF002,$$MPINO
DE^MPIFAPI,ALIAS^MPIFEXT3,CMORCH^MPIFEXT3,SUBLST^MPIFEXT3,TFLIST^MPIFEXT3,ICNSTA
T^MPIFRPC,ADD^VADPT,DEM^VADPT,ELIG^VADPT,OAD^VADPT,OPD^VADPT,SVC^VADPT,$$FMTE^XL
FDT

MPIF INACTIVATE - INACT^MPIFRPC
 This remote procedure call (RPC) allows the remote inactivation of a 
 patient from the MPI at a specific site.
 PARAMETERS
  ICN
   TYPE:LITERAL
   ICN to be inactivated
 RETURN VALUE
  TYPE: SINGLE VALUE
  0 for successful inactivation
 EXTERNAL ROUTINES:
  $$GETDFN^MPIF001,$$GETICN^MPIF001,PAT^MPIFDEL

MPIF REMOTE SPI - SPI^MPIFRPC2
 This remote procedure call (RPC) allows the remote sending of a specific 
 patient at a specific site to the MPI for ICN assignment.  The patient is 
 found based upon social security number.
 PARAMETERS
  SSN
   TYPE:LITERAL
   SSN for the patient that is to be sent to the MPI for ICN assignment.  
  DFN
   TYPE:LITERAL
   DFN for patient to be SPI'd.  DFN or SSN should be used to find patient.
 RETURN VALUE
  TYPE: ARRAY
  Result of SSN being sent to MPI.  If ICN found/created on the MPI that 
 EXTERNAL ROUTINES:
  GETS^DIQ,$$GETICN^MPIF001,$$GETDFNS^MPIF002,CIRNEXC^MPIFQ0,$$SITE^VASITE

MPIF REMOTE ICN UPDATE - UPDATE^MPIFRPC2
 This remote procedure call (RPC) allows the remote update of the 
 INTEGRATION CONTROL NUMBER (#991.01), ICN CHECKSUM (#991.02), and 
 COORDINATING MASTER OF RECORD (#991.03) fields in the PATIENT (#2) file 
 at a specified site. The patient is found based upon social security 
 number.
 PARAMETERS
  SSN
   TYPE:LITERAL
   Social Security Number of the patient to be updated.
  ICN
   TYPE:LITERAL
   ICN - without the checksum to be updated in field 991.01
  CHECK
   TYPE:LITERAL
    CHECKSUM for the patient to be stored in field 991.02
  CMOR
   TYPE:LITERAL
    Station Number to be stored as the CMOR in field 991.03.
  A08
   TYPE:LITERAL
   If an A08 message needs to be sent this flag should be set to 1.
 RETURN VALUE
  TYPE: SINGLE VALUE
   1 for successful update
 EXTERNAL ROUTINES:
  $$A24^MPIFA24B,$$MPINODE^MPIFAPI,$$UPDATE^MPIFAPI,EXC^RGHLLOG,START^RGHLLOG,ST
OP^RGHLLOG,AVAFC^VAFCDD01,$$SITE^VASITE,$$LKUP^XUAF4

ORWORB TEXT FOLLOWUP - TXTFUP^ORWORB
 Returns text for notifications/alerts with a simple text message follow-up
 action.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number of patient in the Patient file [
  NOTIFICATION
   TYPE:LITERAL
   Internal entry number of notification in the OE/RR Notification file
  XQADATA
   TYPE:LITERAL
   Optional data used in some follow-up actions.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

MAG4 VALIDATE DATA - VAL^MAGGSIV
 Validates the Image Data Array
 PARAMETERS
  MAGARRAY
   TYPE:LIST
   Each item in the Array is an '
  ALL
   TYPE:LITERAL
   All = 1 and All items in MAGARRAY will be validated.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$VALID^MAGGSIV1

MAG4 REMOTE IMPORT - REMOTE^MAGGSIUI
 Called from MS Windows Application.
 PARAMETERS
  MAGDATA
   TYPE:LIST
   This is the array of data needed to Import the Image(s)
 RETURN VALUE
  TYPE: ARRAY
  Return Parameter is an Array
 EXTERNAL ROUTINES:
  

MAG4 DATA FROM IMPORT QUEUE - GETARR^MAGGSIUI
 This call returns the Array of Data from the Import Queue, given a QUEUE Number
 Called from Delphi and 'M'
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  IMPAR^MAGQBUT2

MAG4 ADD IMAGE - ADD^MAGGSIA
 Adds a new entry to the IMAGE File ^MAG(2005
 PARAMETERS
  MAGARRAY
   TYPE:LIST
   This is the image data list in the form
 RETURN VALUE
  TYPE: ARRAY
   Successful   MAGRY = IEN^FILE NAME (with full path)
 EXTERNAL ROUTINES:
  UPDATE^DIE,$$NEWIEN^MAGGI12,PRE^MAGGSIA1,UPDCHLD^MAGGSIM,UPDPAR^MAGGSIM,KILLEN
T^MAGGSIU1,RTRNERR^MAGGSIU1,MAKEFDA^MAGGSIU2,VAL^MAGGSIV,ACTION^MAGGTAU,$$DA2NAM
E^MAGGTU1

MAG4 STATUS CALLBACK - STATUSCB^MAGGSIUI
 This RPC is called from the Imaging Delphi component when
 an image/images have been imported via the Imaging Import API
 being developed for use by Clinical Procedures.
 This call is used in the test version of Import API, it will be 
 replaced in the released version.  In the released version the 
 Imaging BackGround Processor will be calling the Status Callback
 routine of CP.
 PARAMETERS
  STATARR
   TYPE:LIST
   This array has the following structure:
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return is a string, it is of no value.  If this call generates an error,
 EXTERNAL ROUTINES:
  $$SES4TRK^MAGGSIU3,LOGRES^MAGGSIU3

MAG4 CP CONSULT TO TIUDA - TIUDA^MAGGSCP
  Imaging Capture workstation calls this RPC to get a TIU IEN to
  attach images to.
  This call simply calls a CP API, which accepts
  DFN, Consult #, Visit String (optional), Complete|Do not Complete the |
  transaction.
 
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   DFN of Patient
  MAGCONS
   TYPE:LITERAL
    This is the consult #.  The consult # is returned as a part of the
  MAGVSTR
   TYPE:LITERAL
    Visit String, needed to create a New Tiu Note.
  MAGCMP
   TYPE:LITERAL
    Flag:  tells to Complete (1) or Not Complete (0) the CP transaction.
 RETURN VALUE
  TYPE: ARRAY
   Returns the TIU IEN of the CP Note.
 EXTERNAL ROUTINES:
  ACTION^MAGGTAU,ITIU^MDAPI

MAG4 CP GET REQUESTS - LIST^MAGGSCP
 Return a list of Clinical Procedure Requests for a Patient.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   DFN of Patient
  PROC
   TYPE:LITERAL
    IEN from file 702.01 if just ome procedure desired, but
 RETURN VALUE
  TYPE: ARRAY
   Returns a list of Patient CP requests to be displayed in a
 EXTERNAL ROUTINES:
  $$GET1^DIQ,CPLIST^GMRCCP

MAG4 CP GET VISITS - VISITS^MAGGSCP
  This RPC call simply call a CP Routine that lists visits for a patient.
  Imaging prompts the user with this list when a Visit String
  is needed by CP to create a Note.
 
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   DFN of Patient
  MAGCONS
   TYPE:LITERAL
    Consult Number, returned in the Query to get patient CP Requests.
 RETURN VALUE
  TYPE: ARRAY
  Array of Visits for the patient.
 EXTERNAL ROUTINES:
  $$EXTDT^MAGGSU1,GETVST^MDRPCOP

MAG4 GET SUPPORTED EXTENSIONS - LIST^MAGGSFT
 Returns a list of supported file extensions, used in Imaging.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  list of supported file extensions, used in Imaging.
 EXTERNAL ROUTINES:
  

MAG4 CP UPDATE CONSULT - UPDCONS^MAGGSCP
 The Imaging capture station can mark a transaction as complete by making
   this call after a successful capture.  This call puts the procedure in
   a status of 'pr' (ready for interpretation.
 PARAMETERS
  MAGCMP
   TYPE:LITERAL
   This is the Complete Flag that Clinical Procedures doesn't deal with.
  MAGTIU
   TYPE:LITERAL
   The TIUDA of the Note associated with the Consult.  This TIUDA is produced by
 
  MAGCMP
   TYPE:LITERAL
   This is the Complete Flag that Clinical Procedures doesn't deal with.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The result of the call to CPDOC^GMRCCP.  1 for success OR  0^error message
 EXTERNAL ROUTINES:
  $$CPDOC^GMRCCP,ACTION^MAGGTAU

MPIF ACK CHECK - EN^MPIFACHK
 This RPC will check to see if there are any messages on the sites before 
 date BEFORE that haven't received the application level ack back.  If so, 
 regenerate that message to the MPI.  
  
 If a message is generated 1 will be returned, otherwise 0.
 PARAMETERS
  BEFORE
   TYPE:LITERAL
   The FM date that the message should be sent BEFORE.
 RETURN VALUE
  TYPE: SINGLE VALUE
  0 if no messages needed to be regenerated.
 EXTERNAL ROUTINES:
  EXC^RGHLLOG,START^RGHLLOG,STOP^RGHLLOG

XWB M2M EXAMPLE LARRY - LARRYRP^XWBM2MT
 PARAMETERS
  ARRAY
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

XWB M2M EXAMPLE REF - REFRP^XWBM2MT
 Test RPC for M2M.  This just returns result by reference.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

GMV CONVERT DATE - GETDT^GMVGETQ
 This remote procedure call converts a user-supplied date/time into VA
 FileMan's internal and external date format.
  
 This remote procedure call is documented in Integration Agreement 4353.
 PARAMETERS
  GMRDATE
   TYPE:LITERAL
   GMRDATE is the user-supplied date/time text.
 RETURN VALUE
  TYPE: SINGLE VALUE
  RESULT=Date in internal FileMan format^Date in external FileMan format
 EXTERNAL ROUTINES:
  DT^DILF,$$NOW^XLFDT

GMV ADD VM - EN1^GMVDCSAV
 This remote procedure call is used to enter a new Vital/Measurement record
 in the GMRV Vital Measurement file (#120.5).
  
 This remote procedure call is documented in Integration Agreement 3996.
 PARAMETERS
  GMRVDATA
   TYPE:LITERAL
   This variable contains the data needed to create a Vital/Measurement
 RETURN VALUE
  TYPE: SINGLE VALUE
  RESULT does not return a value. 
 EXTERNAL ROUTINES:
  

GMV EXTRACT REC - GETVM^GMVGETD
 This remote procedure call retrieves vital records from the GMRV Vital
 Measurement (#120.5) file for a selected patient within a given date span.
  
 This remote procedure call is documented in Integration Agreement 4416.
 PARAMETERS
  GMRVDATA
   TYPE:LITERAL
   GMRVDATA consists of 4 pieces of information:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the name of the global array (i.e., ^TMP($J,"GRPC")) containing a
 EXTERNAL ROUTINES:
  EN1^GMVGETD1,$$NOW^XLFDT

GMV WARD LOCATION - WARDLOC^GMVGETD
 This procedure extracts MAS ward locations from the Ward Location file
 (#42).
  
 Note: No other Input Parameters besides RESULT needed.
 PARAMETERS
  DUMMY
   TYPE:LITERAL
   When this input parameter is set to the letter "P", only wards that have 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the global array name containing a list of MAS wards (i.e., 
 EXTERNAL ROUTINES:
  LIST^DIC,$$UP^XLFSTR

GMV WARD PT - WARDPT^GMVGETD
 This procedure lists patients registered on a particular MAS ward.
 PARAMETERS
  GMRWARD
   TYPE:LITERAL
   GMRWARD contains the name of ward from Ward Location file (#42).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the name of the global array containing the list of patients on 
 EXTERNAL ROUTINES:
  PTINFO^GMVUTL3

GMV MARK ERROR - ERROR^GMVUTL1
 This remote procedure call marks a selected vitals record in the GMRV
 Vital Measurement (#120.5) file as entered-in-error.
  
 This remote procedure call is documented in Integration Agreement 4414.
 PARAMETERS
  GMVDATA
   TYPE:LITERAL
   GMVDATA contains the following information:
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the record is marked as entered in error, RESULT is set to "OK".
 EXTERNAL ROUTINES:
  UPDATE^DIE

GMV PT GRAPH - EN1^GMVSR0
 Prints Vitals/Measurements Graphic Reports.
 PARAMETERS
  GMVDATA
   TYPE:LITERAL
   A multi-piece variable that identifies the values needed to run the 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a message stating the outcome of the request to queue the report.
 EXTERNAL ROUTINES:
  DATELN^GMVSR0,DEM^VADPT,INP^VADPT,KVAR^VADPT,$$NOW^XLFDT

GMV V/M ALLDATA - VMDATA^GMVGGR1
 This remote procedure call lists all vitals/measurements data for a given
 date/time span.
  
 This remote procedure call is documented in Integration Agreement 4654.
 PARAMETERS
  GMVDATA
   TYPE:LITERAL
   GMVDATA consists of 4 pieces of data:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RESULT array returns the data or a "NO DATA" message.
 EXTERNAL ROUTINES:
  ^GMVGGR2

GMV TEAM PATIENTS - TEAMPT^GMVUTL3
 This procedure retrieves patients assigned to a given team.
 PARAMETERS
  GMVTEAM
   TYPE:LITERAL
   GMVTEAM is the internal entry number of the selected team (File 100.21).
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of patients in the array specified.
 EXTERNAL ROUTINES:
  TEAMPTS^ORQPTQ1

GMV ALLERGY - ALLERGY^GMVUTL3
 This remote procedure call retrieves the patient's allergy information.
  
 This remote procedure call is documented in Integration Agreement 4350.
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN is a pointer to the PATIENT file (#2).
 RETURN VALUE
  TYPE: ARRAY
  Returns the patient allergy information in the array specified.
 EXTERNAL ROUTINES:
  EN1^GMRADPT

GMV CLINIC PT - CLINPTS^GMVCLIN
 This procedure lists patients who have an appointment for a selected
 clinic and a given period of time.
 PARAMETERS
  CLIN
   TYPE:LITERAL
   CLIN contains the name of the selected clinic from the Hospital Location
  BDATE
   TYPE:LITERAL
   BDATE contains TODAY, TOMORROW, YESTERDAY, PAST WEEK or PAST MONTH.
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of patient names and DFNs for the selected clinic and the
 EXTERNAL ROUTINES:
  DT^DILF,PTINFO^GMVUTL3,GETPLIST^SDAMA202,$$FMTE^XLFDT,$$NOW^XLFDT,$$UP^XLFSTR

GMV VITALS/CAT/QUAL - GETVITAL^GMVUTL7
 Returns all qualifier information for the vital types selected.
  
 This remote procedure call is documented in Integration Agreement 4359.
 PARAMETERS
  GMVLIST
   TYPE:LITERAL
   A list of vital type abbreviations (FILE 120.51, Field 1) separated by
 RETURN VALUE
  TYPE: ARRAY
  Returns the qualifier information for the selected vital types in the 
 EXTERNAL ROUTINES:
  

GMV PTSELECT - RPC^GMVRPCP
 Used as a method of processing a patient DFN and returning all warnings 
 and notices (i.e. sensitivity or same last 4 of SSN) to the client 
 application for processing.  Also includes a call to log access of 
 sensitive patients to the DG SECURITY LOG file.
 PARAMETERS
  RESULT
   TYPE:REFERENCE
   This is the RPC return array variable.
  OPTION
   TYPE:LITERAL
   Contains the appropriate method to perform within this RPC call.
  DFN
   TYPE:LITERAL
   Contains the DFN of the patient to process in the SELECT or LOGSEC method 
  DATA
   TYPE:LITERAL
   Used to pass in the option name to DGSEC when logging against the DG 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RESULTS(0)   =Success or failure flag (-1 or 1) from both SELECT & LOGSEC 
 EXTERNAL ROUTINES:
  CLEAN^DILF

GMV LATEST VM - GETLAT^GMVGETD
 This remote procedure call retrieves the latest vital records for a given
 patient.
  
 This remote procedure call is documented in Integration Agreement 4358.
 PARAMETERS
  GMRDFN
   TYPE:LITERAL
   GMRDFN variable is a pointer to the Patient (#2) file (i.e., DFN).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the name of the global array (i.e., ^TMP($J,"GRPC")) containing 
 EXTERNAL ROUTINES:
  EN1^GMVLAT0

GMV ROOM/BED - ROOMBED^GMVGETD
 This procedure extracts room/bed information from Room-Bed file (#405.4)
 for a given MAS ward.
 PARAMETERS
  GMRWARD
   TYPE:LITERAL
   GMRWARD is a MAS ward name from the Ward Location file (#42).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the global array name (i.e., ^TMP($J,"GROOM")) containing a list
 EXTERNAL ROUTINES:
  

GMV CUMULATIVE REPORT - EN1^GMVSC0
 Prints the Cumulative Vitals Report.
 PARAMETERS
  GMVDATA
   TYPE:LITERAL
   A multi-piece variable that identifies the values needed to run the 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a message stating the outcome of the request to queue the report. 
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$NOW^XLFDT

GMV LATEST VITALS BY LOCATION - EN1^GMVDS1
 Prints the latest vitals/measurements for all patients on a given ward
 location.
 PARAMETERS
  GMVDATA
   TYPE:LITERAL
   A multi-piece variable that identifies the values needed to run the 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a message stating the outcome of the request to queue the report.
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$NOW^XLFDT

GMV LATEST VITALS FOR PATIENT - EN1^GMVDS1
 Prints the latest vitals/measurements for the selected patient.
 PARAMETERS
  GMVDATA
   TYPE:LITERAL
   A multi-piece variable that identifies the values needed to run the 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a message stating the outcome of the request to queue the report. 
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$NOW^XLFDT

GMV ENTERED IN ERROR-PATIENT - EN1^GMVER0
 Prints a report of all vitals/measurements entered in error for the
 selected patient for a given date/time range.
 PARAMETERS
  GMVDATA
   TYPE:LITERAL
   A multi-piece variable that identifies the values needed to run the 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a message stating the outcome of the request to queue the report. 
 EXTERNAL ROUTINES:
  ^%ZISC,^%ZTLOAD,$$NOW^XLFDT

GMV QUALIFIER TABLE - EN1^GMVCAQU
 Prints a list of categories and qualifiers associated with individual
 vital types (e.g., blood pressure). Data comes from the GMRV Vital
 Qualifier (#120.52) file and the GMRV Vital Category (#120.53) file.
 PARAMETERS
  GMVDATA
   TYPE:LITERAL
   A multi-piece variable that identifies the values needed to run the 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a message stating the outcome of the request to queue the report. 
 EXTERNAL ROUTINES:
  ^%ZTLOAD,$$NOW^XLFDT

GMV MANAGER - RPC^GMVRPCM
 Performs many functions for the Manager module.
  
 This remote procedure call is documented in Integration Agreement 4360.
 PARAMETERS
  OPTION
   TYPE:LITERAL
   Routine tag line in GMVRPCM to call.
  DATA
   TYPE:LITERAL
   Other data as required for the call.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This remote procedure call performs various actions such as building
 EXTERNAL ROUTINES:
  CLEAN^DILF

GMV WARD/ROOM PATIENTS - ROOMPT^GMVUTL7
 Returns a list of patients in the ward and rooms specified.
 PARAMETERS
  GMVWRD
   TYPE:LITERAL
   Name of the ward (e.g., 2EAST).
  GMVRLST
   TYPE:LITERAL
   The room numbers of the ward separated by comma (e.g., 200,210,220).
 RETURN VALUE
  TYPE: ARRAY
  RESULT(n)=patient name^DFN^DOB (external)^SSN (no hyphens)
 EXTERNAL ROUTINES:
  WARD^GMVDS1,$$FMTE^XLFDT

GMV GET CURRENT TIME - TIME^GMVUTL7
 Gets the current date and time from the server.
  
 This remote procedure call is documented in Integration Agreement 4355.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns current date and time in FileMan internal and external format.
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

GMV USER - RPC^GMVRPCU
 Retrieves data about the user (e.g., parameter settings).
  
 This remote procedure call is documented in Integration Agreement 4366.
 PARAMETERS
  OPTION
   TYPE:LITERAL
   Routine tag line to call in GMVRPCU.
  DATA
   TYPE:LITERAL
   Other data as required for the call.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This Remote Procedure Call (RPC) performs various actions focusing on the 
 EXTERNAL ROUTINES:
  CLEAN^DILF

GMV NUR UNIT PT - APTLIST^GMVUTL8
 Returns a list of active patients for a nursing location.
 PARAMETERS
  LOC
   TYPE:LITERAL
   NURS LOCATION file (#211.4) ien.
 RETURN VALUE
  TYPE: ARRAY
  ARRAY - Subscripted by sequential number with DFN in first piece and
 EXTERNAL ROUTINES:
  PTINFO^GMVUTL3,APTLIST^NURAPI

GMV CHECK DEVICE - CHKDEV^GMVUTL2
 This RPC calls a KERNEL utility to return a list of printers the user may 
 select to print output. Returns a maximum of twenty entries.
 PARAMETERS
  GMVIEN
   TYPE:LITERAL
   The value to begin the search in the Device file (#3.5). Can be null.
  GMVDIR
   TYPE:LITERAL
   Direction of the search (1 = forward, -1 = backwards).
  GMVRMAR
   TYPE:LITERAL
   Right margin as a single number or range (e.g, 80, 132 or "80-132").
 RETURN VALUE
  TYPE: ARRAY
  RESULT(n)=P1^P2^P3^P4^P5^P6
 EXTERNAL ROUTINES:
  DEVICE^XUDHGUI

GMV PARAMETER - RPC^GMVPAR
 Sets and retrieves parameter values used by the graphical user interface.
  
 This remote procedure call is documented in Integration Agreement 4367.
 PARAMETERS
  OPTION
   TYPE:LITERAL
   Routine tag line to call.
  ENT
   TYPE:LITERAL
   The entity value to use. See Integration Agreement 2263 and FILE 8989.518
  PAR
   TYPE:LITERAL
   The parameter value to use. See FILE 8989.51 for a list of parameter
  INST
   TYPE:LITERAL
   The instance to use. 
  VAL
   TYPE:LITERAL
   The value assigned to a parameter. Values are stored in FILE 8989.5.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This remote procedure call sets and retrieves parameter settings that 
 EXTERNAL ROUTINES:
  CLEAN^DILF

SD W/L RETRIVE FULL DATA - OUTPUT^SDWLRP1
 This RPC returns a Wait List data in SDWL(409.3,DA,0). This will only 
 return the zero (0) node of the file.
 PARAMETERS
  Patient IEN (DFN)
   TYPE:REFERENCE
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC,CLEAN^DILF

SD W/L CREATE FILE - INPUT^SDWLRP1
 This RPC creates a Patient Wait List file for PCMM (GUI).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF

SD W/L RETRIVE BRIEF - OUTPUT1^SDWLRP1
 This RPC retrieves a brief output for Wait List data for a specific 
 Patient.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

SD W/L RETRIVE MEDICAL REVIEW - OUTPUT2^SDWLRP1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

SD W/L RETRIVE DISPOSITION - OUTPUT3^SDWLRP1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC,CLEAN^DILF

SD W/L RETRIVE INSTITUTION(#4) - OUTIN^SDWLRP2
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

SD W/L RETRIVE CLINIC(#409.32) - OUTSC0^SDWLRP2
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC,CLEAN^DILF

SD W/L RETRIVE HOSP LOC(#44) - OUTSC2^SDWLRP2
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC,CLEAN^DILF

SD W/L RETRIVE TEAM(#404.51) - OUTST^SDWLRP2
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC,CLEAN^DILF

SD W/L RETRIVE TM POS(404.57) - OUTSP^SDWLRP2
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC,CLEAN^DILF

SD W/L RETRIVE SER/SP(409.31) - OUTSS^SDWLRP2
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC,CLEAN^DILF

SD W/L RETRIVE PERSON(200) - OUTPROV^SDWLRP2
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC,CLEAN^DILF

SD W/L PRIORITY(#409.3) - SDPRIOUT^SDWLRP3
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID

SD W/L REQ BY(409.3) - SDREQOUT^SDWLRP3
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID

SD W/L TYPE(409.3) - SDTYOUT^SDWLRP3
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID

SD W/L DISPOSITION(409.3) - SDDISOUT^SDWLRP3
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID

SD W/L CURRENT STATUS(409.3) - SDSTOUT^SDWLRP3
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID

SD W/L PACKAGE(409.3) - SDPACOUT^SDWLRP3
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID

SD W/L NEW ENROLLEE(409.3) - SDNEOUT^SDWLRP3
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID

SD W/L CREATE DISPOSITION - INPUTD^SDWLRP1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF

SD W/L CREATE M/R - INPUTMR^SDWLRP1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

SD W/L IMPORT API - INPUT^SDWLRP4
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CLEAN^DILF

SCMC WAIT LIST ENTRY - WAIT^SCMCWAIT
 Place patient on Wait List
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$TPPT^SCAPMC,$$TMPT^SCAPMC3,$$TEAMCNT^SCAPMCU1,$$GETEAM^SCAPMCU3,$$ACTTM^SCMC
TMU,DEM^VADPT

SC FTEE BUILD LIST - FTEE^SCMCTSK
 Return List of Positions and FTEE values for  Active Team
 PARAMETERS
  TEAM
   TYPE:LITERAL
   Internal Team Number
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$DATES^SCAPMCU1

SC FTEE FILE LIST - FILE^SCMCTSK
 File FTEE value
 PARAMETERS
  DATA
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^DIE

SC PC PROVIDER - PC^SCMCWAIT
 Send provider entry return 1 or zero if eligible to be Primary Care
 PARAMETERS
  PROV
   TYPE:LITERAL
   Internal file 200 provider entry
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GETALL^SCAPMCA

SC SC CONDITION LIST - SCLI^SCMCWAIT
 Return conditions of Patient
 PARAMETERS
  SC 
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
  ARRAY
 EXTERNAL ROUTINES:
  SDSC^SDWLRP3

IBO MT LTC COPAY QUERY - RETURN^IBOMTLTC
 This remote procedure will produce a report showing both MT and LTC copay 
 information at a remote facility.
 PARAMETERS
  IBICN
   TYPE:LITERAL
   This is the patient's ICN used to identify the patient at a remote 
  DFN
   TYPE:LITERAL
   This is the patient's DFN, it is not required but will be used if 
  IBBDT
   TYPE:LITERAL
   This is the starting date of the date range of the information 
  IBEDT
   TYPE:LITERAL
   This is the ending date of the date range requested.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return value will be a global array that will be in output format 
 EXTERNAL ROUTINES:
  $$EXTERNAL^DILFD,GETS^DIQ,$$DFN^IBARXMU,$$DAT1^IBOUTL,$$SETSTR^VALM1,$$FMADD^X
LFDT,$$FMTE^XLFDT

ORWOR RESULT HISTORY - RESHIST^ORWOR
 Returns a result history of a CPRS order.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ORDHIST^ORWOR2

ORWCIRN CHECKLINK - CHKLNK^ORWCIRN
 Check to see if HL7 TCP link is active.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$STAT^HLCSLM

OREVNTX PAT - PAT^OREVNTX
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$LOWER^VALM1

OREVNTX ACTIVE - ACTIVE^OREVNTX
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

OREVNTX1 PUTEVNT - PUTEVNT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NEW^OREVNT

OREVNTX1 GTEVT - GTEVT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$EVT^OREVNTX

OREVNTX1 WRLSTED - WRLSTED^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

OREVNTX1 EVT - EVT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETLST^OREV3,$$EVT^OREVNTX,CANCEL^OREVNTX,CHGEVT^OREVNTX

OREVNTX1 EXISTS - EXISTS^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 NAME - NAME^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NAME^OREVNTX

OREVNTX1 MATCH - MATCH^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$MATCH^OREVNT

OREVNTX1 GTEVT1 - GTEVT1^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 DIV - DIV^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$DIV^OREVNTX

OREVNTX1 DIV1 - DIV1^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 LOC - LOC^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$LOC^OREVNTX

OREVNTX1 LOC1 - LOC1^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 CHGEVT - CHGEVT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CHGEVT^OREVNTX

OREVNTX1 EMPTY - EMPTY^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$EMPTY^OREVNTX

OREVNTX1 DELPTEVT - DELPTEVT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CANCEL^OREVNTX

ORWDX SENDED - SENDED^ORWDX
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN2^ORCSEND,$$TYPE^OREVNTX,SAVE^ORMEVNT1,$$LCKEVT^ORX2,$$LOCK1^ORX2,UNLEVT^ORX
2,UNLK1^ORX2

OREVNTX1 GETDLG - GETDLG^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 CURSPE - CURSPE^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PT^DGPMOBS

OREVNTX1 DFLTEVT - DFLTEVT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETLST^OREV3

OREVNTX1 DONE - DONE^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ACTLOG^OREVNTX,DONE^OREVNTX

OREVNTX1 CPACT - CPACT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 PRMPTID - PRMPTID^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORECS01 CHKESSO - CHKESSO^ORECS01
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PATCH^XPDUTL

ORECS01 VSITID - VSITID^ORECS01
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX LIST - LIST^OREVNTX
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$LOWER^VALM1

ORECS01 ECPRINT - ECPRINT^ORECS01
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  RPTEN^ECRRPC

ORECS01 ECRPT - ECRPT^ORECS01
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  RPTEN^ECRRPC

OREVNTX1 ISDCOD - ISDCOD^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETLST^XPAR

OREVNTX1 SETDFLT - SETDFLT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

ORWDPS1 HASOIPI - HASOIPI^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 DEFLTS - DEFLTS^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$DEFTS^ORCDADT

OREVNTX1 MULTS - MULTS^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OREVNTX1 PROMPT IDS - PRTIDS^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS1 HASROUTE - HASROUTE^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 DELDFLT - DELDFLT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DEL^XPAR

OREVNTX1 DFLTDLG - DFLTDLG^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORECS01 GETDIV - GETDIV^ORECS01
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  &^
 EXTERNAL ROUTINES:
  

OREVNTX1 TYPEXT - TYPEXT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$EXISTS^OREVNTX

ORWORR RGET - RGET^ORWORR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

OREVNTX1 AUTHMREL - AUTHMREL^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CANREL^OREV3

OREVNTX1 HAVEPRT - HAVEPRT^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 CMEVTS - CMEVTS^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^OREV3

OREVNTX1 ODPTEVID - ODPTEVID^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWOR PKISITE - PKISITE^ORWOR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DOSE^PSSOPKI1,$$GET^XPAR,STORESIG^XUSSPKI

OREVNTX1 COMP - COMP^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$COMP^OREVNTX

OREVNTX1 ISHDORD - ISHDORD^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 ISPASS - ISPASS^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$EVT^OREVNTX

OREVNTX1 ISPASS1 - ISPASS1^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OREVNTX1 DLGIEN - DLGIEN^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

EC GETVISITINFO - VISINFO^ECUERPC2
 This broker call returns specific EC patient visit data (location, DSS Unit,
 patient ien, etc) based on a Visit Number.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   The value ECARY contains the Visit Number IEN (ECVSN), found in file (#900001
0).
 RETURN VALUE
  TYPE: SINGLE VALUE
  This call returns the following EC patient values separated by an up-arrow (^)
:-
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC

EC GETPATCH - PATCH^ECUURPC
 Broker call checks to see if a patch has been installed. Returns 1 if
 patch is installed.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   Input a patch number, ex. EC*2.0*28.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a 1 if patch has been installed, otherwise returns a 0.
 EXTERNAL ROUTINES:
  SETENV^ECUMRPC,$$PATCH^XPDUTL

RMPR NPPD LIST - EN^RMPR9LNP
 GUI REMOTE PROCEDURE, LIST NPPD DATA
  
         ;RESULTS passed to broker in ^TMP($J,
         ;delimited by "^"
         ;piece 1 = ENTRY DATE
         ;piece 2 = PATIENT NAME
         ;piece 3 = PSAS HCPCS with * if hcpcs has Calculation Flag
         ;piece 4 = QTY
         ;piece 5 = VENDOR
         ;piece 6 = INITIAL ACTION DATE
         ;piece 7 = TOTAL COST
         ;piece 8 = DESCRIPTION
         ;piece 9 = INITIATOR
         ;piece 10 = NPPD LINE BEFORE GROUPER
         ;piece 11 = STATION
         ;piece 12 = GROUPER NUMBER
         ;piece 13 = FORM REQUESTED ON
         ;piece 14 = TYPE OF TRANSACTION
         ;piece 15 = SSN
         ;piece 16 = IEN TO FILE 660
         ;piece 17 = HCPCS SHORT DESCRIPTION
         ;piece 18 = SOURCE
 PARAMETERS
  DATE1
   TYPE:LITERAL
   The Fileman date to start the query.  The begining date.
  DATE2
   TYPE:LITERAL
   The Fileman date to end the query.  The ending date.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DEM^VADPT,SVC^VADPT

PSB VERSION CHECK - GUICHK^PSBRPC3
 This RPC is called at startup. No parameters are passed.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  (0) = Count
 EXTERNAL ROUTINES:
  

OOPS REMOTE GET USER OPTIONS - OPT^OOPSGUI1
 This call returns what ASISTS GUI menu options the user has assigned to them. 
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  In a single value ^ delimited array of seven pieces: P1 =  if DUZ
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$ACCESS^XQCHK

OOPS GET POINTED TO - GETLIST^OOPSGUI3
 The broker call passes the file and field number back to the variable FLD on
 the M side.  The M code will return the code (pointer) and the description for
 set of codes or table files to be used in lookups.
 PARAMETERS
  single
   TYPE:LITERAL
   This must contain the File and Field number separated by the caret character.
 RETURN VALUE
  TYPE: ARRAY
  This array will contain the code (pointer) and the description from the set of
 EXTERNAL ROUTINES:
  $$GET1^DID

OOPS GET BODY PART - BODY^OOPSGUI3
 Call this to return a list of body parts from file ^OOPS(2261.1 that do not
 have a numeric value in the code field.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  This return parameter, RESULTS, returns an array with the Body Part 
 EXTERNAL ROUTINES:
  

OOPS GET CASE NUMBERS - GETCASE^OOPSGUI0
 This call returns a list of cases that match the search criteria and are 
 eligible for editing.
 PARAMETERS
  PERSON
   TYPE:LITERAL
   The value passed in PERSON determines which cases are included in the
  CSTAT
   TYPE:LITERAL
   This parameter passes in the Case Status's of the claims to be included in th
e
  PSTAT
   TYPE:LITERAL
   This parameter determines which PERSONNEL STATUS's should be included in the
  CALL
   TYPE:LITERAL
   This parameter passes in the menu that the broker call was made from.
  OPT
   TYPE:LITERAL
   This parameter passes in the option that the broker call was made from, if
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  An array is passed back which contains the case number, date/time of occurrenc
e,
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS GET DUPLICATES - DUP^OOPSGUI4
 This broker call returns the Case Number, Type of Incident and Date/Time of 
 any Open Case that matches the social Security Number that was entered in the
 Create Accident/Illness Report Option.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter passes the SSN entered in the Create Accident/Illness Report.
 RETURN VALUE
  TYPE: ARRAY
  This array contains the Case Number, Type of Incident, and the Date/Time of 
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS LOAD OOPS - LOAD^OOPSGUI4
 This broker call files data entered in the Create Accident/Illness Report
 Option.
 PARAMETERS
  LIST
   TYPE:LITERAL
   This input parameter is an array containing the data elements collected in
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NOW^%DTC,FILE^DICN,^DIE,$$FYEAR^OOPSCSN,$$NEWR^OOPSCSN,BOR^OOPSMBUL,CASE^OOPSM
BUL,CIO^OOPSMBUL

OOPS EMPLOYEE DATA - PAID^OOPSGUI4
 This call returns a listing of individuals in the PAID file #450 that match
 the Name or partial name entered.  It returns PAID fields 6, 10, 13, 16, 31,
 32, 38, 186.1, 186.3, 186, 186.4, 458, 604.
 PARAMETERS
  NAME
   TYPE:LITERAL
   This parameter contains the name or partial name of the employee being looked
 RETURN VALUE
  TYPE: ARRAY
  This return parameter, RESULTS, contains fields from the PAID Employee File
 EXTERNAL ROUTINES:
  FIND^DIC,CLEAN^DILF,$$GET1^DIQ,$$PAYP^OOPSUTL1,$$DT^XLFDT,$$FMDIFF^XLFDT

OOPS NEW PERSON DATA - PER^OOPSGUI4
 This call returns the name of new person, sex, DOB, and SSN of the individual
 whose name is passed in the input parameter.
 PARAMETERS
  NAME
   TYPE:LITERAL
   This input parameter contains the name of the individual to look up and in
 RETURN VALUE
  TYPE: ARRAY
  The return parameter contains the name of new person, sex, DOB, and SSN if an
 EXTERNAL ROUTINES:
  $$FIND1^DIC,FIND^DIC,CLEAN^DILF,$$GET1^DIQ,$$DT^XLFDT,$$FMDIFF^XLFDT

OOPS GET 2260 DATA - GET^OOPSGUI2
 This broker call will return data from ASISTS file 2260. 
 The fields (in the array) returned will vary depending on the input parameter.
 One field of the input parameter is FORM. If the claim is for a 2162, all the 
 fields associated with "2162" nodes along with zero nodes will be returned.
 If the form is either CA1 or CA2 all associated nodes will be returned in
 addition to the zero and "CA" nodes.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   The input parameter must include the ASISTS IEN and the form type of data
  PERS
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS REPLACE DATE/TIME - DTFC^OOPSGUI8
 This call assures the date and/or time is a valid and reformats it.
 PARAMETERS
  DATE
   TYPE:LITERAL
   This is the date to be validated and reformatted.
  FLAG
   TYPE:LITERAL
   This is a control flag for assuring a valid date.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return parameter, RESULTS, either returns a data in a valid Fileman
 EXTERNAL ROUTINES:
  ^%DT,$$FMTE^XLFDT

OOPS GET CKRANGE - GETSCHED^OOPSGUI3
 This broker call is used to return an array which holds the integer values 
 stored in the field included in the input parameter. Currently in ASISTS, the 
 fields that are evaluated/returned via this broker are:
 
 140 Regular Work Schedule for CA1
 244 Regular Work Schedule for CA2
 PARAMETERS
  INPUT
   TYPE:LITERAL
   The input parameter must contain the file, field and IEN to retrieve the
 RETURN VALUE
  TYPE: ARRAY
  Return parameter RESULTS is an array containing the integers used to indicate
 EXTERNAL ROUTINES:
  $$GET1^DID

OOPS GET WITNESSES - WITR^OOPSGUI2
 This broker call with take and IEN as input and retrieve witness information
 and associated comments from the ASISTS 2260 file. 
 PARAMETERS
  IEN
   TYPE:LITERAL
   The only input is the IEN of the ASISTS case number you wish to retrieve 
 RETURN VALUE
  TYPE: ARRAY
  The Return parameter is an Array containing the Witness information 
 EXTERNAL ROUTINES:
  $$EXTERNAL^DILFD

OOPS GET DEFAULT MD - DEFMD^OOPSGUI2
 This call will return the Default Medical Doctor information based on an IEN
 in the ASISTS 2260 file being passed in. The information returned is from the
 file 2262.  
 PARAMETERS
  IEN
   TYPE:LITERAL
   This input value must be a valid IEN from the ASISTS 2260 file.
 RETURN VALUE
  TYPE: ARRAY
  The results array will return data in the following format.
 EXTERNAL ROUTINES:
  $$FIND1^DIC,$$EXTERNAL^DILFD,$$GET1^DIQ

OOPS GET SUPERVISOR - SUPER^OOPSGUI4
 This call looks up the Supervisor from the new person file.  The IEN of the
 claim is passed in to make sure that the person involved is not the supervisor.
 PARAMETERS
  NAME
   TYPE:LITERAL
   This is the name or the partial name of the individual being looked up.
  CASESSN
   TYPE:LITERAL
   This is the SSN for the Person Involved in the case.  It will be used to assu
re
 RETURN VALUE
  TYPE: ARRAY
  This return parameter, RESULTS, contains a list of indiviuals found in the
 EXTERNAL ROUTINES:
  FIND^DIC,CLEAN^DILF,$$GET1^DIQ,$$DT^XLFDT,$$FMDIFF^XLFDT

OOPS CREATE AMENDMENT - AMEND^OOPSGUI8
 Files an Amendment for the selected case in ASISTS.
 PARAMETERS
  SING
   TYPE:LITERAL
   The IEN of the ASISTS case to have an Amendment created for is passed in.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The new ASISTS case number is returned.
 EXTERNAL ROUTINES:
  FILE^DICN,IX^DIK,WK^OOPSUTL1

OOPS EDIT 2260 - EDIT^OOPSGUI5
 This broker call passes in ASISTS data and files it in the ASISTS Accident
 Reporting File (#2260).
 PARAMETERS
  INPUT
   TYPE:LITERAL
  ARR
   TYPE:LITERAL
   This is an array of the sendparms created in Delphi to fill in the 2260.
 RETURN VALUE
  TYPE: ARRAY
  Array indicating the success or failure of the update to the 2260 file.
 EXTERNAL ROUTINES:
  SAVE2162^OOPSGUID,SAVECA7^OOPSGUID

OOPS CHANGE CASE STATUS - CHGCASE^OOPSGUI6
 This broker call passes in the ASISTS IEN, new case status and if the case
 status is deleted the reason for deletion.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   The INPUT parameter has the format: IEN
  FLD58
   TYPE:LITERAL
   The parameter FLD58 is the text field Reason for Deletion if the case status
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return parameter, RESULTS, contains a message indicating the new case
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS REPLACE WP - REPLWP^OOPSGUI2
 This call will replace Word Processing fields based on input paramters
 indicating the file, field and IEN of the record that will be changed. Another
 input parameter contains the data via a list or pointer that will be placed
 into the "new" word processing fields. 
 PARAMETERS
  INPUT
   TYPE:LITERAL
   The input parameter must contain the file,field and IEN of the record to be
  DATA
   TYPE:LIST
   This is the new text that will be inserted into the word processing field.
 RETURN VALUE
  TYPE: ARRAY
  This return parameter does not contain any data or messages back to the 
 EXTERNAL ROUTINES:
  $$GET1^DID,$$ROOT^DILFD

OOPS VALIDATE TIME - DTVALID^OOPSGUI2
 This broker call will compare two dates (which are part of the input) based 
 on the 3rd input paramater which is a flag indicating which type of compare 
 should be done.  The RESULTS output indicates whether the dates pass (VALID
 DATE) or fail (DATE ERROR) the compare.
 PARAMETERS
  IDT
   TYPE:LITERAL
   This is the base date/time in external format. In the case of testing
  PDT
   TYPE:LITERAL
   This is the post date or benchmark date in external format.  In the example 
  FLAG
   TYPE:LITERAL
   This input parm indicates the type of comparison to be done. 
 RETURN VALUE
  TYPE: ARRAY
  The return parameter, RESULTS, indicates if the compare was good (VALID DATE)
 EXTERNAL ROUTINES:
  $$DTI^OOPSGUI2

OOPS GET DATA - GETDATA^OOPSGUI3
 This broker call returns the data in the ASISTS Accident Reporting File (#2260)
 for fields that are 1) Set of Codes, 2) Set of Codes Multiple, 3) Pointer to
 a file, and 4) Pointer to a file multiple.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter contains the File #, the Field #, and the IEN of the data to b
e
 RETURN VALUE
  TYPE: ARRAY
  The RESULTS array will contain the data that was requested.
 EXTERNAL ROUTINES:
  $$GET1^DID,$$ROOT^DILFD

OOPS GET UNION - UNIGET^OOPSGUI6
 This call retrieves a listing of all Unions.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The 0 node of the ASISTS UNION INFORMATION File (#2263.7) is returned in the 
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS DELETE UNION - UNIKILL^OOPSGUI6
 This broker call will delete an entry in the Union File (#2263.7).
 PARAMETERS
  INPUT
   TYPE:LITERAL
   The input parameter is the Internal Record Number of the Union record to be
 RETURN VALUE
  TYPE: SINGLE VALUE
  A success/failure message will be passed back to the client.
 EXTERNAL ROUTINES:
  ^DIK

OOPS PUT UNION - UNIEDT^OOPSGUI6
 This call will either file a new Union record if there is no internal record
 number passed back or it will edit an existing union record if the internal 
 record number is present and passed back.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter contains the IEN, the Union Name, Union Acronym, and the Union
 RETURN VALUE
  TYPE: SINGLE VALUE
  The results parameter will contain a status message regarding the filing of
 EXTERNAL ROUTINES:
  ^DIE

OOPS GET SITE PARAMETER - SITEPGET^OOPSGUI6
 This broker call returns the Site Parameter Name, IEN and the DOL District
 Office and is used to obtain the entries in the Station multiple.
 PARAMETERS
  FORM
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
  This broker call returns the Site Parameter Name, IEN, and DOL District
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS SET FIELD - SETFIELD^OOPSGUI2
 This broker call will set a single field in file 2260. 
 PARAMETERS
  INPUT
   TYPE:LITERAL
   Contains the IEN of the record and the field number to be modified in file 22
60.
  VALUE
   TYPE:LITERAL
   The VALUE parm should be the external value that you want to set for the fiel
d
 RETURN VALUE
  TYPE: ARRAY
  The output (RESULTS) will contain a message indicating the results of the
 EXTERNAL ROUTINES:
  ^DIE,$$GET1^DIQ,CLSCASE^OOPSMBUL,WCPBOR^OOPSMBUL

OOPS DELETE SITEP STATION - ^
 PARAMETERS
 RETURN VALUE
  TYPE: 

OOPS DELETE SITEPAR STATION - SITEPKIL^OOPSGUI6
 This broker call deletes the Station Subfile for the IEN passed into it.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter contains the Site Parameter IEN, the subfile number, and the
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return parameter, RESULTS, contains a message indicating whether the
 EXTERNAL ROUTINES:
  ^DIK

OOPS EDIT SITEPAR STATION - SITEPEDT^OOPSGUI6
 This broker call will either add a new Station subfile to the Site parameter
 file or will allow for editing an existing Station subfile.  If the Station
 IEN is passed in the INPUT parameter, the record will be edited.  If a Station
 IEN is not passed in the input parameter, a new record will be created.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter (INPUT) contains the required IENs for filing a record.  If th
e
  DATA
   TYPE:LITERAL
   This parameter contains the data to be filed in the Station subfile.
  FORM
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  This return parameter, RESULTS, contains several messages indicating the 
 EXTERNAL ROUTINES:
  ^DIE

OOPS DELETE WITNESS - DELWITN^OOPSGUI2
 This broker call will delete witness information from the "CA1W" node in 
 file 2260 based on the IEN and sub file id passed in.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This required input parameter must contain the IEN and record number of the
  OOPS CHANGE CAS
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
  The return array will contain a status message for the deletion process and
 EXTERNAL ROUTINES:
  ^DIK

OOPS WITNESS CREATE - ADDWITN^OOPSGUI2
 This broker call will add a new Witness record for a case in the ASISTS 
 Accident Reporting File (#2260).  It is called by the CA1 form in Delphi. 
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the IEN for the case in file 2260 that is having the witness info 
  INFO
   TYPE:LITERAL
   This is the Name, Street, City, State, Zip, and Date of Witness Signature. It
  CMNT
   TYPE:
  COMMENT
   TYPE:LITERAL
   The input will be a string containing the comment to be added/associated with
 RETURN VALUE
  TYPE: ARRAY
  This will be a string, either "WITNESS CREATION FAILED" indicating the witness
 EXTERNAL ROUTINES:
  FILE^DICN,^DIE

OOPS WITNESS EDIT - EDTWITN^OOPSGUI2
 This broker call files any changes entered on an existing Witness.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This input parameter contains the IEN and Witness Number for the Witness
  INFO
   TYPE:LITERAL
   This input parameter contains the address information for the witness. It is
  CMNT
   TYPE:LITERAL
   This input parameter contains the text for the Witness Comment.
 RETURN VALUE
  TYPE: ARRAY
  The return parameter, RESULTS, contains a message indicating whether the
 EXTERNAL ROUTINES:
  ^DIE

OOPS WITNESS DELETE - DELWITN^OOPSGUI2
 The broker call will remove witness information (stored in node "CA1W") from
 the 2260 file.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   The INPUT parm will contain the IEN of the case in the 2260 file, and the
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

OOPS EDIT SITE PARAMETER - PARMEDT^OOPSGUI6
 This broker call files changes to the Site Parameter File (#2262) name and 
 District Office, if made.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This input parameter contains the IEN of the Site Parameter File (#2262), the
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return parameter, RESULTS, contains a message indicating whether changes
 EXTERNAL ROUTINES:
  ^DIE

OOPS APPROVE SIGN FOR EMPLOYEE - EN1^OOPSGUI8
 This broker call will determine whether the individual can approve the
 Workers' Comp person being able to sign for the employee if accessed from the
 Safety or Employee Health menus.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter contains the IEN of the ASISTS record to be evaluated and the
 RETURN VALUE
  TYPE: ARRAY
  The RESULTS(0) node in the array will contain a 1 or 0.  If a 1, then the
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS VALIDATE AND SIGN - SETSIGN^OOPSGUI1
 This broker call handles the validation of data prior to a user entering their 
 electronic signature code.  It also validates the electronic signature code 
 and then assures that the users electronic signature code, the date/time of 
 signature, and the users DUZ is filed in the Vista database.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter contains the IEN of the record being filed, the form (CA1 or
  SIGN
   TYPE:LITERAL
   This parameter passes in the text to be encrypted, validated, and used as the
 RETURN VALUE
  TYPE: ARRAY
  The RESULTS array will contain different message that indicate any problems
 EXTERNAL ROUTINES:
  $$GET1^DIQ,VALIDATE^OOPSGUI9,WCPBOR^OOPSMBUL,$$DECRYP^XUSRB1

OOPS REPLACE MULTIPLE - REPLMULT^OOPSGUI3
 This procedure is for updating entries in a multiple, in 2 stages.
 Stage 1 deletes all current entries, step 2 creates new entries 
 using data passed back from the GUI form.
 PARAMETERS
  SINGLE
   TYPE:LITERAL
   This parameter contains the file, field, and IEN of the data to be filed in 
  DATA
   TYPE:LIST
   This parameter contains the data to be filed in the multiple.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

OOPS UNION CONSENT - CONSENT^OOPSGUI7
 This broker call will send the Bulletin to the union representative selected.
 Note: a ASISTS legacy routine is called from this broker call to send the
 bulletin.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This required input field must be a valid IEN in the 2260 file. Note, there i
s
  UNIREP
   TYPE:LITERAL
   This required input parameter must be a valid DUZ of the Union Representative
 RETURN VALUE
  TYPE: ARRAY
  The output parameter, RESULTS(0) will contain text indicating if the bulletin
 EXTERNAL ROUTINES:
  CONSENT^OOPSMBUL

OOPS GET STATION INFORMATION - STATINFO^OOPSGUI3
 This broker call returns the Address, City, State and Zip code for a station
 stored in DIC(4 Institution file.
 PARAMETERS
  STATIEN
   TYPE:LITERAL
   This is a required parm and it has to be a valid IEN for a station stored in 
 RETURN VALUE
  TYPE: ARRAY
  The return parameter, RESULTS contains the Street Address, City, State
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS MANUAL XMIT DATA - ENT^OOPSGUI7
 This broker call is the front end for calling the routine to transmit
 data to the AAC for DOL (CA1 and CA2s) or to transmit data to the National 
 Database (NDB).
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This input parameter contains the date that the claims were originally
 RETURN VALUE
  TYPE: ARRAY
  The Results parameter will contain the status message of the queue.  If not
 EXTERNAL ROUTINES:
  ^%DT,^%ZTLOAD,FIND^DIC,CONSENT^OOPSMBUL,$$FMDIFF^XLFDT,$$HTFM^XLFDT

OOPS INCIDENT REPORT - ENT^OOPSGUIT
 This broker call returns the data for creating the Type of Incident reports.
 This report provides information on different Types of incidents. 
 PARAMETERS
  RPTTYP
   TYPE:LITERAL
   This will determine which report will be run.  Report types are Type of Incid
ent,
  CSTAT
   TYPE:LITERAL
   This parameter determines which cases to include: Open, Closed, or Both Open
  STDT
   TYPE:LITERAL
   This parameter contains the start date of the report.  Those cases whose Date
  ENDDT
   TYPE:LITERAL
   This parameter contains the end date of the report.  Those cases whose Date
  LTNTT
   TYPE:LITERAL
   This parameter will determine whether or not Lost Time claims should be 
  STAT
   TYPE:LITERAL
   This parameter will determine whether to run the report for all stations or
 RETURN VALUE
  TYPE: ARRAY
  The RESULTS parameter will return data in the array.
 EXTERNAL ROUTINES:
  ^%DT,^DIC,$$GET1^DIQ,EN^DIQ1,$$DOW^XLFDT

OOPS WCEDIT - OWCPCLR^OOPSGUI7
 This call clears the Supervisor signature and related fields if the Workers
 Compensation specialist has edited fields INJURED PERFORMING DUTY (#146),
 NOT INJURED PERFORMING JOB (#147), INJURY CAUSED BY EMPLOYEE (#148),
 CAUSED BY EMPLOYEE EXPLAIN (#149), SUPERVISOR NOT AGREE EXPLAN (#164), or 
 REASON AGENCY CONTROVERTS COP (#165) after the Supervisor signed.  It also 
 sets the field WORKER'S COMP EDIT (#199) so the required bulletin will 
 be sent.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the IEN for the ASISTS record that is being modified.
  CALLER
   TYPE:LITERAL
   This is the menu that originated the call.
  FORM
   TYPE:LITERAL
   This is the form type which can be 2162, CA1, or CA2.  However, the only form
 RETURN VALUE
  TYPE: SINGLE VALUE
  The RESULTS parameter will contain the name of the person who signed as the 
 EXTERNAL ROUTINES:
  CLRFLDS^OOPSWCE

OOPS GET OSHA DATA - OSHA^OOPSGUIF
 This broker call returns the data needed to produce the Log of Federal 
 Occupational Injuries and Illnesses Report.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter contains the Start Date and End date of the Report, the Statio
n
  CALL
   TYPE:LITERAL
   This paramter contains the menu that has called the report.  This is mainly
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return parameter will contain the data, delimited by ^, for the data to be
 EXTERNAL ROUTINES:
  ^%DT,$$GET1^DIQ,EN^DIQ1,$$FMTE^XLFDT

OOPS GET PRT ACC STATUS RPT - ACCID^OOPSGUIT
 This broker call retrieves the data required to generate the PRINT ACCIDENT
 REPORT STATUS Report.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This input parameter consists of the Start Date, End Date, and Station that 
  CALL
   TYPE:LITERAL
   This input parameter contains the letter of the calling menu.  This will 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This broker call returns the ASISTS data to produce the PRINT ACCIDENT STATUS
 EXTERNAL ROUTINES:
  ^%DT,$$GET1^DIQ,$$EDSTA^OOPSUTL1,$$ISEMP^OOPSUTL4,$$FMTE^XLFDT

OOPS CLEAR SIGNATURE - CSIGN^OOPSGUI8
 This broker call clears the signature from the ASISTS case for Form and 
 discipline (calling menu).
 PARAMETERS
  IEN
   TYPE:LITERAL
  FORM
   TYPE:LITERAL
  CALL
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  CLRES^OOPSGUIS,CLRES^OOPSUTL1

OOPS NEEDLESTICK LOG - NSTICK^OOPSGUIF
 This broker call retrieves the data necessary to produce the Log of
 Needlestick report.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter consists of 4 parts, the Start Date and End Date for the repor
t, 
  CALL
   TYPE:LITERAL
   This parameter will indicate which menu the report was called from.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return parameter is a global array containing all the fields needed to
 EXTERNAL ROUTINES:
  ^%DT,$$GET1^DIQ,EN^DIQ1

OOPS GET NOI CODE - GETNOI^OOPSGUI8
 This broker call returns the listing of NOI codes.  If the claim is a CA1 then
 only codes begining with T are returned, if the claim is a CA2 only codes that
 do not begin with a T are returned.
 PARAMETERS
  OPT
   TYPE:LITERAL
   This parameter will be either CA1 or CA2 to indicate which type of claim is
 RETURN VALUE
  TYPE: ARRAY
  The results array will return a list of NOI Descriptions with the code.
 EXTERNAL ROUTINES:
  

OOPS SET RECORD LOCK - SETLCK^OOPSGUI3
 This broker call attempt to lock the record and if not successful, returns a 
 message indicating that the record is in use by another user.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the ASISTS Internal Record Number that will be used to lock the recor
d.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return parameter will contain a status message concerning the lock.
 EXTERNAL ROUTINES:
  

OOPS RELEASE RECORD LOCK - CLRLCK^OOPSGUI3
 This broker call will release the previously locked ASISTS record.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This input parameter contains the ASISTS Internal Record Number that will be
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return parameter will contain a status message relating to clearing the
 EXTERNAL ROUTINES:
  

OOPS GET ASISTS CASE - ASISTS^OOPSGUI4
 This broker call completes a lookup on the ASISTS Accident Reporting file and
 returns a list of valid ASISTS cases for selection.
 PARAMETERS
  NAME
   TYPE:LITERAL
   This input parameter contains the Name of the person involved in an ASISTS 
 RETURN VALUE
  TYPE: ARRAY
  The return parameter contains a list of all valid claims for this person.
 EXTERNAL ROUTINES:
  FIND^DIC,CLEAN^DILF

OOPS CHECK PAID EMP DATA - VALEMP^OOPSGUI1
 This broker call checks to make sure that if the PERSONNEL STATUS (field #2)
 is an employee and the Pay Plan is equal to "OT" that the Grade (#16), Step
 (#17), and Retirement (#60) fields contain valid responses.
 PARAMETERS
  IEN
   TYPE:LITERAL
   The input parameter, IEN, contains the record identifier for the ASISTS claim
  INPUT
   TYPE:LITERAL
   Parameter INPUT is the FORM name and IEN of OOPS(2260 claim number that needs
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return parameter, RESULTS, contains a message indicating whether the
 EXTERNAL ROUTINES:
  $$VALEMP^OOPSUTL6

OOPS GET SINGLE FIELD - GETFLD^OOPSGUI7
 This broker call will return a single data element from the file and field 
 that is passed in as a parameter.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This parameter is the internal record number of the file that the data elemen
t
  FLD
   TYPE:LITERAL
   This parameter contains the file and field number where the data element shou
ld
 RETURN VALUE
  TYPE: SINGLE VALUE
  The external value of the data element extracted from the file and field
 EXTERNAL ROUTINES:
  FIND^DIC,$$GET1^DIQ

MAGJ LOGOFF - LOGOFF^MAGJUTL3
 Capture the Logoff event for the Imaging Session file.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Always returns "1"
 EXTERNAL ROUTINES:
  LOGOFF^MAGGTAU

MPIF SEEDING UPDATE - SET^MPIFSEED
 Setting number of entries to be sent during seeding.
 PARAMETERS
  NUMBER
   TYPE:LITERAL
   number of entries to be sent during each running of the seeding process.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Successful - 1
 EXTERNAL ROUTINES:
  ^DIE

MPIF SEEDING STATS - STATS^MPIFSEED
 This RPC will return the stats on the seeding process, including when the 
 next seeding job is scheduled to run
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  RETURN(1)= file 984.8 zero node
 EXTERNAL ROUTINES:
  ^DIC,$$GET1^DIQ,$$SITE^VASITE,$$FMTE^XLFDT

ORRHCR RPTLST - RPTLST^ORRHCR
 Returns the list of reports that are available to a specific user.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  A list of reports where:  LST(n)=IEN^DisplayName
 EXTERNAL ROUTINES:
  

ORRHCR RPTDEF - RPTDEF^ORRHCR
 Returns the name-value pairs the represent the definition of a report.
 PARAMETERS
  RPTID
   TYPE:LITERAL
   The internal number of the report entry.
 RETURN VALUE
  TYPE: ARRAY
  Name-Value pairs the represent the query for the report and the
 EXTERNAL ROUTINES:
  

ORRHCU ID2EXT - ID2EXT^ORRHCU
 Returns the external name of an entry given the internal number.
 PARAMETERS
  FNumber
   TYPE:LITERAL
   File number for the entry.
  IDLST
   TYPE:LIST
   A list of internal entry numbers.
 RETURN VALUE
  TYPE: ARRAY
  A list of resolved internal entry numbers where LST(n)=IEN^NAME
 EXTERNAL ROUTINES:
  $$GET1^DIQ

ORRHCO OISETS - OISETS^ORRHCO
 Returns the list of sets available for listing orderable items.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns a list where LST(n)=ShortName^DisplayGroupName
 EXTERNAL ROUTINES:
  

ORRHCO ORDITM - ORDITM^ORRHCO
 Returns a subset of orderable items for use in a long list box.
 PARAMETERS
  FROM
   TYPE:LITERAL
   Starting name for cross reference
  DIR
   TYPE:LITERAL
   Direction for $ORDER
  XREF
   TYPE:LITERAL
   Identifies the SET xref to use in the orderable item file.
 RETURN VALUE
  TYPE: ARRAY
  List in the format:  LST(n)=IEN^DisplayName
 EXTERNAL ROUTINES:
  $$UP^XLFSTR

ORRHCT DOCCLS - DOCCLS^ORRHCT
 Returns a list of document classes.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Document Classes:  IEN^DocumentClass
 EXTERNAL ROUTINES:
  

ORRHCO ORDSTS - ORDSTS^ORRHCO
 Returns a list of order statuses
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns a list:  LST(n)=IEN^StatusName
 EXTERNAL ROUTINES:
  $$SCREEN^XTID

ORRHCO SIGNSTS - SIGNSTS^ORRHCO
 Returns a list of signature statuses
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns a list where:  LST(n)=Code^SignatureStatusName
 EXTERNAL ROUTINES:
  

ORRHCT DOCSTS - DOCSTS^ORRHCT
 Returns a list of document statuses.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns a list where LST(n)=IEN^StatusName
 EXTERNAL ROUTINES:
  

ORRHCU BYREG - BYREG^ORRHCU
 Returns a list of patients listed in a patient registry.
 PARAMETERS
  NAM
   TYPE:LITERAL
   The name of the registry.
  MOD
   TYPE:LITERAL
   The mode by which the registry should be accessed (active, inactive, both).
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of patients:  LST(n)=DFN^PatientName
 EXTERNAL ROUTINES:
  $$NEXTPAT^RORAPI01,$$PATITER^RORAPI01

ORRHCR USRRPT - USRRPT^ORRHCR
 Returns the IEN of an entry in CPRS QUERY DEFINITION given the display
 text of the entry.  The entry must be a user-owned report.
 PARAMETERS
  DTX
   TYPE:LITERAL
   Display text of the report entry.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Internal Entry Number of the report that was looked up.
 EXTERNAL ROUTINES:
  $$UP^XLFSTR

ORRHCR SAVDEF - SAVDEF^ORRHCR
 Accepts a set of name-value pairs that describe a newly created custom
 report.  This creates a new entry in CPRS QUERY DEFINITION.
 PARAMETERS
  DEF
   TYPE:LIST
   This is the list of name-value pairs that represent a report definition.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The IEN of the newly created report entry.
 EXTERNAL ROUTINES:
  ^DIK,$$UP^XLFSTR

ORRHCU DFLDS - DFLDS^ORRHCU
 Returns a list of name-value pairs that represent the display fields that
 are available based on the search items selected.
 PARAMETERS
  TYP
   TYPE:LITERAL
   Identifies the types of display fields to return.
 RETURN VALUE
  TYPE: ARRAY
  A list of name-value pairs that represent the columns available to the
 EXTERNAL ROUTINES:
  

ORRHCQ SETUP - SETUP^ORRHCQ
 Sets up in ^TMP("ORRHCQ",$J) the parameters and constraints that will
 be used for the query.
 PARAMETERS
  QRY
   TYPE:LIST
   This contains a list of name-value pairs that will used by the query
 RETURN VALUE
  TYPE: SINGLE VALUE
  Always returns true.
 EXTERNAL ROUTINES:
  $$RNG2FM^ORRHCU

ORRHCQ SORTBY - SORTBY^ORRHCQ
 Causes the query results that are in ^TMP("ORRHCQD",$J) to be sorted on
 a particular column.
 PARAMETERS
  FNM
   TYPE:LITERAL
   This is the name of the column that should be used as the sort key.
  FWD
   TYPE:LITERAL
   This is boolean true if the sort should be ascending, false if descending.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The sequence number of the first item to display.
 EXTERNAL ROUTINES:
  

ORRHCQ SUBDTA - SUBDTA^ORRHCQ
 Returns name-value pairs that represent columns for a subset of records.
 The list view in the GUI posts an event for which records it needs to
 display.  This call obtains the data for those records.
 PARAMETERS
  FIRST
   TYPE:LITERAL
   The first record that has been requested by the listview control.
  LAST
   TYPE:LITERAL
   The last record number that has been requested by the listview control.
 RETURN VALUE
  TYPE: ARRAY
  Name-value pairs that represent each cell for the range of rows returned.
 EXTERNAL ROUTINES:
  

ORRHCQ DETAIL - DETAIL^ORRHCQ
 Returns the text to display for the details of an order.
 PARAMETERS
  IDentifier
   TYPE:LITERAL
   The IEN of the order and optionally the ACTION ID:  IEN;ACTION
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Word processing text describing order details.
 EXTERNAL ROUTINES:
  ORDERS^ORCXPND1,ORDERS^ORCXPND2

ORRHCQ PTINFO - PTINFO^ORRHCQ
 Returns patient identifying information to display in the bar above the
 detailed display.
 PARAMETERS
  IDentifier
   TYPE:LITERAL
   This is the identifier for the order or document.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns  PatientName^SSN^Ward^Room-Bed
 EXTERNAL ROUTINES:
  

ORRHCR OWNED - OWNED^ORRHCR
 Returns true if the current user owns this report.
 PARAMETERS
  RPT
   TYPE:LITERAL
   The internal number of a report (entry in 102.21).
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if the user owns the report, otherwise 0.
 EXTERNAL ROUTINES:
  

ORRHCR DELETE - DELETE^ORRHCR
 Deletes a user-owned report
 PARAMETERS
  DA number
   TYPE:LITERAL
   The internal number of the report to be deleted.
 RETURN VALUE
  TYPE: SINGLE VALUE
  none
 EXTERNAL ROUTINES:
  ^DIK

ORRHCU COLTYP - COLTYP^ORRHCU
 Returns the sort types for the list of columns passed in.
 PARAMETERS
  SRC
   TYPE:LIST
   List of column names.
 RETURN VALUE
  TYPE: ARRAY
  Returns a list where LST(n)=ColumnName^SortType
 EXTERNAL ROUTINES:
  

ORRHCQ CLEAR - CLEAR^ORRHCQ
 Cancels the query and cleans up the TMP globals.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Always returns true.
 EXTERNAL ROUTINES:
  

ORRHCU REGLST - REGLST^ORRHCU
 Returns a list of patient registries.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  List of the names of available registries.
 EXTERNAL ROUTINES:
  

ORRHCU REGNAM - REGNAM^ORRHCU
 Returns the full name of a registry given the abbreviated name.
 PARAMETERS
  IDentifier
   TYPE:LITERAL
   The abbreviated name that identifies the registry.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The full registry name.
 EXTERNAL ROUTINES:
  

ORRHCR CTPLST - CTPLST^ORRHCR
 Returns a list of all criteria that are available as query constraints
 and the parent search items each criterion is associated with.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  A list where:  LST(n)=Parent Tag = Child Tag
 EXTERNAL ROUTINES:
  

ORRHCR TAGDEF - TAGDEF^ORRHCR
 Obtains a query definition based on the value of the TAG field.
 PARAMETERS
  TAG
   TYPE:LITERAL
   The value of the TAG field for an entry in the CPRS QUERY DEFINITION file.
 RETURN VALUE
  TYPE: ARRAY
  The name value pairs that represent a query definition.
 EXTERNAL ROUTINES:
  

ORRHCQ QRYITR - QRYITR^ORRHCQ
 Executes the query for a patient.  An iterator is passed in, in the 
 format:
  
   ListSource Subscript ^ DFN ^ Item#
  
 The value returned includes the records found and the next iterator:
  
   PtSearched ^ RecordCount ^ ListSource Subscript ^ NextDFN ^ Next Item#
 PARAMETERS
  ORRITR
   TYPE:LITERAL
   Iterator used to get the next patient in the query.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the total number of records found for the patient.  The actual
 EXTERNAL ROUTINES:
  

ORRHCO ABSTRT - ABSTRT^ORRHCO
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORRHCQ RNGFM - RNGFM^ORRHCQ
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$RNG2FM^ORRHCU

ORRHCR GENRPT - GENRPT^ORRHCR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORRHCO CSLTGRP - CGRP^ORRHCO
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

RMIM CONVERT DATE - DTFMT^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^%DT,$$FMTE^XLFDT

RMIM SEND EMAIL - XM^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ENT^XMA2R,^XMD

RMIM GET FORM - FRM^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMIM GET CASES - LC^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$FMTE^XLFDT

RMIM GET SELECTED CASE - GC^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ERR^RMIMU,GC^RMIMU,GF^RMIMU1

RMIM GET USER INFO - DUZ^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMIM GET DFN - DFN^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMIM FIM PARAMETER - PRM^RMIMRP
 This remote procedure will return the local site parameters in an array.  There
 are no input parameters.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMIM GET PATIENT DME - DME^RMIMRP
 This remote procedure will return a list of durable medical equipment
 which has been issued to a patient within a date range.
 
 Required input consists of a single parameter representing the
 internal entry number of a patient from file #2, and two dates
 in FileMan format. The three pieces will be delimited by the ^.
 
 The first element of the results array will indicate the number of
 items returned.  If and error occurs, the number will be negative and
 will be followed by a ^ and a string of text describing the error.
 
 The other elements of the array will be constructed as follows:
 
 SHORT ITEM DESCRIPTION ^ TOTAL COST
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Patient internal entry number followed by date range for results.
 RETURN VALUE
  TYPE: ARRAY
  ITEM DESCRIPTION ^ TOTAL COST
 EXTERNAL ROUTINES:
  

RMIM SAVE FSOD - SAV^RMIMRP
 PARAMETERS
  ARRAY
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$A^RMIMU,$$D^RMIMU,$$E^RMIMU,$$ERR^RMIMU,$$OF^RMIMU1

RMIM PATIENT LOOKUP - PL^RMIMRP
 Input parameter is any string that a user would normally enter to look up a
 patient.
 
 Output is an array of DFN^PATIENT NAME^SSN^DOB.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PTSEC^DGSEC4,FIND^DIC

RMIM PATIENT INFO - PI^RMIMRP
 Input parameter is PATIENT DFN.
 
 Output parameter is a ^ delimited string as follows:
 DFN^PATIENT NAME^SSN^DOB^AGE^SEX^MARITAL STATUS^ACTIVE DUTY^
 CITY^STATE^ZIP^COUNTY^TELEPHONE
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ERR^RMIMU,ADD^VADPT,DEM^VADPT,ELIG^VADPT

RMIM AUTHOR LOOKUP - AL^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC

RMIM LOCATION LOOKUP - LL^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC

RMIM RESTRICTED RECORD - RRN^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NOTICE^DGSEC4

RMIM VERSION - RPC^RMIMV
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC

RMIM CONSULT LIST - CON^RMIMV
 Returns a list of consult requests for a patient within optional date range
 and optional service.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   Patient DFN from File #2 (Patient File.)
  START DATE
   TYPE:LITERAL
   Optional start date to begin the search.
  STOP DATE
   TYPE:LITERAL
   Optional stop date to end the search.
  SERVICE
   TYPE:LITERAL
   Optional consulting service from the Request Service file (#123.5).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array of consult requests in the form:
 EXTERNAL ROUTINES:
  $$VALID^GMRCAU,LIST^ORQQCN

RMIM LOCK PATIENT - PTL^RMIMRP
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMIM CHECK DUPLICATE - DUP^RMIMV
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^%DT

ANRV CREATE OUTCOME - MKREC^ANRVOB
 Creates new Outcome Record.
 PARAMETERS
  RESULTS
   TYPE:LITERAL
   Results passed back to calling application
  PTDFN
   TYPE:LITERAL
   Patients internal entry number.
  STATUS
   TYPE:LITERAL
   Whether Inpatient or Outpatient.
 RETURN VALUE
  TYPE: ARRAY
  Returns a 1 if update occurs.
 EXTERNAL ROUTINES:
  NOW^%DTC,UPDATE^DIE

ANRV GET OUTCOME TEXT - GETTXT^ANRVOB
 Returns subrecord text.
 PARAMETERS
  RESULTS
   TYPE:LITERAL
   Subrecord text.
  SUBREC
   TYPE:LITERAL
   Subrecord IEN that is going to be returned.
  TOPREC
   TYPE:LITERAL
   Top record of the sub record to return.
 RETURN VALUE
  TYPE: ARRAY
  Subrecord text.
 EXTERNAL ROUTINES:
  $$GET1^DIQ

ANRV GET PT OUTCOMES - GETREC^ANRVOB
 Returns top level IEN and sub record IEN plus statuses.
 PARAMETERS
  RESULTS
   TYPE:LITERAL
   Results of inquiry, includes top record and sub record status and IEN.
  PTDFN
   TYPE:LITERAL
   Patients internal entry number.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ANRV GET PTALL - LISTALL^ANRVOA
 Returns a list of all patients beginning with(x), from(x), to(x)
 direction.
 PARAMETERS
  RESULTS
   TYPE:LITERAL
  FROM
   TYPE:LITERAL
  DIR
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ANRV GET PTLAST5 - LAST5^ANRVOA
 Returns a list of patients using the last 5 format for inquiry e.g. Z9999.
 PARAMETERS
  RESULTS
   TYPE:LITERAL
  PTID
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1

ANRV PTINFO CORE - PINF^ANRVOA
 Returns patient information for verification.  Must be changed eventually
 to include current Sensitive Patient Check.(TO DO).
 PARAMETERS
  PTDFN
   TYPE:LITERAL
   Patients Internal entry number.
  RESULTS
   TYPE:LITERAL
   Bolus of patient information.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GETS^DIQ

ANRV OUTCOME SECTION TEXT - ADDTXT^ANRVOB
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  WP^DIE

ANRV TANRVMESSAGE - SNDTXT^ANRVOB
 Create's and sends completed VIST Outcomes to the national mailgroup to 
 populate the national database.
 PARAMETERS
  ANRVCMD
   TYPE:LITERAL
   1> CREATE       Initializes message.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^XMD

ANRV SET RECORD STATUS - UPREC^ANRVOB
 Updates the status of the top level Outcome record.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^DIE

ANRV TANRVPATIENT - RPC^ANRVOA
 PARAMETERS
  DATA
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF

ANRV GUI PARAMETER - RPCA^ANRVOA
 Manages the ANRV system parameters.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF

ANRV TANRVUSER - RPC^ANRVOA
 Manages all User calls.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF

ANRV FULLSSN - FULLSSN^ANRVOA
 Given an SSN in the format 999999999(P), return a list of matching patients.
 patients.
 PARAMETERS
  IEN
   TYPE:LITERAL
   SSN in the format 999999999(P)
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DOB^DPTLK1,$$SSN^DPTLK1

IBCN INSURANCE QUERY - RPC^IBCNRDV
 This does a remote query on the insurance information.
 PARAMETERS
  IBICN
   TYPE:LITERAL
   This is the patient's ICN.
 RETURN VALUE
  TYPE: ARRAY
  The return is in the following format:
 EXTERNAL ROUTINES:
  $$DFN^IBARXMU,ALL^IBCNS1

IBCN INSURANCE QUERY TASK - RPC^IBCNRDV
 This does a remote query on the insurance information. This is the one 
 that used during tasked jobs to avoid user data exchange.
 PARAMETERS
  IBICN
   TYPE:LITERAL
   This is the patient's ICN.
 RETURN VALUE
  TYPE: ARRAY
  The return is in the following format:
 EXTERNAL ROUTINES:
  $$DFN^IBARXMU,ALL^IBCNS1

TIU USER INACTIVE? - USRINACT^TIUSRVA
 RPC evaluates user's DIUSER status and termination status when selected.
 Returns 0 if active
         1 if inactive
 PARAMETERS
  TIUUSR
   TYPE:LITERAL
   This is the IEN of the user in the NEW PERSON file (#200).
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if the user is inactive, 0 if active.
 EXTERNAL ROUTINES:
  $$GET1^DIQ

TIU ONE VISIT NOTE? - TIUVISIT^TIUSRVA
 Boolean RPC to evaulate if note has a corresponding visit.
 PARAMETERS
  TIUDOC
   TYPE:LITERAL
   This is the TIU document type.
  TIUDFN
   TYPE:LITERAL
   This is the patient's internal entry number (DFN).
  TIUVISIT
   TYPE:LITERAL
   This is the patient's visit internal entry number.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean value; 1 if limited to one visit, 0 if any.
 EXTERNAL ROUTINES:
  $$EXIST^TIUEDI3,DOCPRM^TIULC1,$$PATCH^XPDUTL

TIU HAS AUTHOR SIGNED? - AUTHSIGN^TIUSRVA
 Boolean RPC returns a value of 0 if the author has not signed and the user 
 attempting to sign is the expected co-signer.  Returns a 1 if the 
 author has signed or the user attempting to sign is NOT the expected 
 co-signer.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the TIU Document IEN.
  TIUUSR
   TYPE:LITERAL
   This is the DUZ of the user attempting to sign.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean Value:
 EXTERNAL ROUTINES:
  

PSA UPLOAD - PSAUPLD^PSABRKU1
 This is the primary entry point for the Drug Accountability Upload GUI.
 PARAMETERS
  TMP
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NOW^%DTC

RMPR TRANS LIST - EN^RMPR9S4
 GUI 2319 Appliance Transaction List Tab 4.
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR PT DEM - EN^RMPR9DEM
 This procedure supplies the Patient Demographic data for 
 TAB 1 of the GUI 2319 
 Same routine for RMPR PT ADD REMOTE PROCEDURE. 
 Pass the IEN of file 668
  
 RESULTS COME FROM THE PIMS PACKAGE PATIENT FILE #2.
  
 RESULTS(1)=NAME
 RESULTS(2)=SSN  
 RESULTS(3)=DOB
 RESULTS(4)=AGE
 RESULTS(5)=SEX
 RESULTS(6)=DOD
 RESULTS(7)=RACE
 RESULTS(8)=RELIGION
 RESULTS(9)=MARRITAL STATUS
 RESULTS(11)=PRIMARY LONG ID
 RESULTS(12)=PRIMARY SHORT ID
 RESULTS(20)=FIRST LINE ST ADDRESS
 RESULTS(21)=CITY
 RESULTS(22)=STATE
 RESULTS(23)=ZIP
 RESULTS(24)=COUNTY
 RESULTS(25)=PHONE
 RESULTS(26)=ZIP+4
 RESULTS(27)=NOK
 RESULTS(28)=NOK FIRST LINE ADDRESS
 RESULTS(29)=NOK CITY
 RESULTS(30)=NOK STATE
 RESULTS(31)=NOK ZIP
 RESULTS(32)=NOK PHONE
 RESULTS(33)=NOK RELATION
 RESULTS(34)=PATIENT TYPE
 RESULTS(35)=PERIOD OF SERVICE
 RESULTS(36)=PRIMARY ELIGIBILITY CODE
 RESULTS(37)=ELIGIBILITY VERIFIED?
 RESULTS(38)=ONMETARY BENIFITS
 RESULTS(45)=PROSTHETICS DISABILITY
 RESULTS(46)=POW YES/NO
 RESULTS(999)=0
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR PT ADD - EN1^RMPR9DEM
 GUI 2319 Patient Demographics Tab 1.
  
 Same routine for RMPR PT DEM REMOTE PROCEDURE. 
 Pass the IEN of file 668
  
 RESULTS COME FROM THE PIMS PACKAGE PATIENT FILE #2.
  
 RESULTS(1)=NAME
 RESULTS(2)=SSN  
 RESULTS(3)=DOB
 RESULTS(4)=AGE
 RESULTS(5)=SEX
 RESULTS(6)=DOD
 RESULTS(7)=RACE
 RESULTS(8)=RELIGION
 RESULTS(9)=MARRITAL STATUS
 RESULTS(11)=PRIMARY LONG ID
 RESULTS(12)=PRIMARY SHORT ID
 RESULTS(20)=FIRST LINE ST ADDRESS
 RESULTS(21)=CITY
 RESULTS(22)=STATE
 RESULTS(23)=ZIP
 RESULTS(24)=COUNTY
 RESULTS(25)=PHONE
 RESULTS(26)=ZIP+4
 RESULTS(27)=NOK
 RESULTS(28)=NOK FIRST LINE ADDRESS
 RESULTS(29)=NOK CITY
 RESULTS(30)=NOK STATE
 RESULTS(31)=NOK ZIP
 RESULTS(32)=NOK PHONE
 RESULTS(33)=NOK RELATION
 RESULTS(34)=PATIENT TYPE
 RESULTS(35)=PERIOD OF SERVICE
 RESULTS(36)=PRIMARY ELIGIBILITY CODE
 RESULTS(37)=ELIGIBILITY VERIFIED?
 RESULTS(38)=ONMETARY BENIFITS
 RESULTS(45)=PROSTHETICS DISABILITY
 RESULTS(46)=POW YES/NO
 RESULTS(999)=0
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR TRANS HISA - EN^RMPR9S7
 GUI 2319 HISA information Tab 7.
  
 PASS IEN OF FILE 668.
  
 RETURNED RESUTLS 
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR TRANS HOME O2 - EN^RMPR9S8
 GUI 2319 Home Oxygen tab 8.
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR CRITICAL COM - EN^RMPR9S6
 GUI 2319 Critical Comment Tab 6.
  
 PASS IEN OF FILE 668
  
 RETURN RESULTS ARRAY FROM FILE 665 CRITICAL COMMENTS FIELD.
  
 RESUTLS()=ONE LINE AT A TIME OF THE WORD PROCESSING FIELD. ONE LINE TO 
 INFINITE.
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR DIS LIST - EN^RMPR9DM1
 GUI 2319 MAS DISABILITY AND PERCENT.
  
 PASS IEN OF FILE 668.
  
 RETURN RESULTS FROM FILE #2.
  
 RESULTS()=DISABILITY DESCRIPTION^%^SC YESorNO.
 One line or multiple lines.
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETS^DIQ

RMPR ADD ITEM - EN^RMPR9AI
 RPC to send purchasing information to file 666 GUI PURCHASING FILE.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR LAST PT MOVEMENTS - EN^RMPR9LM
 This procedure supplies the data for the Last 2 inpatient movements for 
 TAB 2 of the GUI 2319.
 Pass IEN to Prosthetic Suspense (#668)
  
 Return RESULTS Array and Example:
  
 RESULTS(0)=Name
 RESULTS(1)=SSN
 RESULTS(2)=DOB
 RESULTS(3)=Claim #
 RESULTS(4)= if 1 Yes a movement
 RESULTS(5)=Transaction type
 RESULTS(6)=Date of last Movement
 RESULTS(7)=Type of Movement
 RESULTS(8)=Ward
 RESULTS(9)=Physician
 RESULTS(10)=Diagnosis
 RESULTS(11)= if 1 Yes Second to last Movement
 RESULTS(12)=2nd to last Transaction Type
 RESULTS(13)=2nd to last Transaction date
 RESULTS(14)=2nd to last Type of movement
 RESULTS(15)=2nd to last Ward
 RESULTS(16)=Physician
 RESULTS(17)=Diagnosis
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR VEN ADDRESS - EN1^RMPR9AI
 Dispaly vendor address, phone and fax number
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR CLINIC ENROLLMENT - EN^RMPR9CE
 This procedure supplies the Clinic Enrollment data for 
 TAB 2 of the GUI 2319.
  
 Example of RESULTS 
  
 RESULTS(0)=CLINIC
 RESULTS(1)=DATE ENROLLED
 RESULTS(2)=OPT OR AC
 RESULTS(3)=STARTS OVER WITH NEXT CLINIC
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR CPRS DISPLAY - EN^RMPR9EPD
 GUI CPRS SUSPENSE DETAIL DISPLAY.
  
 PASS THE IEN OF FILE 668
  
 RETURN RESULTS:  RESUTLS()=^TMP("GMRCR",
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN^GMRCP5,DT^GMRCSLM2

RMPR CLINIC LETTER LIST - EN^RMPR9CL
 This procedure supplies the Clinic Letter List data for 
 TAB 2 of the GUI 2319.
  
 Pass IEN to Prosthetic Suspense (#668)
  
 Return RESULTS Array
 IEN of file 665.4^Patient Name^Letter Title^Author^Date Created
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR PENDING APPOINTMENTS - EN^RMPR9PA
 This procedure supplies the Pending Appointment data for 
 TAB 2 of the GUI 2319.
  
 Pass IEN to Prosthetic Suspense (#668)
  
 Returned  RESULTS Array:
 RESULTS(0)=DATE/TIME^CLINIC^STATUS^TYPE
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR IFCAP CHECK AUTH - EN1^RMPR9SPC
  
 Check if user has any Purchase Cards Assigened.
  
 RESULTS(0)=You are not an authorized Purchase Card User, CONTACT FISCAL!
 Or
 RESULTS(0)=You are not defined in the Prosthetics Site Parameter File.
 Or
 RESULTS(0)=9
 Ien to file 669.9
  
 New X-ref in file 669.9 on Purchasing Agent Field.  Set with routine 
 RMPR9X.
 "PA ,DUZ,IEN
 ^RMPR(669.9,"PA",88,9) = 
 ^RMPR(669.9,"PA",2182,9) =
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR CLINIC LETTER DISPLAY - EN1^RMPR9CL
 This procedure supplies the Clinic Letter Display data for 
 TAB 2 of the GUI 2319.
  
 Pass IEN to Prosthetic Suspense (#665.4)
  
 Return RESULTS Array
 One line of the letter at a time from word processsing fields.
 The number of lines will vary.
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR TRANS LIST EXPANDED - EN^RMPR9S4E
 GUI 2319 Expansion of Screen 4 Transaction list.
 PARAMETERS
  IEN
   TYPE:LITERAL
   The internal entry number of file # 660.
  IEN
   TYPE:
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR TRANS HOME O2 RX - EN^RMPR9S8P
 RX information for screen 8 of the GUI 2319 Home Oxygen.
  
 Pass: IEN of File 660 
 RESULTS(0)=THE NUMBER OF PRESCRIPTIONS
 RESULTS(1)=DATE PRESCRIPTION WRITTEN
 RESULTS(2)=DATE PRESCRIPTION EXPIRES
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR VIEW REQ - EN^RMPR9VR
 This procedure supplies the View Request screen of file 668.
  
 Entry Point:   EN(RESULTS,RMPRA)^RMPR9VR
  
 RESULTS(0)= Order date/Suspense date
 RESULTS(1)= Requestor
 RESULTS(2)= Suspended by
 RESULTS(3)= Initial Action Date
 RESULTS(4)= Completion Date
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR VIEW REQ DESC - EN2^RMPR9VR
 This procedure supplies the View Request Description display of file #668.
 Entry Point:  EN2(RESULTS,RMPRA)^RMPR9VR
  
 RESULTS Array:  Word processing fields 0-infinite lines.
 .
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR VIEW REQ IA NOTE - EN3^RMPR9VR
 This procedure supplies the View Request Initial Action Note display of 
 file #668.
 Entry Point:  EN3(RESULTS,RMPRA)^RMPR9VR
  
 RESULTS Array:  Word processing fields 0-infinite lines.
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR VIEW REQ COMP NOTE - EN4^RMPR9VR
 This procedure supplies the View Request Completion Note of file #668.
 .
 Entry Point:  EN4(RESULTS,RMPRA)^RMPR9VR
  
 RESULTS Array:  Word processing fields 0-infinite lines.
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR DOR - EN^RMPR9DO
 GUI Order controll processing.  Returns the list of all open pending 
 consults from file 668.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the list of all open pending consults from file 668.
 EXTERNAL ROUTINES:
  

ORWOR1 SETDTEXT - SETDTEXT^ORWOR1
 Sets/updates the external text of an order.
 The updated text is also returned.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DIGTEXT^ORCSAVE1

ORWOR1 GETDEA - GETDEA^ORWOR1
 Returns a users DEA number.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$DEA^XUSER

ORWOR1 GETDSCH - GETDSCH^ORWOR1
 Returns the schedule of the drug.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DVBAB TEAM PATIENTS - TEAMPTS^DVBAB1
 Function returns an array of patients on a team.
 PARAMETERS
  TEAM ID
   TYPE:LITERAL
   The record number from the OE/RR Team File (#100.21).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array of patients on a team in the format: patient id (DFN)^patient name.
 EXTERNAL ROUTINES:
  

DVBAB REPORTS - START^DVBAB82
 CAPRI REGIONAL OFFICE 21 DAY CERTIFICATE PRINTING
 PARAMETERS
  REPORT TYPE
   TYPE:LITERAL
  REPORT STRING
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DVBAB MAIL INIT - INIT^DVBAB3
 Init Mailman variables.
 Return string:
 e-mail address^
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  INIT^XMVVITAE

DVBAB SURGERY CASE - START^DVBAB89
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^DVBASRP1

DVBAB ORIGINAL PROCESSING DATE - XDA^DVBAB89
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^DIC

DVBAB MPI ASSIGN ICN - MPI^DVBCPATA
 This call should be made after a new patient is added into the patient 
 file.  It will call the MPI to assign an ICN.  If no ICN can be obtained 
 after 30 seconds, a local ICN will be assigned and the local ICN flag set.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MPIQ^MPIFAPI

DVBAB REPORT ADMISSION INQUIRY - ENBROKER^DVBAADRP
 Returns display text indicating when the report was last run
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  HOME^%ZIS,KILL^DVBAUTIL,NOPARM^DVBAUTL2,$$FMTE^XLFDT

DVBAB REPORT NEW NOTICES DC - ENBROKER^DVBADSNT
 Broker-enabled version of option DVBA NOTICE/DISCHARGE PRINT, Print New
 Notices of Discharge.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$HFS^DVBAB82

ORWCH LDFONT - LDFONT^ORWCH
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORQQCN UNRESOLVED - UNRSLVD^ORQQCN2
 Returns 1 if current user has unresolved consults for current patient, 0 
 if not.
 PARAMETERS
  PATIENT DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ANYPENDG^GMRCTIU,$$GET^XPAR

ORWU1 NAMECVT - NAMECVT^ORWU1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$NAMEFMT^XLFNAME

ORWDPS5 LESGRP - LESGRP^ORWDPS5
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS5 LESAPI - LESAPI^ORWDPS5
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  COM^AVJLES

ORWDXR ORCPLX - ORCPLX^ORWDXR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$NMSP^ORCD

ORWDXR CANRN - CANRN^ORWDXR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NMSP^ORCD

ORWDXR ISCPLX - ISCPLX^ORWDXR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NMSP^ORCD

ORWDXA OFCPLX - OFCPLX^ORWDXA
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NMSP^ORCD,ISNOW^ORWDXR

ORQQPX GET NOT PURPOSE - PURP^PXRMWHN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDPS1 IVDEA - FDEA1^ORWDPS1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$IVDEA^PSSUTIL1,IVDEA^PSSUTIL1

ORWDXR ISNOW - ISNOW^ORWDXR
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWU DEFAULT DIVISION - DEFDIV^ORWU1
 Returns True or False for a user depending on default division 
 information.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns single value - True or False.
 EXTERNAL ROUTINES:
  LIST^DIC,$$UP^XLFSTR

OREVNTX1 GETSTS - GETSTS^OREVNTX1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXA ISACTOI - ISACTOI^ORWDXA
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

ORECS01 SAVPATH - SAVPATH^ORECS01
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$UP^XLFSTR,ADD^XPAR,CHG^XPAR,GETLST^XPAR

ORWU1 NEWLOC - NEWLOC^ORWU1
 Returns a list of Clinics, Wards, and "Other" category entries from the 
 HOSPITAL LOCATION (#44) file.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACTLOC^ORWU

ORPRF HASFLG - HASFLG^ORPRF
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GETACT^DGPFAPI,GETACT^DGPFAPI

ORWPCE ACTIVE CODE - CODACTIV^ORWPCE2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$STATCHK^ICDAPIU,$$STATCHK^ICPTAPIU

ORPRF GETFLG - GETFLG^ORPRF
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORPRF CLEAR - CLEAR^ORPRF
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORQQPXRM GET WH LETTER TEXT - LETTER^WVRPCNO1
 Retrieve letter text for a WH letter
 PARAMETERS
  WVIEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORQQPXRM GET WH LETTER TYPE - GETTYPE^WVRPCNO
 Return value from file 790.403
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORQQPXRM GET WH PROC RESULT - DX^PXRMWOBJ
 Return correct values for a WH procedure populate a combo box in Reminder
 Dialog.
 PARAMETERS
  STRING
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORQQPXRM WOMEN HEALTH SAVE - WH^ORQQPXRM
 Pass back data to be file in the Women's Health Package file 790.1.
 PARAMETERS
  WH RESULT
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  WH^PXRMRPCC,RESULTS^WVALERTF,LETTER^WVRPCNO1

ORWTPD GETOCM - GETOCM^ORWTPD
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPD PUTOCM - PUTOCM^ORWTPD
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DEL^XPAR,EN^XPAR

ORB FORWARD ALERT - FWD^ORB31
 The rpc forwards an alert.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   The alert identifier used by the Kernel Alert utility to uniquely identify
  RECIPIENT
   TYPE:LITERAL
   DUZ (file 200 ien) of the person to receive the forwarded alert.
  TYPE
   TYPE:LITERAL
   The type of message to be forwarded.  "A" indicates an alert is to be 
  COMMENT
   TYPE:LITERAL
   The comment (optional) to be forwarded with the alert.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FORWARD^XQALFWD

ORB RENEW ALERT - RENEW^ORB31
 This rpc renews an alert.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   XQAID is the unique identifier used by Kernel Alerts to process and take 
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  RESTORE^XQALERT1

ORQQPXRM GET WH REPORT TEXT - WHREPORT^ORQQPXRM
 This RPC will return the Radiology/Lab Report for a WH Procedure
 PARAMETERS
  IEN
   TYPE:LITERAL
   IEN is equal the Women's Health Procedure IEN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  RESULTS^WVALERTF

VAFC REMOTE AUDIT - AUDIT^VAFCRPC
 This Remote Procedure Call will allow users to pull an audit report
 from a remote site.
 PARAMETERS
  VALUE
   TYPE:LITERAL
   The VALUE can come in as 'I.ICN', 'S.SSN', 'D.DFN'or 'P.NAME'
  SSN
   TYPE:LITERAL
  SDT
   TYPE:LITERAL
  EDT
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GETDFN^MPIF001,DSPPDAT^VAFCHFS,HFS^VAFCHFS

IBD GET FORMSPEC GLOBAL - GETFS1^IBDFBK1
 PARAMETERS
  IBDF
   TYPE:LIST
   This will contain the form id and version of paper keyboard
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The value returned in the formspec file from file 359.2.  This is to be
 EXTERNAL ROUTINES:
  

IBD GET SCAN PAGE INFO - SCANPG^IBDFBK1
 This RPC will return an array where the data reflects the page number of
 scannable pages, Piece 2 will display the date/time received.
 PARAMETERS
  FORMID
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

OOPS GET INSTITUTIONS - GETINST^OOPSGUI7
 This broker call will retrieve all the stations from the INSTITUTION
 (#4) file.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return parameter is a global array ^TMP("OOPSINST",DUZ) in the format of:
 EXTERNAL ROUTINES:
  $$GET1^DID

OOPS SENSITIVE DATA - SENSDATA^OOPSGUI7
 This Broker call is used to pass data to the bulletin routine for supervisors
 accessing sensitive data and not creating an ASISTS case. 
 PARAMETERS
  SDUZ
   TYPE:LITERAL
   This is the DUZ of the supervisor accessing the Employee's data.
  EMP
   TYPE:LITERAL
   This is the Employee's name for which the sensitive date has been viewed.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$FIND1^DIC,LIST^DIC,^XMD

RMPFDEMOG - START^RMPFRPC1
 Accepts the return array name containing predefined elements.
 These contain the address and other demographic information
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN from local DPT file
 RETURN VALUE
  TYPE: ARRAY
  Subscripted list of demographic variables
 EXTERNAL ROUTINES:
  

RMPFELIG - START^RMPFRPC0
 Accepts the return array name containing pre-defined elements
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN from local DPT file
 RETURN VALUE
  TYPE: ARRAY
  ARRAY(0)=DOD numeric and text
 EXTERNAL ROUTINES:
  

RMPF ELIG MSG - START^RMPFRPC3
 This is the utility to send the request for eligibility
 confirmation from PSAS
 PARAMETERS
  DUZ
   TYPE:LITERAL
   DUZ of the user sending the message
  GRP
   TYPE:LITERAL
   Mail group to send to
  SUBJ
   TYPE:LITERAL
   Subject for message
  RMPFARR
   TYPE:LIST
   This is the message text
 RETURN VALUE
  TYPE: SINGLE VALUE
  It returns the mail message number or an error.
 EXTERNAL ROUTINES:
  

GMV GET VITAL TYPE IEN - TYPE^GMVUTL8
 Returns the IEN if the value is found in the GMRV VITAL TYPE (#120.51)
 file.
  
 This remote procedure call is documented in Integration Agreement 4357.
 PARAMETERS
  GMVTYPE
   TYPE:LITERAL
   GMVTYPE = Name of Vital Type (from FILE 120.51) (e.g., WEIGHT)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the IEN if GMVTYPE exists in FILE 120.51.
 EXTERNAL ROUTINES:
  

GMV GET CATEGORY IEN - CATEGORY^GMVUTL8
 Returns the IEN if the value is found in the GMRV VITAL CATEGORY (#120.53)
 file.
  
 This remote procedure call is documented in Integration Agreement 4354.
 PARAMETERS
  GMVCAT
   TYPE:LITERAL
   GMVCAT = Name of Category (from FILE 120.53) (e.g., METHOD)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the IEN if GMVCAT exists in FILE 120.53
 EXTERNAL ROUTINES:
  

EC GETVERSION - VERSRV^ECUURPC
 Returns the server version of a particular option.  This is used by ECS GUI 
 to determine the current server version of the software.
 PARAMETERS
  ECARY
   TYPE:LITERAL
   ECARY contains the option name and client version of the software.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the server version of the software.
 EXTERNAL ROUTINES:
  FIND^DIC

ACKQAUD1 - START^ACKQAG01
 This RPC gets the audiogram data for the selected entry
 in the Audiometric Exam Data file 509850.9 and returns
 it to the calling program in the array ACKQARR()
 This is for the Audiometric Display only.
 PARAMETERS
  DFN
   TYPE:LITERAL
   The internal number in the PATIENT file (#2).
  IEN
   TYPE:LITERAL
   Internal number in the AUDIOMETRIC EXAM DATA file (#509850.9).
 RETURN VALUE
  TYPE: ARRAY
  See routine ACKQAG01 for a complete description of the return array.
 EXTERNAL ROUTINES:
  DEM^VADPT

ACKQAUD2 - EN^ACKQAG02
 Input the IEN of the 509850.9 file entry as the second parameter.
 Input the DFN as the third parameter, array by reference as first
 returns a subscripted array of data values for this audiogram
 data for the patient. Currently only uses 0 node for information.
 Used in the Enter/Edit Audiogram Delphi program
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN of patient - IEN from DPT(
  IEN
   TYPE:LITERAL
   This is the pointer to the 509850.9 file
 RETURN VALUE
  TYPE: ARRAY
  Subscripted array of values for various Hz. 
 EXTERNAL ROUTINES:
  $$TITLE^ACKQAG01,EN^DIQ1

ACKQROES - START^ACKQAG03
 This is the RPC used to setup and send to the DDC, the
 signed audiometric data file entry to the DDC from the application 
 Audiogram Enter/Edit (AKCQROES3E.EXE). It is triggered by
 the saving of a signed entry in 509850.9.  The RPC calls routine 
 START^ACKQAG03 which in turn calls EN^ACKQAG04. The VADPT utilities are 
 also used.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the pointer to the patient file.
  IEN
   TYPE:LITERAL
   This is the entry in 509850.9 that the user is working on.
  STANUM
   TYPE:LITERAL
   This is the Sta # of the sending clinic
  USRNAM
   TYPE:LITERAL
   This is the name of the submitting user
  USRSER
   TYPE:LITERAL
   This is the name of the submitting user's service
 RETURN VALUE
  TYPE: SINGLE VALUE
  It returns a literal containing the local confirmation msg number,
 EXTERNAL ROUTINES:
  EN^ACKQAG04,$$ACKEXIST^ACKQAG05,$$DFNIN^ACKQAG05,$$NEWMSG^ACKQAG05

DSIC XUTIL NAME COMPONENT - NAMECOM^DSICDPT
 This will take a standard VistA person name in the format Last,First M 
 and return the individual name components.
 PARAMETERS
  VNAME
   TYPE:LITERAL
   This is the standard VistA person name in the format Last,First M
 RETURN VALUE
  TYPE: SINGLE VALUE
  The name components will be returned in a string:
 EXTERNAL ROUTINES:
  

DSIC FM DINUM - DINUM^DSICFM02
 This will do a lookup on the inputted file for the requested value.  This 
 is only for files whose .01 field is defined to be a DINUM pointer to a
 file.  If the lookup value in not in the inputted file, then this will 
 add that pointer to that file.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the file number of the DSS file which has a .01 DINUM'd field
  IEN
   TYPE:LITERAL
   This is the ien of the pointed to file.  If the .01 field is not a 
  VAL
   TYPE:LITERAL
   This is the external value of the .01 field.   If the .01 field is a 
  IENS
   TYPE:LITERAL
   This field is only valid if you are trying to add a DINUM'd value to a 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return the internal entry number (ien) of the item looked up or added.
 EXTERNAL ROUTINES:
  

DSIC DPT GET DEMO - DEM^DSICDPT
 This will return specific patient demographic elements for a patient
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the patient's DFN or pointer to the PATIENT file
  SSN
   TYPE:LITERAL
   This is the patient's 9 (or 10) digit SSN.
  PERM
   TYPE:LITERAL
   This is a boolean flag (1 or 0).   The default value is zero.
  DSICONF
   TYPE:LITERAL
   This flag determines whether or not to return the confidential address 
  DSIFLG
   TYPE:LITERAL
   This boolean value (1 or 0) will determine the data returned for certain 
 RETURN VALUE
  TYPE: ARRAY
  On error return -1^error message
 EXTERNAL ROUTINES:
  

DSIC DDR FILER - FILE^DSICDDR0
 This calls FILE^DIE to file data.  It can only file data at a single 
 level (top, multiple, a multiple within a multiple, etc.).  It presumes 
 you know how to set Param[x] properly in Fileman syntax.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the file number (or subfile number) for which data is to be filed.
  IENS
   TYPE:LITERAL
   This is the IENS parameter to the FILE
  FLAGS
   TYPE:LITERAL
   This is the FLAGS parameter used when invoking FILE
  DATA
   TYPE:LIST
   This is an array of fields in format:  DATA(field_num)=value 
 RETURN VALUE
  TYPE: ARRAY
   Successful, return 1^
 EXTERNAL ROUTINES:
  

DSIC DDR FINDER - FIND^DSICDDR0
 Call FIND^DIC to get a list of matches on the file for the input value
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the number of the file in which you wish to search.
  IENS
   TYPE:LITERAL
   This is the IENS through which you wish to search for the value VALUE.
  FIELD
   TYPE:LITERAL
   This is an 
  NUMBER
   TYPE:LITERAL
   This is the maximum number of entries to be returned.  Defaults to all
  INDEX
   TYPE:LITERAL
   If you wish to do the lookup on specific indexes, then enter that here.  
  VALUE
   TYPE:LITERAL
   Enter a value that will be used by Fileman for the lookup.  This call 
  SCREEN
   TYPE:LITERAL
   If you wish to use the DIC("S") equivalent then enter it here.
  FLAGS
   TYPE:LITERAL
   This is the Fileman FLAGS parameter used in the FILE
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array in the following format:
 EXTERNAL ROUTINES:
  

DSIC DDR GETS ENTRY DATA - GET^DSICDDR0
 This calls GETS^DIQ to get a list of field values for a record
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the number of the file in which you wish to search.
  IENS
   TYPE:LITERAL
   This is the IENS for the search.  See the instructions on constructing an
  FIELD
   TYPE:LITERAL
   This is an 
  FLAGS
   TYPE:LITERAL
   This is a string containing up to 3 characters that will modify how
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array with the following format:
 EXTERNAL ROUTINES:
  

DSIC DDR LISTER - LIST^DSICDDR0
 This calls the Fileman lister, LIST^DIC to get a list of records matching 
 the input value
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the file number of the file that will be searched
  IENS
   TYPE:LITERAL
   This is the standard Fileman IENS string when doing a search/lookup on a 
  FIELD
   TYPE:LITERAL
   ';' delimited list of fields requested for each record
  FLAGS
   TYPE:LITERAL
   This is the FLAGS parameter for the LIST
  NUMBER
   TYPE:LITERAL
   Enter the maximum number of matching records you wish to retrieve.
  FROM
   TYPE:LITERAL
   Enter the string that will be the starting value to use when transversing 
  PARTIAL
   TYPE:LITERAL
   This is the PARTIAL parameter in the LIST
  INDEX
   TYPE:LITERAL
   Enter the string of index names (separated by '
  SCREEN
   TYPE:LITERAL
   If you wish to screen entries, then enter that executable M code.  This 
  IDENTIFY
   TYPE:LITERAL
   This is the IDENTIFIER parameter in LIST
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  If successful, return array will be in the following order:
 EXTERNAL ROUTINES:
  

DSIC DDR DELETE ENTRY - KILL^DSICDDR0
 This will delete a record from a file or subfile.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the number of the file or subfile of the record to be deleted
  IENS
   TYPE:LITERAL
   This is the Fileman IENS input parameter.  Its value must be applicable 
 RETURN VALUE
  TYPE: ARRAY
  If the entry is successfully deleted, return 1^
 EXTERNAL ROUTINES:
  

DSIC DDR UPDATE FILE - UPDATE^DSICDDR0
 This will add a new record to a file, but only at the top level of the 
 file.   It does not allow for adding a new record to a multiple.  
 Additional fields to be filed at the same time can be passed.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the number of the file for which a new record is to be added
  DATA
   TYPE:LIST
   This is a list of fields which will have data for filing with the new 
 RETURN VALUE
  TYPE: ARRAY
  If a new record is successfully created, return 1^new record number
 EXTERNAL ROUTINES:
  

DSIC DDR UPDATE SUBFILE - UPDATE1^DSICDDR0
 This will add a new record to a multiple in a file.   The multiple can be 
 at any level as long as the IENS is properly defined.  Additional fields 
 can filed with the record.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the number of the subfile to which a new record is to be added
  IENS
   TYPE:LITERAL
   This is the standard Fileman DBS parameter for calling UPDATE
  DATA
   TYPE:LIST
   This is a list of fields and their internal values to be filed with the
 RETURN VALUE
  TYPE: ARRAY
  If the record is successfully created, return -1^new subfile record number
 EXTERNAL ROUTINES:
  

DSIC DDR WP FILER - WP^DSICDDR0
 This will file the text into the specified word processing field.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the file (or subfile) number for which the word processing field 
  IENS
   TYPE:LITERAL
   This is the appropriate Fileman DBS IENS for filing the word processing 
  FIELD
   TYPE:LITERAL
   This is field number of the word processing field
  FLAGS
   TYPE:LITERAL
   This is the FLAGS parameter for the WP
  DATA
   TYPE:LIST
   This is the text to be filed into the word processing field.
 RETURN VALUE
  TYPE: ARRAY
  If the text is successfully filed, then return 1^
 EXTERNAL ROUTINES:
  

DSIC DDVG XLATE IDX2DATA - XLATE1^DSICDDR4
 This will return the external format for an internal Fileman field value
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the number of the file (or subfile) for which the external format 
  FIELD
   TYPE:LITERAL
   This is the field number for the file (or subfile)
  VALUE
   TYPE:LITERAL
   This is the internal Fileman format for the data stored at FILE,FIELD.  
 RETURN VALUE
  TYPE: ARRAY
  If it successfully translate the internal value to external format, then 
 EXTERNAL ROUTINES:
  

DSIC DDVG XLATE DATA2IDX - XLATE2^DSICDDR4
 Will take an external value and perform a FILEMAN lookup. 
  
 Restrictions are:
 1.  The external value must be resolvable to a unique entry.
 2.  There must be an index on the field that contains the value.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the file (or subfile) number upon which the lookup will be done
  IENS
   TYPE:LITERAL
   This is the standard IENS parameter when FIND1
  VALUE
   TYPE:LITERAL
   This is the value in external format used for the lookup.
 RETURN VALUE
  TYPE: ARRAY
  If the lookup is successful, return 1^internal file number
 EXTERNAL ROUTINES:
  

DSIC DM GET STATUS - STATUS^DSICDM
 This will return the status(es) of import requests for an individual DSS 
 application. If you pass the transaction ID then the status of that
 transaction will be returned.  You can also retrieve the statuses of all
 requests or all requests of a certain status.
 PARAMETERS
  TRANID
   TYPE:LITERAL
   This is the transaction ID that was passed to the VistA Imaging Import 
  WHICH
   TYPE:LITERAL
   This is a string of codes to determine which transaction statuses to 
  DEL
   TYPE:LITERAL
   This flag (0 or 1) will control whether or not the transaction record 
  APP
   TYPE:LITERAL
   This is the application code assigned to a DSS application.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This will return a list:
 EXTERNAL ROUTINES:
  

DSIC DM ADD/DELETE QUEUE - UPD^DSICDM
 This will allow you to add or delete an entry to file 19621.  When you 
 use the VistA Imaging import an image API, you are returned a queue 
 number.  This number means that VistA Imaging background processor 
 accepted your request and place it a queue and will process it in due 
 time.  After you get this successful queue message you should immediately 
 file that data through this RPC.
  
 This file is to allow communication between the VistA Imaging background 
 processor and the DSS Document Management system.
 PARAMETERS
  ACT
   TYPE:LITERAL
   This is the action that should be taken.  The default value if not passed 
  TRANID
   TYPE:LITERAL
   This is the transaction ID you passed to the VistA Imaging import API.  
  QUEUE
   TYPE:LITERAL
   This is only required if you have successfully queued an import request 
  APP
   TYPE:LITERAL
   This is optional only for DocManager.  For all othr DSS applications, 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a string:
 EXTERNAL ROUTINES:
  

DSIC GET SC CONDITIONS - SCCND^DSICVT1
 This will return a string indicating whether the service condition
 questions need to be asked:
    Agent Orange exposure
    Environmental Contaminant exposure
    Ionizing Radiation Exposure
    Service Connected
    Military Sexual Trauma
    Head & Neck Cancer
    Combat Veteran
    Proj 112/SHAD
  
 If VST is not passed, then APPT must be the scheduling appointment
 date/time and LOC must be the the hospital location data
  
 If VST is passed, then APPT and LOC are optional.
 PARAMETERS
  DATA
   TYPE:LITERAL
    DATA = DFN 
 RETURN VALUE
  TYPE: SINGLE VALUE
  This will return a string in the format p1^p2^...^pn where
 EXTERNAL ROUTINES:
  

DSIC GET SCHED APPTS - APPT^DSICVT0
 This will invoke SDA^VADPT.  It returns those appointments which were kept
 and all open future appointments depending upon the date range.
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA = DFN 
  SCR
   TYPE:LIST
   SCR - optional - added 7/3/2002 - sgm
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data passed to broker via the global ^TMP("DSIC",$J,"APT",#)
 EXTERNAL ROUTINES:
  

DSIC GET VISITS/APPOINTMENT - VSIT^DSICVT0
 This will call the DSIC GET SCHED APPTS rpc to get the scheduled
 appointments for the user inputted date range.  It uses SELECTED^VSIT to 
 find all visits.  It uses IN5^VADPT to get the current admission.  It 
 will also get historical admission data, but manipulate the hospital 
 location pointer values to the Visit LOCATION (#9999999.06) file,
 that points to the INSTITUTION (#4) file.
 PARAMETERS
  DATA
   TYPE:LITERAL
    DATA - required - DFN 
  SCR
   TYPE:LIST
   SCR - optional - added 7/3/2002 - sgm
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  It returns to the broker, via the global array ^TMP("DSIC",$J,"VSIT",#)
 EXTERNAL ROUTINES:
  

DSIC GET VISITS ONLY - VST^DSICVT0
 Using SELECTED^VSIT this retrieves all visits for the date range.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the pointer value to the Patient file
  BEG
   TYPE:LITERAL
   Optional - this is the starting date for the search in internal fileman
  END
   TYPE:LITERAL
   Optional - this is the ending date/time for the search in internal fileman
  ZLOC
   TYPE:LIST
   Kept for backward compatibility.  Do not use.  See SCR parameter.
  CAT
   TYPE:LITERAL
   This flag controls whether service categories should be screened or not.
  SCR
   TYPE:LIST
   SCR - optional - added 7/3/2002 - sgm
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The data is passed to the broker in the ^TMP("DSIC",$J,"VSIT",#) where
 EXTERNAL ROUTINES:
  

DSIC ADD PROBLEM - CREATE^DSICPL
 Add a new problem to the problem list
 PARAMETERS
  DATA
   TYPE:LIST
   For detailed description of the array setup see documentation in the
 RETURN VALUE
  TYPE: SINGLE VALUE
  If problem successfully added, returns 1^new IEN in problem list
 EXTERNAL ROUTINES:
  

DSIC UPDATE PROBLEM - UPDATE^DSICPL
 This will update an existing problem
 PARAMETERS
  DATA
   TYPE:LIST
   For detailed description of array format, see documentation in routine.
 RETURN VALUE
  TYPE: SINGLE VALUE
  If update is successful, then returns 1^(data from gmplutl call)
 EXTERNAL ROUTINES:
  

DSIC SEND MAIL MSG - SEND^DSICXM
 This will send a Mailman message
 PARAMETERS
  ARR
   TYPE:LIST
   This array contains all the data needed to invoke Mailman's send a 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the message is successfully created, return the mail message number
 EXTERNAL ROUTINES:
  

DSIC SEND ALERT - SEND^DSICXQA
 RPC to send an alert
 PARAMETERS
  DATA
   TYPE:LIST
   DATA() is the input data to be passed to the Kernel's alert processor.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns 1 if an alert is sent.  Else return -1^message.
 EXTERNAL ROUTINES:
  

DSIC XPAR ADD - ADD^DSICXPR
 This is used to add a new parameter value for an entity.
 PARAMETERS
  DATA
   TYPE:LITERAL
   This string has different pieces for adding a new parameter for an entity
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the parameter is successfully added, return 1
 EXTERNAL ROUTINES:
  

DSIC XPAR EDIT - CHG^DSICXPR
 This is used to change the value or delete an existing parameter value
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA - required - p1~p2~p3~p4
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the parameter is successfully changed, return 1
 EXTERNAL ROUTINES:
  

DSIC XPAR DEL - DEL^DSICXPR
 Delete an existing parameter for an entity for a specific instance
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA - required - p1~p2~p3~p4
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the parameter is successfully deleted, return 1
 EXTERNAL ROUTINES:
  

DSIC XPAR DEL ALL - DELALL^DSICXPR
 This is used to delete the value for all instances of a parameter for a 
 given entity
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA - required - p1~p2
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the parameter(s) are successfully deleted, return 1
 EXTERNAL ROUTINES:
  

DSIC XPAR GET ALL FOR ENT - GET^DSICXPR
 This will get all instances of a parameter for an entity
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA - required - p1~p2~~~~p6
 RETURN VALUE
  TYPE: ARRAY
  Return a list of values
 EXTERNAL ROUTINES:
  

DSIC XPAR GET VALUE - GET1^DSICXPR
 This will return the value of a single entity/param/instance
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA - required - p1~p2~p3~~~p6
 RETURN VALUE
  TYPE: SINGLE VALUE
  If problem encountered getting value, return -1^error message
 EXTERNAL ROUTINES:
  

DSIC XPAR GET ALL - GETALL^DSICXPR
 This will return all entities for a given parameter and instance
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA - required - ~p2~p3~~~p6
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  On error, return list[1] = -1^error message
 EXTERNAL ROUTINES:
  

DSIC XPAR REPLACE INST - REPL^DSICXPR
 For an existing entity/parameter/instance, this will change the value of 
 that instance
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA = p1~p2~p3~~p5  where
 RETURN VALUE
  TYPE: SINGLE VALUE
  If replacement successfully occurred, then return 1
 EXTERNAL ROUTINES:
  

DSIC SR LIST - LISTSR^DSICSRPT
 Return a list of actual surgical cases for a patient for a date range
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is patient pointer from file 2 for which to retrieve cases.
  ALPHA
   TYPE:LITERAL
   This is the starting date.time in Fileman format for retrieving surgical 
  OMEGA
   TYPE:LITERAL
   This is a Fileman date.time  It is the ending date for surgical cases.  
 RETURN VALUE
  TYPE: ARRAY
  On error or problems, return List[1] := -1^message
 EXTERNAL ROUTINES:
  

DSIC SR DETAIL - DETAILSR^DSICSRPT
 For a surgical case, this returns the operation report, anesthesia 
 report, nurse's report, and procedure report.  Which reports are returned 
 depends upon the input paramter FLAG value.  It defaults to Op report and 
 Anesthesia report.
 PARAMETERS
  DSISRTN
   TYPE:LITERAL
   This is the internal file number from file 130, i.e., CASE#
  FLAG
   TYPE:LITERAL
   Optional parameter - string of characters indicating which reports to 
 RETURN VALUE
  TYPE: ARRAY
  A local array with the report text.
 EXTERNAL ROUTINES:
  

DSIC FM FILER - FILE^DSICFM04
 This invokes the Fileman filer to update records for an existing entry.  
 This will allow you to update any field at the level of the FILE including
 word processing fields.  It does not allow for updating different levels
 of the file.  If you wish to update a subfile, then you will have to make
 multiple calls to this RPC for each file or subfile.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the file (or subfile) number for record which you wish to update
  IENS
   TYPE:LITERAL
   This is the standard Fileman IENS for calling the Fileman DBS APIs.  The 
  FLAG
   TYPE:LITERAL
   This parameter is optional.  If passed it must be equal to "T"
  INPUT
   TYPE:LIST
   This list contains the fields to be updated in the file (or subfile).  
 RETURN VALUE
  TYPE: ARRAY
  If no problems are encountered filing data, then return LIST[1] := 1^
 EXTERNAL ROUTINES:
  

DSIC DATE CONVERT - CNVT^DSICDT
 This will take a date in any format and convert it to any other format.
 PARAMETERS
  INVAL
   TYPE:LITERAL
   This is the input date.time value to be converted.  If this parameters 
  INTYPE
   TYPE:LITERAL
   optional - only if INVAL contains an alpha character.  Else, this is 
  OUTYPE
   TYPE:LITERAL
   optional - default value is internal Fileman format "F".  This is a 
  OUTFMT
   TYPE:LITERAL
   optional - this param controls the format of the returned value for 
  TIMEFMT
   TYPE:LITERAL
   Optional - controls what portion of the time part of the date will be 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If OUTYPE is a single character, not equal to A, then return a single 
 EXTERNAL ROUTINES:
  

DSIC XPD LAST INSTALL - RLAST^DSICXPDU
 This returns the latest installed version of a KIDS build.  It gets the 
 data from the INSTALL file.
 PARAMETERS
  PKG
   TYPE:LITERAL
   This is the name (.01 field value) from the INSTALL file.
 RETURN VALUE
  TYPE: SINGLE VALUE
  This returns the latest version installed for a KIDS package.  It looks 
 EXTERNAL ROUTINES:
  

DSIC XPD PATCH - PATCH^DSICXPDU
 This invokes the Kernel API to determine if a patch has been installed or 
 not.  As such, it requires that the application has an associated PACKAGE 
 file entry.  This will not work for VEJD applications, but will work for
 DSI applications.
 PARAMETERS
  PKG
   TYPE:LITERAL
   This is the name of the patch, e.g., LR*5.2*98.  This invokes the Kernel 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return 1 if the patch is installed, else return 0
 EXTERNAL ROUTINES:
  

DSIC XPD VERSION - VERSION^DSICXPDU
 This will use the Kernel API to determine the current version of an 
 application.
 PARAMETERS
  PKG
   TYPE:LITERAL
   This is the full name of the PACKAGE file entry or the namespace for that 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the PACKAGE file entry is successfully found, then return the CURRENT 
 EXTERNAL ROUTINES:
  

DSIC USER DEF DIV - DIV^DSICDUZ
 This will return the default division for a user.  If no default is 
 indicated in the DIVISION multiple, then the return value will be:
  
   1. if the user has only one division, and that division is not
      explicitly marked as NO for default division, then return that
      division
   2. else, if the SITE parameter is passed with a value of 1, then
      return the default value for the facility.
 PARAMETERS
  XDUZ
   TYPE:LITERAL
   This is the pointer to file 200 for the user for which to return the 
  SITE
   TYPE:LITERAL
   This boolean flag (1 or 0) will be used if the user has no default 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return the default division for the user:
 EXTERNAL ROUTINES:
  

DSIC PX IMMUN LIST - IMMLIST^DSICPX1
 This returns a patient's immunization list.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is a pointer to the PATIENT file (#2).
 RETURN VALUE
  TYPE: ARRAY
  On error return List[1] := -1^error message
 EXTERNAL ROUTINES:
  

DSIC CPT ACTIVE/VALIDATE - ACTIVE^DSICCPT
 This will tell you whether or not a CPT code is active as of the date 
 that you pass in.
 PARAMETERS
  CODE
   TYPE:LITERAL
   This is the CPT, HCPCS, or level III code from file 81 in either internal 
  CDT
   TYPE:LITERAL
   This date is optional.  It can be <null>, TODAY, NOW, or a internal 
  SRC
   TYPE:LITERAL
   This boolean flag (1 or 0) indicates whether or not Level III codes 
 RETURN VALUE
  TYPE: SINGLE VALUE
  On error, return -1
 EXTERNAL ROUTINES:
  

DSIC CPT GET CODE - CPT^DSICCPT
 This returns various information about a specific CPT code.
 PARAMETERS
  CODE
   TYPE:LITERAL
   This is the CPT, HCPCS, or level III code in either internal or external 
  CDT
   TYPE:LITERAL
   This date is optional.  It can be <null>, TODAY, NOW, or a internal 
  SRC
   TYPE:LITERAL
   This Boolean flag (1 or 0) is optional.  Default value is 0.  I SRC=1 
  DFN
   TYPE:LITERAL
   This is a pointer to the PATIENT file.  It is not used at this time.
 RETURN VALUE
  TYPE: SINGLE VALUE
  On error return -1^error message
 EXTERNAL ROUTINES:
  

DSIC CPT GET DETAIL DESC - CPTD^DSICCPT
 This returns the full description for a code
 PARAMETERS
  CODE
   TYPE:LITERAL
   This is the CPT, HCPCS, or level III code in either internal or external 
  DFN
   TYPE:LITERAL
   This is the ien to the PATIENT file.  It is not used at this time.
  CDT
   TYPE:LITERAL
   This date is optional.  It can be <null>, TODAY, NOW, or a internal 
 RETURN VALUE
  TYPE: ARRAY
  This returns the full description of the code.
 EXTERNAL ROUTINES:
  

DSIC CPT GET MODIFIER LIST - CODM^DSICCPT
 Return a list of all acceptable modifiers for a CPT code
 PARAMETERS
  CODE
   TYPE:LITERAL
   This is the CPT, HCPCS, or level III code in either internal or external 
  CDT
   TYPE:LITERAL
   This date in internal Fileman format is optional.
  SRC
   TYPE:LITERAL
   This Boolean flag (1 or 0) indicates whether or not level III codes 
  DFN
   TYPE:LITERAL
   This is the ien to the PATIENT file.  It is not used at this time.
 RETURN VALUE
  TYPE: ARRAY
  Return List[n] := modifier (#.01 field) ^ name (#.02 field) ^ ien
 EXTERNAL ROUTINES:
  

DSIC CPT GET MODIFIER - MOD^DSICCPT
 This returns basic information for a MODIFIER, file 81.3
 PARAMETERS
  MOD
   TYPE:LITERAL
   This is the ifn or name of the MODIFIER, file 81.3
  CDT
   TYPE:LITERAL
   This date is optional.  It can be <null>, TODAY, NOW, or a internal 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If problems return -1^error message
 EXTERNAL ROUTINES:
  

DSIC CPT MOD PAIR - MODP^DSICCPT
 This will check to see if a modifier can be used with a code as of the 
 input date.
 PARAMETERS
  CODE
   TYPE:LITERAL
   This is the ifn or CPT code name (file 81)
  MOD
   TYPE:LITERAL
   This is the ifn or modifier .01 field value from file 81.3
  MFT
   TYPE:LITERAL
   This parameter works in conjunction with the MOD parameter.
  CDT
   TYPE:LITERAL
   This date is optional.  It can be <null>, TODAY, NOW, or a internal 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return 0 if pair was unacceptable
 EXTERNAL ROUTINES:
  

DSIC ICD9 ACTIVE - ACTICD^DSICDRG
 Verify that an ICD9 code is active as of a certain date
 PARAMETERS
  VICD
   TYPE:LITERAL
   This is the ifn or .01 field value from the DIAGNOSIS file (#80 - 
  CDT
   TYPE:LITERAL
   This date is optional.  It can be <null>, TODAY, NOW, or a internal 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return 1 if code is active, 0 if inactive
 EXTERNAL ROUTINES:
  

DSIC ICD9 GET DIAGNOSIS - ICD9^DSICDRG
 This will return specific information for a diagnosis code
 PARAMETERS
  VICD
   TYPE:LITERAL
   This is the ifn or .01 field value from the DIAGNOSIS file (#80)
  FLDS
   TYPE:LITERAL
   This is a "
  CDT
   TYPE:LITERAL
   This date is optional.  It can be <null>, TODAY, NOW, or a internal 
  SCR
   TYPE:LITERAL
   This is a single or double character code used to screen out diagnoses.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return:
 EXTERNAL ROUTINES:
  

DSIC XPAR GET WP - GETWP^DSICXPR
 This will return text for a word processing type parameter for an entity 
 and instance.
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA - required - p1~p2~p3
 RETURN VALUE
  TYPE: ARRAY
  Return the text in List[n] = text  where n=1,2,3,4,...
 EXTERNAL ROUTINES:
  

DSIC XPAR MULT ACTION - MULT^DSICXPR
 This is a multi-function front end to the Parameter APIs.  It allows you 
 with a single RPC call to take edit type actions on several 
 parameter/entity/instance combinations.
  
 You can only do these actions:  add, change, or delete
  
 Each entry in the passed list is treated as if it was a separate RPC 
 call.  Thus each entry is totally independent of the others.  So you can 
 mix and match parameters, entities, instances, and actions.
 PARAMETERS
  DSICLIST
   TYPE:LIST
   DSICLIST - required - p1
 RETURN VALUE
  TYPE: ARRAY
  Return the input array exactly like inputted except each array element 
 EXTERNAL ROUTINES:
  

DSIC XIP - ZIPCODE^DSICXIP
 This returns address demographics for a 5 or 9 digit zip code
 The return value is for the primary location associated with the ZIP code.
  if an error:  -1 ^ ERROR MESSAGE
  if OK:   Input ZIP code ^ city ^ state ^ county ^ FIPS county code
  the return is for the primary location associated with the ZIP code.
 PARAMETERS
  ZIPCODE
   TYPE:LITERAL
   5 OR 9 DIGIT ZIP CODE
  ACTDATE
   TYPE:LITERAL
   Active date in internal Fileman format.  If this parameter is passed, 
 RETURN VALUE
  TYPE: SINGLE VALUE
  On error, return -1^error message
 EXTERNAL ROUTINES:
  

DSIC ICD9 GET LIST - LIST^DSICDRG
 This will return a list of active ICD9 codes for a lookup value.
 PARAMETERS
  DSIX
   TYPE:LITERAL
    Old method of calling this procedure:
  SCR
   TYPE:LITERAL
    Old method of calling this procedure:
  DSIA
   TYPE:LIST
    New method for calling this subroutine:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   This returns a list of active diagnosis codes matching the lookup value.
 EXTERNAL ROUTINES:
  

DSIC PX GET VISIT INFO - VSTALL^DSICPX2
 This RPC is a wrapper around the ENCEVENT^PXKENC api.  It does not return 
 all the data that the PX api does.  It returns a subset of that data.  
 The PX api is designed to return all the visit date in the various files 
 for a VISIT ien.  See routine for more detailed description.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the internal entry number (ien) to the VISIT file (#9000010)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  On error return List[0] := -1^error message
 EXTERNAL ROUTINES:
  

DSIC DM CHECK - IMPCK^DSICDM
 This will check whether or not the current VistA system supports VistA 
 Imagings import API.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  If VistA Imaging supports import API, then return 1
 EXTERNAL ROUTINES:
  

DSIC PX PRIMARY - PCE^DSICPX2
 For a VISIT ien this will return the primary PCE diagnosis and the 
 primary PCE provider.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the ien to the VISIT file (#9000010).
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return p1^p2^p3^p4  where
 EXTERNAL ROUTINES:
  

DSIC VA DEFAULT SITE - SITE^DSICVA
 This will return the name and station number for a medical center 
 division.  Optional input parameters are allowed.  However, if not passed 
 then return the data for the primary division (or institution) as of 
 TODAY.
 PARAMETERS
  DIV
   TYPE:LITERAL
   This is a pointer to the medical center division file (#40.8).  If it is 
  DATE
   TYPE:LITERAL
   This optional Fileman date only will be used to return division data of 
 RETURN VALUE
  TYPE: SINGLE VALUE
  On error, return -1^error message
 EXTERNAL ROUTINES:
  

DSIC FM GET FIELD ATTRIB - FIELD^DSICFM06
 This will return the inputted field attributes for a file.
  
 As of 7/29/2003, these attributes are available:
 AUDIT 
 AUDIT CONDITION 
 COMPUTE ALGORITHM 
 COMPUTED FIELDS USED 
 DATE FIELD LAST EDITED 
 DECIMAL DEFAULT 
 DELETE ACCESS 
 DESCRIPTION 
 FIELD LENGTH 
 GLOBAL SUBSCRIPT LOCATION 
 HELP-PROMPT 
 INPUT TRANSFORM 
 LABEL 
 MULTIPLE-VALUED 
 OUTPUT TRANSFORM 
 POINTER 
 READ ACCESS 
 SOURCE 
 SPECIFIER 
 TECHNICAL DESCRIPTION 
 TITLE 
 TYPE 
 WRITE ACCESS 
 XECUTABLE HELP 
 PARAMETERS
  FILE
   TYPE:LITERAL
   This can be the file number or the full name of the file.  For subfiles, 
  FIELD
   TYPE:LITERAL
   This is the field number or the full name of the field
  FLAG
   TYPE:LITERAL
   This is a flag controlling what will be returned.
  ATT
   TYPE:LIST
   This is a list of attributes to return.
 RETURN VALUE
  TYPE: ARRAY
  If problems or error, return List[0] := -1^message
 EXTERNAL ROUTINES:
  

DSIC FM EXTERNAL - EXTERNAL^DSICFM06
 This will convert an internal formatted data to external format.  This 
 differs from the GET Fileman calls in that a record ien is not required.  
 However, it is the responsibility of the developer to make sure that for 
 the particular file (or subfile) and field that the DD will output the 
 data without an internal number (e.g., DA is not defined).
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the number of the file (or subfile) which has that field.
  FIELD
   TYPE:LITERAL
   This is the field number for the data to be converted to external.
  VALUE
   TYPE:LITERAL
   This is the value in internal Fileman format to be converted to external 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return the external value for that file and field or -1^message
 EXTERNAL ROUTINES:
  

DSIC FM VERIFY FILE - VFILE^DSICFM06
 This will verify whether or not a file exists.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is number of the file (or subfile) or the full name of the file that 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the file exists, return the file number.
 EXTERNAL ROUTINES:
  

DSIC FM VERIFY FIELD - VFIELD^DSICFM06
 This will verify whether or not a field exists in a file (or subfile).
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the number of the file (or subfile) or the full file name which 
  FIELD
   TYPE:LITERAL
   This the the number of the field or its full field name.
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the field exists, return the field number.
 EXTERNAL ROUTINES:
  

DSIC WARD PTF SPECIALTY - SPEC^DSICDGW
 For a ward name (or a pointer to the WARD file), return that ward's
   ptf specialty code ^ specialty name ^ specialty service
 PARAMETERS
  WARD
   TYPE:LITERAL
   This is the name of the ward or a pointer number to the WARD file.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return ptf specialty code ^ specialty name ^ specialty service
 EXTERNAL ROUTINES:
  

DSIC DPT INP INFO - IN^DSICDPT
 This with return information about an admission event.  This RPC is a 
 wrapper around the IN5^VADPT API.  If you pass in a date, then the data 
 related to that date and admission will be returned,  If no date is 
 passed, then get inpatient status as of NOW.
  
 For more detailed description, see IN^DSICDPT routine.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the pointer value to the PATIENT file (i.e., DFN)
  DATE
   TYPE:LITERAL
   This is the Fileman format, date only, for which you wish to retrieve 
  LODGE
   TYPE:LITERAL
   This is a Boolean flag (1 or 0 or <null>).  If LODGE=1 then allow for 
 RETURN VALUE
  TYPE: ARRAY
  For return format see description in the routine at IN^DSICDPT2
 EXTERNAL ROUTINES:
  

DSIC DPT INP INFO BRIEF - INQ^DSICDPT
 This will return certain data related to a patient's current admission.  
 The data returned and the order that it is returned is controlled by the 
 FLAG parameter.  For more detailed description, see routine INQ^DSICDPT
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is a pointer to the PATIENT file.
  FLAG
   TYPE:LITERAL
   This is 3 "
  LODGE
   TYPE:LITERAL
   This boolean flag controls whether or not Lodger movements (admissions) 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If problems or if the patient is not an inpatient, return -1^message
 EXTERNAL ROUTINES:
  

DSIC ACTIVE USER - ACT^DSICDUZ
 This will determine if a user (DUZ value) is valid and is active.  Also, 
 additionally screening logic can be passed in to validate a user.
 PARAMETERS
  XDUZ
   TYPE:LITERAL
   This is a pointer value to the NEW PERSON file.
  DSISCR
   TYPE:LIST
   You may pass additional screening criteria to be checked.  For a user to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If user if found and is active, then return the user's DUZ value.
 EXTERNAL ROUTINES:
  

DSIC FM LIST - LIST^DSICFM05
 The RPC provides a wrapper around the LIST^DIC API.  It exposes more of 
 the functionality of the API than the DSIC DDR LISTER RPC.
  
 For a lookup value, return all entries starting from that lookup value 
 and which collates after that lookup value.
 PARAMETERS
  INPUT
   TYPE:LIST
   The INPUT(n) = tag
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  If problems return List[0] = -1^error message.   There may be addtional 
 EXTERNAL ROUTINES:
  

DSIC ACTIVE USER LIST - LIST^DSICDUZ
 This will return a list of active users matching the lookup value.  You 
 can pass in additional screening logic if so desired, such as security 
 keys.
  
 It is the programmers responsibility to ensure that the total length of 
 the date returned in each return value does not exceed 250 characters.
 PARAMETERS
  VAL
   TYPE:LITERAL
   This is the lookup value to find matches in file 200
  SCR
   TYPE:LIST
   This RPC will return a list of active users.  You may wish additional 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data will be returned in ^TMP("DSIC",$J,"DILIST",n,0).
 EXTERNAL ROUTINES:
  

DSIC FM FIND - FIND^DSICFM05
 This provides a wrapper around the FIND^DIC API.  It exposes more of the 
 functionality of the API to the RPC than the old DSIC DDR FINDER RPC.
  
 For a lookup value, this RPC will return all matches.  It allows for 
 input a multiple screening logic which would be ANDed together.
 PARAMETERS
  INPUT
   TYPE:LIST
   he INPUT(n) = tag
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  if problems return one or more rows:
 EXTERNAL ROUTINES:
  

DENTV MULT PARAM - MULT^DENTVRX1
 This will return all instances for a parameter.  The Parameter should be 
 multi-instance.  The difference between this call and the national XPAR 
 call is that this call will return a value for every parameter-instance 
 combination regardless of entity.  It will return the value for the 
 entity of highest precedence.
 PARAMETERS
  PARAM
   TYPE:LITERAL
   This is the name of the parameter.
  FLAG
   TYPE:LITERAL
   This flag contains characters that control the information returned.
  OTHER
   TYPE:LIST
   This list array will allow you send in specific entities. There defaults
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  On error return List[0] = -1^message
 EXTERNAL ROUTINES:
  

DENTV INPATIENT BEDSECTION - INP^DENTVRP1
 This will return a string indicating whether or not the patient is a 
 current inpatient.  If an inpatient, then also return, if possible, the 
 PTF Specialty and Dental Bedsection associated with the current ward that 
 the patient is lodged.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is a pointer to the PATIENT file.
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURN: p1^p2^p3^p4^p5  where
 EXTERNAL ROUTINES:
  

DSIR ADD DOCUMENT - NEWITEM^DSIROI0
 This RPC is used to create an entry in file 19620.1 DSIR RELEASED DOCUMENT
 PARAMETERS
  DATA ARRAY
   TYPE:LIST
   Input: Array of
 RETURN VALUE
  TYPE: ARRAY
  Return array consists of one node
 EXTERNAL ROUTINES:
  

DSIR GET DOCUMENTS - GETITEMS^DSIROI2
 Get a list of all documents for a request.
 PARAMETERS
  REQUEST IEN
   TYPE:LITERAL
   IEN of entry in file 19620 ROI INSTANCE.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Output: Array
 EXTERNAL ROUTINES:
  

DSIR CLEANUP - CLEANUP^DSIROI2
 This RPC kills global nodes TMP("DSIROI",$J) and TMP("DSIRVAL",$J).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value is null.
 EXTERNAL ROUTINES:
  

DSIR SET FOLLOWUP DATE - FOLLOWUP^DSIROI2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DSIR FOLLOWUP REQUIRED LIST - GETFOLLW^DSIROI2
 This RPC finds any entries in file 19620 ROI INSTANCE that require a 
 follow up letter.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Output: Array
 EXTERNAL ROUTINES:
  

DSIR CHECK PREV REQ - CHECKCUR^DSIROI3
 This RPC checks for previous request for the current patient and 
 requestor. It then returns an array of entries in file 19620 ROI INSTANCE.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the DFN of the patient.
  REQUESTOR
   TYPE:LITERAL
   This is the IEN of the requestor in file 19620.12 DSIR NEW REQUESTOR.
 RETURN VALUE
  TYPE: ARRAY
  Output: Array of:
 EXTERNAL ROUTINES:
  

DSIR GET DOC DATES - GETDATES^DSIROI3
 RETURNS AN ARRAY OF DATES FOR USE IN SCREENING CLINICAL DOCUMENTS
 PARAMETERS
  REQUEST IEN
   TYPE:LITERAL
   IFN OF CURRENT ROI REQUEST
 RETURN VALUE
  TYPE: ARRAY
  ARRAY OF:
 EXTERNAL ROUTINES:
  

DSIR SET DOC DATES - SAVEDATE^DSIROI3
 SAVES DATES FOR USE IN SCREENING CLINICAL DOCUMENTS FOR AN ROI REQUEST
 PARAMETERS
  VEJDIFN
   TYPE:LITERAL
   IFN OF CURRENT ROI REQUEST
  VEJDDATS
   TYPE:LIST
   ARRAY OF:
 RETURN VALUE
  TYPE: ARRAY
  1^ IF SUCCESSFUL
 EXTERNAL ROUTINES:
  

DSIR REQUESTS SINCE DATE - GETPREVY^DSIROI2
 PARAMETERS
  VEJDDFN
   TYPE:LITERAL
   This is the patient's IFN.
  VEJDDATE
   TYPE:LITERAL
   This is the date from which to check, supplied in Fileman internal
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns one integer value which is -1 if there was an error, else returns
 EXTERNAL ROUTINES:
  

DSIR RPT BY REQUESTOR - BYREQ^DSIROIR
 Retrieves ROI requests for a given date range for use in GUI reports.
 PARAMETERS
  FROM DATE
   TYPE:LITERAL
   The FileMan Date to start retrieval process.
  TO DATE
   TYPE:LITERAL
   FileMan date to end retrieval process.
  STATUS
   TYPE:LITERAL
   "A"  : Get only the appealed requests  (-RV,-PR)
  CLERK(S)
   TYPE:LIST
   This is an array of clerk IENs.
  DIVISION(S)
   TYPE:LITERAL
   This parameter is used by the routine if the person requesting this 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array ^ delimited
 EXTERNAL ROUTINES:
  

DSIR RPT REQUESTORS IN SYS - REQINSYS^DSIROIR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DSIR RPT REQUESTS BY TYPE - REQTYP^DSIROIR
 PARAMETERS
  FROM DATE
   TYPE:LITERAL
  TO DATE
   TYPE:LITERAL
  STATUS
   TYPE:LITERAL
   "A"  : Get only the appealed requests  (-RV,-PR)
  DIVISIONS
   TYPE:LITERAL
   This parameter is used by the routine if the person requesting this
  TYPES
   TYPE:LIST
   This is an array of internal numbers to file 19620.61 DSIR TYPE OF 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DSIR CLERKS LIST - GETCLRKS^DSIROIR
 This RPC compiles a list of ROI clerks in file 19620 ROI INSTANCE.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Output: Global Array
 EXTERNAL ROUTINES:
  

DSIR UPDATE ADDRESS - UPDADDR^DSIROI6
 VEJD ROI UPDATE ADDRESS
         Input Record Pieces '^' delimited:
 1.      Address File Internal Number - Null to add new record
 2.      Patient - Internal Number only (required)
 3.      Street Address Line One - Text 35 character max (optional)
 4.      Street Address Line Two - Text 35 character max (optional)
 5.      City - Text 40 character max (optional)
 6.      State - Internal Number (optional)
 7.      Zip Code - Numeric 5 or 9 numbers (optional)
 8.      Address Holder - 1 character P or R (optional)
 9.      Holder Internal Number - Numeric (optional)
 10.     Begin Date - Internal FileMan format (optional)
 11.     End Date - Same as 10
 12.     Street Address Line Three - Text 30 character max (optional)
 Optional pieces will not update if null, pass '@' to delete/clear data 
 for specific field.  '@' in patient piece will delete entry in address 
 table for internal number specified in piece 1.
  
 Return Value:
 1.      -1 ^ Error message
 2.      0 - Entry deleted
 3.      Internal Number to address table
 PARAMETERS
  ADDRESS RECORD
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DSIR GET ADDRESSES - GTADDLST^DSIROI6
 This RPC gets all address know by the RELEASE OF INFORMATION - DSSI for a 
 given patient or requestor.
 PARAMETERS
  PATIENT REQUESTOR
   TYPE:LITERAL
   RQSTR - Pointer to Patient or Requestor
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array Pieces '^' delimited:
 EXTERNAL ROUTINES:
  

DSIR UPDATE STATUS - STATRPC^DSIROI6
 VEJD ROI UPDATE STATUS
         Input parameter:
 1.      Request Internal Number
 2.      Status Internal Code
  
 Return Value:
 1.      -1 ^ Error Message
 2.      Internal Number to Status History table
 PARAMETERS
  ROI INSTANCE NUMBER
   TYPE:LITERAL
  STATUS CODE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DSIR CURRENT STATUS - CSTRPC^DSIROI6
 This RPC gets the current status of a request.
 PARAMETERS
  ROI INSTANCE NUMBER
   TYPE:LITERAL
   IEN of the entry in file 19620 ROI INSTANCE.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Value:
 EXTERNAL ROUTINES:
  

DSIR STATUS HISTORY - STATHIST^DSIROI6
 PARAMETERS
  REQUEST
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DSIR GET REASONS FOR REQUEST - GETREAS^DSIROI6
 Retrieve entries from file 19620.31 DSIR REQUEST REASON.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Output: Array
 EXTERNAL ROUTINES:
  

DSIR GET REQUEST TYPES - GETTYPES^DSIROI6
 Retrieve entries from file 19620.61 DSIR TYPE OF REQUEST.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Output: Array
 EXTERNAL ROUTINES:
  

DSIR GET REQUESTOR TYPES - GETRQTYP^DSIROI6
 Retrieve entries from file 19620.71 DSIR REQUESTOR TYPE.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Output: Array
 EXTERNAL ROUTINES:
  

DSIR GET AUTHORITY - GETAUTH^DSIROI6
 This gets the entries from file 19620.51 DSIR AUTHORITY FOR REQUEST.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  IEN (file 19620.51) ^ Description
 EXTERNAL ROUTINES:
  

DSIR GET ROIS - GETLIST^DSIROI
 This RPC is used to return an array of ROI INSTANCE (File 19620) entries.
  
 GETLIST(AXY,TYPE,STAT,IEN)      ;RPC - DSIR GET ROIS
 Input: TYPE: Set of Codes:
      "P"  : Get list by patient
      "C"  : Get list by clerk
      "O"  : Get all open or pending requests.
             Defaults to all requests for a given status
      "R"  : Get list by requestor
    
  STAT: Set of Codes: (Delimited by '^', defaults to *)
      "*"  : Get all requests of a given type
      "O"  : Get only the open requests of this type
      "C"  : "          " closed "                " (-D,-G,-P)
      "P"  : "          " pending "               "
      "N"  : "          " other non-disclosure "  "
                        (-NR,-RF,-ND,-NV,-RC,-NF,-NU)
      "E"  : "          " entered in error "      "
      "X"  : "          " cancelled "             "
      "A"  : "          " appealed "              " (-RV,-PR)
  
  ID: IFN of patient, requestor or clerk.
      If not for requestor or clerk IEN should be one of the following 
 formats
            nnnn;DPT( - VA Patient file entry
            nnnn;DSIR(19620.96, - DSIR NON-COMPUTERIZED RECORDS PATIENT
            1;DSIR(19620.95, - True FOIA requests
         
 Return: Global Array
  IEN^Patient Name^External Date Entered^Status^Requestor^SSN^Priority^FMDT
     ^Exemptions^Expedite Reqstd^Expedite Granted^Clerk Name
     ^Opened by Clerk Name^Internal Opened Date^External Open Date
     ^Last Closed Clerk^Internal Last Closed Date^External Last Closed Date
     ^Last Reopen Clerk^Internal Last Reopen Date^External Last Reopen Date
 PARAMETERS
  TYPE OF LIST
   TYPE:LITERAL
   "P"  : Get list by patient
  STATUS
   TYPE:LITERAL
   "A"  : Get only the appealed requests of this type
  PATIENT/CLERK ID
   TYPE:LITERAL
   DFN of patient or IEN of clerk.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  IEN^Patient Name^External Date Entered^Status^Requestor^SSN^Priority^FMDT
 EXTERNAL ROUTINES:
  

DSIR ADD/EDIT ROI - UPDATE^DSIROI
 Create new or update existing ROI Instance File 19620.
 PARAMETERS
  DATA ARRAY
   TYPE:LIST
   Input: DATA: Array
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return: AXY
 EXTERNAL ROUTINES:
  

DSIR REFORMAT REPORTS - FRMTRPT^DSIROIR
 This RPC will take a given report array and resize the length to fit into 
 a smaller print area.  It takes into account header and footer lines and 
 resizes the main body of the report.  It may return more pages than the 
 input array.  Example: Report A is 60 lines with 3 lines of header and 2 
 lines of footer.  Report A has 50 lines of body.  Report A needs to print 
 on a preprinted form that only allows for 40 lines of text.  Calling the 
 RPC will return an 80 line array that will have lines 1 through 3 being 
 header, lines 4 through 38 being text and lines 39 and 40 being footer.  
 Lines 41 through 43 will be copies of lines 1 through 3, lines 44 through 
 78 will be the remaining text with blank lines to fill to line 78 and 
 lines 79 and 80 will be copies of lines 39 and 40.  If there are blank 
 lines that can be removed from the bottom of the body to fit onto one 
 page they will be removed so that the report will fit.
 PARAMETERS
  NEW REPORT LENGTH
   TYPE:LITERAL
   This is the number of lines to format the old report into.
  HEADER COUNT
   TYPE:LITERAL
   This is the number of line at the top of the report that are considered 
  FOOTER COUNT
   TYPE:LITERAL
   This parameter tells the RPC how many lines are footer text.
  OLD LINE COUNT
   TYPE:LITERAL
   This parameter is needed for the RPC to know many lines per page are in 
  INCOMING (OLD) REPORT
   TYPE:LIST
   This is the array of the old report to be reformatted.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This RPC returns an array comprised of entries in the incoming array, 
 EXTERNAL ROUTINES:
  

DSIR ADD NONCOMP PAT - ADDNCPR^DSIROI0
 Routine for adding or updating an non-computerized patient for ROI.
 PARAMETERS
  NAME
   TYPE:LITERAL
   This is the patient name.
  SSN
   TYPE:LITERAL
   This is the patient Social Security Number
  DOB
   TYPE:LITERAL
   This is the date of birth used for unique identification.
  OVRD
   TYPE:LITERAL
   This is a flag (0 or 1) to override/bypass the lookups into xrefs.  If 
  NCPIEN
   TYPE:LITERAL
   This is the desired IEN. If this exists then it is an update not an add.
 RETURN VALUE
  TYPE: ARRAY
  Return values may be one of the following:
 EXTERNAL ROUTINES:
  

DSIR GET DOCUMENT TYPES - GETTYPE^DSIROI6
 Retrieve entries from file 19620.4 DSIR DOCUMENT TYPES
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Output: Array
 EXTERNAL ROUTINES:
  

DSIR DELETE REQUESTOR - DUPRQTR^DSIROI1
 This RPC is used to delete orphan requestors or repoint and delete 
 duplicate requestors.
  
 If the first parameter only is passed the routine will check to see that 
 the requestor is in fact not used then it will delete the requestor from 
 file 19620.12.
  
 If both the first and second parameters are passed the routine will check 
 to see that both are valid requestors and then will repoint all entries 
 that point to the requestor in parameter 1 to the requestor specified in 
 parameter 2.
  
 Input Parameters:
         1. Duplicate/Delete Requestor - IEN to file 19620.12 (Required)
         2. Repoint to Requestor - IEN to file 19620.12 (Optional)
  
 Return Values:
         -1^Missing Requestor IEN!
         -2^Must Repoint Requestors in Use!
         -3^Invalid Requestor #1
         -4^Invalid Requestor #2
         IEN passed in parameter 1 - Orphan Deleted
         IEN passed in parameter 2 - Duplicate repointed and deleted
 PARAMETERS
  DUPLICATE/ORPHAN
   TYPE:LITERAL
   This is the pointer to file 19620.12 of the entry to replace/delete.
  REPOINT TO
   TYPE:LITERAL
   When this parameter is passed it will become the new requestor in place 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values:
 EXTERNAL ROUTINES:
  

DSIR YEAR END FOIA REPORT - FOIA^DSIROIR0
 This RPC will collect the data for the year end FOIA report for VA Form
 0712.
 PARAMETERS
  START DATE
   TYPE:LITERAL
   The FileMan Format date to start the report.  Typically this will be 
  END DATE
   TYPE:LITERAL
   This is the end date for the report period.  Typically this will be 
  DIV
   TYPE:LITERAL
   This is the list of internal division for the current user.
  QUICK
   TYPE:LITERAL
   0 - Calculate the report and save the results if report for a fiscal year
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return array will have entries with 2 pieces.  The first piece will 
 EXTERNAL ROUTINES:
  

DSIR GET EXEMPTION 3 INFO - GETEXMT^DSIROI1
 This returns the values from fields 13.01 thru 13.1.
  
 13.01 - 13.04 are Y/N values indicated by 1 or 0.
 13.05 - 13.1 are free text upto 20 characters each.
 PARAMETERS
  ROI
   TYPE:LITERAL
   This is the internal pointer to file 19620.
 RETURN VALUE
  TYPE: ARRAY
  The array will consist of 5 elements.
 EXTERNAL ROUTINES:
  

DSIR COMP ACCOUNTING SUMMARY - CAS^DSIROIR1
 This RPC returns a list of all internal entry numbers from file 19620 for 
 a specified patient.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   The DFN of the selected patient.
  START DATE
   TYPE:LITERAL
   This is the FileMan date to start the report.  If it is null the routine 
  END DATE
   TYPE:LITERAL
   This is the FileMan date the report should stop counting.  If null the 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The array contains the internal numbers of the entries in file 19620.
 EXTERNAL ROUTINES:
  

DSIR GET DIVISIONS - GETDIVS^DSIROI1
 Return available Divisions for reporting.  Must be in the ADIV cross 
 reference on file 19620.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The array will be the format: IEN ^ NAME.
 EXTERNAL ROUTINES:
  

XOBV TEST STRING - STRRP^XOBVLT
 This simple RPC takes a string as input, adds some additional text 
 to the string and returns the string back to the client.
  
 This RPC is used as part of the test and learning application distributed
 as part of VistALink.
 PARAMETERS
  STRING
   TYPE:LITERAL
   A string to be returned back to the client.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the input parameter string with additional text added.
 EXTERNAL ROUTINES:
  

XOBV TEST GLOBAL ARRAY - GARRRP^XOBVLT
 This simple RPC takes an array as input, sets the array into a global 
 array and returns the global array information back to the client.
  
 This RPC is used as part of the test and learning application distributed 
 as part of VistALink.
 PARAMETERS
  ARRAY
   TYPE:LIST
   An array of information.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the input array information to the client after being placed in
 EXTERNAL ROUTINES:
  

XOBV TEST GLOBAL NODE - GNODERP^XOBVLT
 This simple RPC takes a string as input, sets it as a global node and
 returns the global node back to the client.
  
 This RPC is used as part of the test and learning application distributed
 as part of VistALink. 
 PARAMETERS
  STRING
   TYPE:LITERAL
   A single string of information.
 RETURN VALUE
  TYPE: GLOBAL INSTANCE
  Returns the input string of information to the client after being
 EXTERNAL ROUTINES:
  

XOBV TEST LOCAL ARRAY - LARRRP^XOBVLT
 This simple RPC takes an array as input, sets the array into a local 
 array and returns the local array information back to the client.
  
 This RPC is used as part of the test and learning application distributed 
 as part of VistALink.
 PARAMETERS
  ARRAY
   TYPE:LIST
   An array of information.
 RETURN VALUE
  TYPE: ARRAY
  Returns the input array information returned to the client after being
 EXTERNAL ROUTINES:
  

XOBV TEST WORD PROCESSING - WPRP^XOBVLT
 This simple RPC takes no input parameters and returns a 'chunk' of text.
 This RPC is used to test whether VistALink properly transports 'chunks' of
 text.
  
 This RPC is used as part of the test and learning application distributed
 as part of VistALink.
 PARAMETERS
 RETURN VALUE
  TYPE: WORD PROCESSING
  Returns a 'chunk' of text. (Lincoln's Gettysburg Address)
 EXTERNAL ROUTINES:
  

XOBV TEST PING - PINGRP^XOBVLT
 This simple RPC takes no input and returns a success message. This is the 
 primary mechanism to test whether the client successfully connects to
 an M server using VistALink.
                                       
 This RPC is used as part of the test and learning application distributed
 as part of VistALink.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a message that the execution of the RPC has been successful.
 EXTERNAL ROUTINES:
  

XOBV TEST RPC LIST - RPCRP^XOBVLT
 This RPC returns a list of RPC names that begin with the characters 
 indicated in the one input parameter.
  
 This RPC is used as part of the test and learning application distributed
 as part of VistALink.
 PARAMETERS
  PREFIX
   TYPE:LITERAL
   This parameter indicates the starting characters for the RPCs desired. 
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of RPC names all beginning with the prefix indicated by the
 EXTERNAL ROUTINES:
  LIST^DIC

XOBV TEST XML RESULTS - XMLRP^XOBVLT
 This simple RPC takes no input parameters and returns a 'chunk' of data 
 that is in XML format.
  
 This RPC is used to test whether VistALink properly transports and parses 
 application results in XML format.
  
 This RPC is used as part of the test and learning application distributed
 as part of VistALink.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a string in XML format.
 EXTERNAL ROUTINES:
  

XOBV TEST NOT IN CONTEXT - NOCNTXT^XOBVLT
 This RPC should not be used and returns the empty string (null).
  
 This RPC is used to test the 'not in RPC context' check. 
  
 For this reason, this RPC is specifically NOT in the 'XOBV VISTALINK
 TESTER' B-type option in the OPTION (#19) file.
  
 This RPC is used as part of the test and learning application distributed
 as part of VistALink.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the empty string.
 EXTERNAL ROUTINES:
  

PSB CHECK IV - RPC^PSBCHKIV
 RPC PSB CHECK IV - When given a patient's data file number(DFN), this 
 process will return infusing IV information pertaining to the given 
 DFN.  The information will be returned at the location presented by
 the "RESULTS" parameter.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient IEN
  ORDIV
   TYPE:LIST
   LIST OF ORDER NUMBERS
 RETURN VALUE
  TYPE: ARRAY
  RESULTS is an output array which will contain informaion about infusing 
 EXTERNAL ROUTINES:
  C^%DTC,NOW^%DTC,GETORD^PSBCHIVH,$$FNDLBLO^PSBVDLU2,CLEAN^PSBVT,PSJ1^PSBVT,EN^P
SJBCMA1,EN^PSJBCMA2

PSB VITALS - VITALS^PSBRPC
 Passes array of Vital entries - Temp,Pulse,Resp,BP,Pain in the last 7 days
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient IEN
 RETURN VALUE
  TYPE: ARRAY
  Results(0)=count
 EXTERNAL ROUTINES:
  NOW^%DTC,GRID^BEHOVM,$$FIND1^DIC,$$GET1^DIQ,EN1^GMRVUT0,$$FMADD^XLFDT,$$NOW^XL
FDT,$$GET^XPAR

PSB VITAL MEAS FILE - RPC^PSBVITFL
 This RPC has been built specifically to process the filing of BCMA 
 Pain Score data. The processing of other VITAL type may be incorporated 
 with some adjustments.
  
  
   This routine is to service BCMA 3.0 functionality and store VITALs'
   data into the VITAL MEASUREMENT FILE - ^GMR(120.5  using the API
   GMRVPCE0
   
   Parameters:
         Input  -        
                         DFN   (r) Pointer to the PATIENT (#2) file
                         RATE  (r)  BCMA trigger event/transaction
                         VTYPE (o) Pointer to GMRV VITAL TYPE FILE (#120.51)
                                   (default = Pain ["PN"])
                         DTTKN (o) Date/time (FileMan) measurment was taken
                                   (default = $$NOW^XLFDT())
  
        Output -         RESULTS(0) = 1
                         RESULTS(1) ="1^Pain Score successfully filed"
                   or    RESULTS(1) ="-1^ERROR * Pain Score NOT filed 
                                      successfully"
  
      Process results in the storing of VITAL Measurement rate into the VITAL
      MEASUREMENT FILE per the given patient and vital type.
 PARAMETERS
  PSBDFN
   TYPE:LITERAL
   PSBDFN presents the Pointer to the PATIENT File (#2) of the patient for 
  PSBRATE
   TYPE:LITERAL
   PSBRATE presents the numeric value associated with this vital 
  PSBVTYPE
   TYPE:LITERAL
   PSBVTYPE presents the type of measurement for this record and is a 
  PSBDTTKN
   TYPE:LITERAL
   DTTKN   (o) Date/time (FileMan) measurment was taken.  The default is NOW.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NOW^%DTC,YX^%DTC,SAVE^BEHOENPC,$$FIND1^DIC,STORE^GMRVPCE0,DEM^VADPT,IN5^VADPT,
$$FMTE^XLFDT,$$NOW^XLFDT,$$UP^XLFSTR,$$GET^XPAR

DSIC ACTIVE PERSON CLASS - PER^DSICDUZ
 This will return a user's active person class for a given date.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the user's DUZ value whose active person class is desired.
  DATE
   TYPE:LITERAL
   This is a Fileman date.time for the date to check for an active person 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return -1^message if problems or no active person class
 EXTERNAL ROUTINES:
  

ORRHCQ1 GETCNT - GETCNT^ORRHCQ1
 Returns the count of sensitive patients left to evaluate after a main
 query iteration run.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORRHCQ1 QRYSITR - QRYSITR^ORRHCQ1
 Similar to the main query iterator routine, except does not process
 the patients marked as sensitive, and saves them off without
 screening them.  Subsequent routines are called to manage the list
 and process those selected for reporting.
 PARAMETERS
  ITERATOR
   TYPE:LITERAL
   Iterator that was returned from the last call to this routine.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns PtSearched^RecordsFound^Iterator; use the Iterator returned
 EXTERNAL ROUTINES:
  $$NXTITER^ORRHCQ,$$PTSCRN^ORRHCQ,$$QRYPT^ORRHCQ

ORRHCQ1 QSITR - QSITR^ORRHCQ1
 Iterates through sensitive patients identified in a query tool report.
 Screens patients based on report criteria, and reports sensitive
 patients as necessary.
 PARAMETERS
  Iterator
   TYPE:LITERAL
   Iterator to tell the routine from which patient to perform the search.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns PtSearched^RecordsFound^Iterator; use the Iterator returned in 
 EXTERNAL ROUTINES:
  NOTICE^DGSEC4,$$PTSCRN^ORRHCQ,$$QRYPT^ORRHCQ

ORRHCQ1 GETSPT - GETSPT^ORRHCQ1
 Gets sensitive patients from a query tool cohort, where the patients
 have not yet been screened.
 PARAMETERS
  Start
   TYPE:LITERAL
   Starting position, specified by Name!DFN.  For example:
  Length
   TYPE:LITERAL
   Length of the return array from this routine.
 RETURN VALUE
  TYPE: ARRAY
  List of items in the format DFN^Patient Name^Sensitivity Level, sorted
 EXTERNAL ROUTINES:
  

ORRHCQ1 GETSLN - GETSLN^ORRHCQ1
 When a query executes, the sensitive patients are saved off before they
 are evaluated, along with the sensitive information gathered from
 the routine PTSEC^DGSEC4.  This RPC returns the sensitive message text
 for the given patient when this query attempted to query their record.
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN of the sensitive patient.
 RETURN VALUE
  TYPE: ARRAY
  Sensitive information text returned by PTSEC^DGSEC4 for this patient.
 EXTERNAL ROUTINES:
  

ORRHCQ1 DELSEN - DELSEN^ORRHCQ1
 Deletes the sensitive patient from the sensitive patient list generated
 for the currently executing query.  No further evaluation of the 
 patients record will take place.
 PARAMETERS
  DFN
   TYPE:LITERAL
   The DFN of the record to remove.
 RETURN VALUE
  TYPE: SINGLE VALUE
  1=Success, -1=Failure
 EXTERNAL ROUTINES:
  

ORRHCU DFLDMAP - DFLDMAP^ORRHCU
 Returns a mapping from criteria categories to display field categories
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The returned array is a mapping in the form A=B, where A is the criteria
 EXTERNAL ROUTINES:
  

XHD DELETE PARAMETER CATEGORY - DELETE^XHDPCAT
 This call deletes parameter categories from the M backing store. If the 
 second parameter, DELKIDS is passed as "1" (boolean true by M programming 
 convention), all descendents of the category in question will also be 
 deleted.
 PARAMETERS
  PCAT
   TYPE:LITERAL
   This is the record number (i.e., IEN) of the parameter category to be 
  DELKIDS
   TYPE:LITERAL
   This boolean flag indicates whether to delete all descendents of the 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Error condition. Returns 0 if the category was successfully deleted, or
 EXTERNAL ROUTINES:
  

XHD GET ALL PARAMETER DEFS - GETXML^XHDPDEF
 Returns all Parameter Definitions.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XHD GET CONFIGURATION - GETTREE^XHDPTREE
 Returns Configuration tree as XML in the following format:
 PARAMETERS
  MODULEID
   TYPE:LITERAL
   This is the module id for the module in question.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns XML in the following format:
 EXTERNAL ROUTINES:
  

XHD GET MUTABLE CONFIGURATION - GETTREE^XHDPMUT
 Returns Configuration tree as XML in the following format:
 PARAMETERS
  MODULEID
   TYPE:LITERAL
   This is the module id for the module in question.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns XML in the following format:
 EXTERNAL ROUTINES:
  

XHD GET PARAMETER DEF LIST - GETALL^XHDPDEF
 Gets all parameter definitions as a list with IEN^NAME^DISPLAY NAME in 
 each node of the return array.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XHD GET PARAMETER DEFINITION - GETXML^XHDPDEF
 This call returns an XML representation of a Parameter Definition.
 PARAMETERS
  XHDDA
   TYPE:LITERAL
   This is the IEN of the parameter in the Parameter Definition File 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This is an XML representation of the Parameter Definition.
 EXTERNAL ROUTINES:
  

XHD GET PARAMETER DEFINITIONS - LIST^XHDPDEF
 Gets parameter definitions as a list with IEN^NAME^DISPLAY NAME^ENTITYLIST
 in each node of the return array. This call returns a local array of SIZE 
 elements in DIR direction from the initial Definition FROM.
 PARAMETERS
  FROM
   TYPE:LITERAL
   This is the definition from which the list should begin (i.e., inclusive 
  DIR
   TYPE:LITERAL
   OPTIONAL parameter. This is the DIRECTION from the origin in which the 
  SIZE
   TYPE:LITERAL
   This is the number of definitions that should be returned with each 
 RETURN VALUE
  TYPE: ARRAY
  A local array of Parameter Definitions is returned with the following 
 EXTERNAL ROUTINES:
  

XHD INSERT PARAMETER CATEGORY - INSERT^XHDPCAT
 Inserts new parameter categories.
 PARAMETERS
  PARAMS
   TYPE:LIST
   This is the list of fields, subscripted by Field Name.
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is an error flag, the first piece will be 0 if no error occurs 
 EXTERNAL ROUTINES:
  

XHD PUT PARAMETER - PUT^XHDPARAM
 Call PUT^XPAR or PUTWP^XPAR to file a given parameter.
 PARAMETERS
  KEY
   TYPE:LITERAL
   This is the key for the parameter.
  VALUE
   TYPE:LIST
   This is the value of the parameter.
 RETURN VALUE
  TYPE: SINGLE VALUE
  An Error condition.
 EXTERNAL ROUTINES:
  EN^XPAR

XHD REMOVE PARAMETER CATEGORY - REMOVE^XHDPCAT
 This call removes parameter categories from their parents (i.e., "prunes" 
 the branch of which the the category is the root). It does NOT delete the 
 Category or its descendents. Use the ORR DELETE PARAMETER CATEGORY to 
 delete a given categor and all its descendents.
 PARAMETERS
  PCAT
   TYPE:LITERAL
   This is the record number (i.e., IEN) of the parameter category.
  PARENT
   TYPE:LITERAL
   This is the record number (i.e., IEN) of the parameter category's parent.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Error condition. Returns 0 if the category was successfully removed from 
 EXTERNAL ROUTINES:
  

XHD UPDATE PARAMETER CATEGORY - UPDATE^XHDPCAT
 This call updates ParameterCategories.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UPDATE^DIE

XHD GET SITE INFO - SITE^XHDLSITE
 Returns Division and Integration names and IDs.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns DIVISION ID^SITE NAME^PRIMARY STATION ID^INTEGRATION NAME.
 EXTERNAL ROUTINES:
  $$NAME^VASITE,$$SITE^VASITE

XHD GET USER DEMOGRAPHICS - BYPASS^XHDAUTH
 Returns same demographics as XHD AUTHORIZE, w/o the authorization step. 
 Used to populate the JAAS Subject when the SharedBroker is in use. 
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  <result xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
 EXTERNAL ROUTINES:
  

XHDX PERSEL - PERSEL^XHDX
 This returns the list of perspective id's that should be visible for the
 current user.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The list returned contains the perspective ids, sorted in the order they
 EXTERNAL ROUTINES:
  $$GET^XPAR

XHDX VERSRV - VERSRV^XHDX
 Returns a list of options and the associated version numbers.  The list of
 options is passed in.  Returns is a list of OptionName^VersionNumber.  The
 version number must be the last space piece in the MENU TEXT of the option.
 PARAMETERS
  OPT
   TYPE:LIST
   A list of option names.
 RETURN VALUE
  TYPE: ARRAY
  A list were each line is OptionName^VersionNumber
 EXTERNAL ROUTINES:
  FIND^DIC

XHD TEST INPUT LIST - INLST^XHDTST
 This RPC returns the list that it's been passed. It's for test purposes 
 only.
 PARAMETERS
  ORX
   TYPE:LIST
   This is the input list.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ORY is the list that's returned. It will match the input list.
 EXTERNAL ROUTINES:
  XMLFOOT^XHDLXM,XMLHDR^XHDLXM,$$REPLACE^XLFSTR

ORRC PHY DASHBD PATIENTS - EN^ORRCDPT
 This call returns a list of patients with recent activity (new results
 or ADT movements) or items that need attention (tasks that are due or
 unsigned orders and notes) for the specified user.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns a list of patients for the Clinician Dashboard that are 
 EXTERNAL ROUTINES:
  TEAMPTS^ORQPTQ1,DEFLIST^ORQPTQ11,CLINPTS^ORQPTQ2,$$UP^XLFSTR,$$GET^XPAR

ORRC RESULTS BY PATIENT - LIST^ORRCACK
 This call returns a list of orders for a patient placed by the user, that
 have new unacknowledged results.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
  RESULTS
   TYPE:LITERAL
   This flag indicates whether to return the results with each order (true)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns a list of orders for PATIENT that were placed by USER
 EXTERNAL ROUTINES:
  TEXT^ORQ12,$$FMTHL7^XLFDT

ORRC RESULTS BY ID - RESULT^ORRCACK
 This call returns the results for a list of orders.
 PARAMETERS
  ORDERS
   TYPE:LIST
   This is the list of order ID's for which to return results, in the form
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns the list of order ID's and the results of each, in the 
 EXTERNAL ROUTINES:
  TEXT^ORQ12,$$FMTHL7^XLFDT

ORRC RESULTS ACKNOWLEDGE - ACK^ORRCACK
 This call will mark new results as being acknowledged by the user; it
 will return a true or false value for each order ID if successfully saved.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  ORDERS
   TYPE:LIST
   This is the list of order ID's whose results may be acknowledged, in the
 RETURN VALUE
  TYPE: ARRAY
  This call returns the list of order ID's passed into the ORDERS input
 EXTERNAL ROUTINES:
  ^DIE,RSLT^ORRCXQ

ORRC TASKS BY PATIENT - LIST^ORRCTSK
 This call returns a list of tasks for a patient that are not yet
 completed.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200; if defined
  DUE
   TYPE:LITERAL
   This is a date in the format YYYYMMDD[HHMMSS]; if defined, then only
 RETURN VALUE
  TYPE: ARRAY
  This call returns a list of incomplete tasks, in the form:
 EXTERNAL ROUTINES:
  $$FMTHL7^XLFDT,$$HL7TFM^XLFDT

ORRC TASKS BY ID - DETAIL^ORRCTSK
 This call returns the details of the tasks requested in the list of ID's
 passed in.
 PARAMETERS
  TASKS
   TYPE:LIST
   This is the list of task identifiers, as TSK:## where ## is the pointer
 RETURN VALUE
  TYPE: ARRAY
  This call returns a list of incomplete tasks, in the form:
 EXTERNAL ROUTINES:
  $$FMTHL7^XLFDT

ORRC TASK ADD - NEW^ORRCTSK
 This call will accept data to create a new entry in the Patient Task
 file #102.3 and return the new identifier.
 PARAMETERS
  DATA
   TYPE:LITERAL
   This is a string of 
 RETURN VALUE
  TYPE: SINGLE VALUE
  This call returns either the identifier of the new task created in the
 EXTERNAL ROUTINES:
  FILE^DICN,$$NOW^XLFDT

ORRC TASK EDIT - EDIT^ORRCTSK
 This call will update patient tasks using the data strings passed in, and
 return a true or false flag with each ID indicating if the update was
 successful.
 PARAMETERS
  TASKS
   TYPE:LIST
   This is a string of 
 RETURN VALUE
  TYPE: ARRAY
  This call returns a list of the task identifiers passed into the call as
 EXTERNAL ROUTINES:
  

ORRC TASK COMPLETE - COMP^ORRCTSK
 This call accepts a list of patient task ID's to be marked as completed.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  TASKS
   TYPE:LIST
   This is a list of task identifiers in the form TSK:##, where ## is the
 RETURN VALUE
  TYPE: ARRAY
  This call returns a list of the task identifiers passed into the call as
 EXTERNAL ROUTINES:
  ^DIE

ORRC TASK SUBJECTS BY PT - SUBJ^ORRCTSK
 This call returns a list of the subjects previously used for tasks on
 this patient.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
 RETURN VALUE
  TYPE: ARRAY
  This call returns a list of text subjects previously used for this
 EXTERNAL ROUTINES:
  

ORRC UNSIGNED BY ID - DETAIL^ORRCSIG
 This call returns the details of a list of orders and/or documents.
 PARAMETERS
  ITEMS
   TYPE:LIST
   This is the list of ID's of each item to return details for, in the form
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns a list of orders and documents for the Physician
 EXTERNAL ROUTINES:
  DETAIL^ORRCOR,TEXT^ORRCTIU

ORRC EVENTS BY ID - TEXT^ORRCEVT
 This call returns the text of the documents associated with the events
 in the ID list passed in.
 PARAMETERS
  EVENTS
   TYPE:LIST
   This is the list of alert IDs in the format "VST:"_ID where ID is the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns the list of event IDs and the text of the document
 EXTERNAL ROUTINES:
  DETNOTE^ORQQVS,$$TXT^ORRCOR,ORD^ORRCOR,$$MSGTXT^ORRCXQ,$$GETENC^PXAPI,$$FMTHL7
^XLFDT,$$NOW^XLFDT

ORRC EVENTS ACKNOWLEDGE - CLEAR^ORRCEVT
 This call will clear the event alerts for this user, and return a true
 or false value for each ID if successful.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  ALERTS
   TYPE:LIST
   This is the list of alert IDs to be cleared, in the form "VST:"_ID where
 RETURN VALUE
  TYPE: ARRAY
  This call returns the list of alert IDs passed in along with a flag
 EXTERNAL ROUTINES:
  DELETE^ORRCXQ

ORRC SIGN - SIGN^ORRCSIG
 This call will apply the user's electronic signature to the orders and 
 documents in the ITEM array. It will return a boolean result for each 
 item (indicating success or failure), with explanatory text in the event 
 the call fails.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  LOC
   TYPE:LITERAL
   The hospital location. Essential in the OE/RR 3 for printing of orders,
  ESCODE
   TYPE:LITERAL
   The network encrypted signature code of the person identified in ORNP. 
  ITEM
   TYPE:LIST
   The array of items to which the electronic signature is being applied. 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  in @ORY@(#) = ID^Success Indicator^Error Message (if 'Success).
 EXTERNAL ROUTINES:
  SIGN^TIUSRVP

ORRC RESULTS BY DATE - LISTD^ORRCACK
 This call returns a list of orders for a patient with new results within
 a given time frame, that have not been acknowledged by the user.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  START
   TYPE:LITERAL
   This is the date to start searching for orders, in the form YYYYMMDDHHMMSS.
  STOP
   TYPE:LITERAL
   This is the date to stop searching for orders, in the form YYYYMMDDHHMMSS.
  RESULTS
   TYPE:LITERAL
   This flag indicates whether to return the results with each order (true)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns a list of orders for PATIENT that were placed between
 EXTERNAL ROUTINES:
  TEXT^ORQ12,$$FMTHL7^XLFDT

ORRC APPTS BY PATIENT - APPT^ORRCEVT
 This call returns a list of the patient's appointments, including
 scheduled procedures, within a given time frame.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
  START
   TYPE:LITERAL
   This is the date to start searching for appointments, in the form
  STOP
   TYPE:LITERAL
   This is the date to stop searching for appointments, in the form
  DETAILS
   TYPE:LITERAL
   This flag indicates whether to return the details or note text with each
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns the list of appointment ID's, and optionally the details
 EXTERNAL ROUTINES:
  EN^ORQ1,DETNOTE^ORQQVS,$$STS^ORRCOR,$$TXT^ORRCOR,ORD^ORRCOR,VST^ORWCV,$$GETENC
^PXAPI,$$FMTHL7^XLFDT,$$HL7TFM^XLFDT,$$NOW^XLFDT

ORRC ORDERS BY PATIENT - LIST^ORRCOR
 This call returns a list of orders for a patient by various views.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
  TYPE
   TYPE:LITERAL
   This is a 3-letter string identifying the type of orders to be returned:
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200; it is required
  DETAILS
   TYPE:LITERAL
   This flag indicates whether to return the details with each order (true),
  START
   TYPE:LITERAL
   This is the date to start searching for orders, in the form YYYMMDDHHMMSS.
  STOP
   TYPE:LITERAL
   This is the date to stop searching for orders, in the form YYYMMDDHHMMSS.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns a list of orders, and optionally the details of each,
 EXTERNAL ROUTINES:
  EN^ORQ1,TEXT^ORQ12,$$FMTHL7^XLFDT,$$HL7TFM^XLFDT

ORRC VITALS BY PATIENT - LIST^ORRCVIT
 This call returns recent vitals measurements taken for the patient.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
  START
   TYPE:LITERAL
   This is the date to start searching for vitals, in the form YYYYMMDDHHMMSS;
  STOP
   TYPE:LITERAL
   This is the date to stop searching for vitals, in the form YYYYMMDDHHMMSS;
  DETAILS
   TYPE:LITERAL
   This flag indicates whether to return the details of each vital sign
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns recent sets of vitals measurements for a patient, in the
 EXTERNAL ROUTINES:
  EN1^GMRVUT0,$$HL7TFM^XLFDT

ORRC NURS DASHBD PATIENTS - EN^ORRCDPT1
 This call returns a list of patients with recent activity (new results,
 vitals, or appointments) or items that need attention (tasks that are due,
 generic text or unverified orders) for nursing users.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  LIST
   TYPE:LIST
   These are the lists from which to return patients with data, in the form 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns a list of patients for the Nursing Dashboard that are 
 EXTERNAL ROUTINES:
  TEAMPTS^ORQPTQ1,DEFLIST^ORQPTQ11,$$UP^XLFSTR,$$GET^XPAR

ORRC VITALS BY ID - DETAIL^ORRCVIT
 This call returns the details of the measurement sets requested in the
 list of ID's passed in.
 PARAMETERS
  VITALS
   TYPE:LIST
   This is the list of measurement set identifiers, as VIT:ID where ID is
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns the values of the requested vitals measurements for a
 EXTERNAL ROUTINES:
  EN1^GMRVUT0

ORRC EVENTS BY PATIENT - LIST^ORRCEVT
 This call returns a list of the patient's alerted events.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  DETAILS
   TYPE:LITERAL
   This flag indicates whether to return the details or note text with each
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns the list of event ID's, and optionally the details or
 EXTERNAL ROUTINES:
  $$FMTHL7^XLFDT,USER^XQALERT

ORRC ORDERS BY ID - DETAIL^ORRCOR
 This call returns the Detailed Display report for the given order IDs.
 PARAMETERS
  ORDERS
   TYPE:LIST
   This is the list of order IDs in the form ORx:##, where x denotes the view
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns the list of orders with the Detailed Display report of
 EXTERNAL ROUTINES:
  TEXT^ORQ12,$$FMTHL7^XLFDT

ORRC ORDERS VERIFY - VERIFY^ORRCOR
 This call accepts a list of order IDs to be marked as verified.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  ORDERS
   TYPE:LIST
   This is a list of order identifiers in the form ORV:order#;action#, where
 RETURN VALUE
  TYPE: ARRAY
  This call returns a list of the order identifiers passed into the call as
 EXTERNAL ROUTINES:
  CKALERT^ORCACT1,REPLCD^ORCACT1,EN^ORCSEND,$$LOCK1^ORX2,UNLK1^ORX2,$$FMTE^XLFDT
,$$UP^XLFSTR,$$NAME^XUSER

ORRC ORDERS COMPLETE - COMP^ORRCOR
 This call accepts a list of order IDs to be marked as completed.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  ORDERS
   TYPE:LIST
   This is a list of order identifiers in the form ORN:order#;action# where
 RETURN VALUE
  TYPE: ARRAY
  This call returns a list of the order identifiers passed into the call as
 EXTERNAL ROUTINES:
  COMP^ORCSAVE2,$$LOCK1^ORX2,UNLK1^ORX2,$$NOW^XLFDT

ORRCQLPT PTDFN - PTDFN^ORRCQLPT
 RETURNS THE DFN GIVEN A REPORT LINE IDENTIFIER
 PARAMETERS
  OID
   TYPE:LITERAL
   QUERY REPORT LINE IDENTIFIER
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORRCQLPT PTDEMOS - PTDEMOS^ORRCQLPT
 Returns patient demographics info in the form:
 <dfn>^<name>^<ssn>^<dob>^<age>
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DEM^VADPT,$$FMTHL7^XLFDT

ORRC DASHBOARD PATIENTS - MAIN^ORRCDPT
 This call returns a list of patients with recent activity or items that
 need attention for the specified user.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  LIST
   TYPE:LIST
   These are the lists from which to return patients with data, in the form 
  TYPE
   TYPE:LITERAL
   This is the type of dashboard view desired, (C)linician or (N)urse.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns a list of patients for the Care Management Dashboards
 EXTERNAL ROUTINES:
  EN^ORRCDPT1,$$UP^XLFSTR

ORRC ALERTS BY PATIENT - PAT^ORRCXQ
 This call returns a list of the patient's non-ADT alerts.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This call returns the list of alert ID's, in the form:
 EXTERNAL ROUTINES:
  $$PARAM^ORRCACK,$$FMTHL7^XLFDT,USER^XQALERT

ORRC TASKS DUE BY PATIENT - DUE^ORRCTSK
 This call returns a list of tasks for a patient that are now due.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to the patient in the Patient file #2.
 RETURN VALUE
  TYPE: ARRAY
  This call returns a list of tasks that are due, in the form:
 EXTERNAL ROUTINES:
  $$FMTHL7^XLFDT

ORRC TASK CANCEL - CANC^ORRCTSK
 This call accepts a list of patient task ID's to be marked as canceled.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the pointer to the user in the New Person file #200.
  TASKS
   TYPE:LIST
   This is a list of task identifiers in the form TSK:##, where ## is the
 RETURN VALUE
  TYPE: ARRAY
  This call returns a list of the task identifiers passed into the call as
 EXTERNAL ROUTINES:
  ^DIE

ORIMO IMOLOC - IMOLOC^ORIMO
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$SDIMO^SDAMA203,SDIMO^SDAMA203,$$PATCH^XPDUTL

ORIMO IMOOD - IMOOD^ORIMO
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS4 IPOD4OP - IPOD4OP^ORWDPS4
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS4 UPDTDG - UPDTDG^ORWDPS4
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWOR ACTION TEXT - ACTXT^ORWOR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ACT^ORQ20

ORQQPXRM GEC DIALOG - GEC^ORQQPXRM
 This RPC will evaluate the Reminder Dialogs as the Finish button is click
 for the GEC Project. THis RPC will return an error messages if the four
 GEC Reminder Dialogs are done out of order.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the Reminder Definition IEN or the Reminder Dialog IEN
  DFN
   TYPE:LITERAL
   Patient DFN
  Visit
   TYPE:LITERAL
   This is the Visit Encounter String
  NOTEIEN
   TYPE:LITERAL
   NOTEIEN is the progress Note IEN in file 8925.
 RETURN VALUE
  TYPE: SINGLE VALUE
  A single string that will return a value to set in the V HF file an error
 EXTERNAL ROUTINES:
  $$STATUS^PXRMGECU,API^PXRMGECU,FINISHED^PXRMGECU

ORWDXR01 CANCHG - CANCHG^ORWDXR01
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXR01 SAVCHG - SAVCHG^ORWDXR01
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETBYIFN^ORWORR,$$UP^XLFSTR

ORQQPXRM GEC FINISHED? - GECF^ORQQPXRM
 This RPC pass a boolean value to PXRMGECU
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the Patient DFN
  FIN
   TYPE:LITERAL
   Fin is a 1 or 0
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FINISHED^PXRMGECU

ORQQPXRM CHECK REM VERSION - REMVER^ORQQPXRM
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Single value
 EXTERNAL ROUTINES:
  $$VERSION^XPDUTL

ORQQPXRM GEC STATUS PROMPT - GECP^ORQQPXRM
 This remote procedure will return the text value to display in CPRS of the 
 status of the current GEC Referral.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$STATUS^PXRMGECU

ORWDXM3 ISUDQO - ISUDQO^ORWDXM3
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ROR REPORT RETRIEVE - GETXML^RORRP011
 The ROR REPORT RETRIEVE remote procedure returns an array that contains
 the report (in XML format) generated by the task.
 PARAMETERS
  TASK
   TYPE:LITERAL
   Task number returned either by the ROR REPORT SCHEDULE or ROR TASK LIST
  FROM
   TYPE:LITERAL
   A string that indicates where to start/continue the rendering process. It 
  MAXSIZE
   TYPE:LITERAL
   Either the maximum number of lines to retrieve or the maximum size of the
  SORT
   TYPE:LIST
   The SORT list defines how the different parts of the report are sorted.
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  CLEAR^RORERR,RPCSTK^RORERR,$$ALLOC^RORTMP,$$XMLREP^RORTSK10,$$RTRNFMT^XWBLIB

ROR REPORT SCHEDULE - SCHEDREP^RORRP010
 Schedules the report and returns the task information.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   Registry IEN (if $G(REGIEN)'>0 the task will not be associated with any
  RPTCODE
   TYPE:LITERAL
   Code of the report (value of the CODE field of the report descriptor in
  ZTDTH
   TYPE:LITERAL
   Date/time to start the task (external value). By default (if $G(ZDTH)=""),
  PARAMS
   TYPE:LIST
   Report parameters in XML format. For example:
  SCHCODE
   TYPE:LITERAL
   Rescheduling code ("1D", "1M", "D@12:00", etc).
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  CLEAR^RORERR,RPCSTK^RORERR,$$CREATE^RORTSK,$$PARSEPRM^RORTSK13,$$RPINFO^RORUTL
08

ROR TASK INFO - TASKINFO^RORRP010
 The ROR TASK INFO remote procedure returns the information about the task
 started from the GUI.
 PARAMETERS
  TASK
   TYPE:LITERAL
   A valid task number should be assigned to the TASK parameter.
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  CLEAR^RORERR,RPCSTK^RORERR,$$TASKINFO^RORTSK02,$$TIN^RORTSK02

ROR TASK LIST - TASKLIST^RORRP010
 The ROR TASK LIST remote procedure returns a list of user's tasks 
 scheduled from the GUI.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the 
  TYPE
   TYPE:LITERAL
   The TYPE parameter defines which tasks (1-Generic, 2-Report) are returned
  USER
   TYPE:LITERAL
   A user IEN (DUZ) can be assigned to the USER parameter. Only tasks
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  CLEAR^RORERR,RPCSTK^RORERR,$$ALLOC^RORTMP,$$LIST^RORTSK02,$$TASKINFO^RORTSK02,
$$TIN^RORTSK02

ROR GUI ACCESS - ACREGLST^RORRP013
 The ROR ACCESS remote procedure returns a list of registries that the 
 user has access to (the user has appropriate security keys).
 PARAMETERS
  USER
   TYPE:LITERAL
   User IEN in the NEW PERSON file. By default (if $G(USER)'>0), the DUZ is
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  BLD^DIALOG,GETS^DIQ,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,ACV
IOLTN^RORLOG

ROR TASK DELETE - DELTASK^RORRP010
 The ROR TASK DELETE remote procedure completely deletes the task.
 PARAMETERS
  TASK
   TYPE:LITERAL
   A valid task number should be assigned to the TASK parameter.
 RETURN VALUE
  TYPE: SINGLE VALUE
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  CLEAR^RORERR,RPCSTK^RORERR,$$DEQUEUE^RORTSK

ROR LOG GET LIST - LOGLIST^RORRP007
 The ROR LOG GET LIST remote procedure returns a list of logs associated 
 with the registry in the provided time frame.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  STDT
   TYPE:LITERAL
   The STDT parameter defines the start date for the search of the log 
  ENDT
   TYPE:LITERAL
   The ENDT parameter defines the end date for the search of the log
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$ALLOC^RORTMP,$$FMADD^XLFDT

ROR LOG GET MESSAGES - MSGLIST^RORRP007
 The ROR LOG GET MESSAGES remote procedure returns a list of messages from
 the log defined by the parameter.
 PARAMETERS
  LOGIEN
   TYPE:LITERAL
   The LOGIEN parameter defines the log. It should contain a valid IEN of the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ROOT^DILFD,GETS^DIQ,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$ALLOC^RORTMP

ROR GUI PARAMETER GET - GETPARM^RORRP038
 The ROR GUI PARAMETER GET remote procedure retrieves the value of the GUI
 parameter.
 PARAMETERS
  INSTANCE
   TYPE:LITERAL
   The INSTANCE parameter defines the instance name of the GUI parameter. It 
  ENTITY
   TYPE:LITERAL
   The ENTITY parameter defines the area(s) where the parameter value is
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,DEL^XPAR,GETWP^XPAR

ROR GUI PARAMETER SET - SETPARM^RORRP038
 The ROR GUI PARAMETER SET remote procedure stores the parameter value and
 associates it with the provided entity (see the DBIA #2263 for more 
 details).
 PARAMETERS
  INSTANCE
   TYPE:LITERAL
   The INSTANCE parameter defines the instance name of the GUI parameter. It 
  ENTITY
   TYPE:LITERAL
   The ENTITY parameter defines the context that the parameter value is
  VALUE
   TYPE:LIST
   The VALUE parameter defines the value of the GUI parameter. It should be
 RETURN VALUE
  TYPE: SINGLE VALUE
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,PUT^XPAR

ROR LOG GET ACCESS VIOLATIONS - AVLIST^RORRP013
 The ROR LOG GET ACCESS VIOLATIONS remote procedure returns the list of
 access violation events recorded in the provided time frame.
 PARAMETERS
  STDT
   TYPE:LITERAL
   The STDT parameter defines the start date for the search of the events. By
  ENDT
   TYPE:LITERAL
   The ENDT parameter defines the end date for the search of the events. By
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ROOT^DILFD,$$GET1^DIQ,GETS^DIQ,CLEAR^RORERR,$$ALLOC^RORTMP,$$FMADD^XLFDT

ROR LIST REGISTRY USERS - USERLIST^RORRP013
 The ROR GET REGISTRY USERS remote procedure returns the list of registry 
 users (VistA users who have the appropriate security keys).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$ALLOC^RORTMP,FREE^RORTM
P

ROR GET REGISTRY INFO - REGINFO^RORRP014
 The ROR GET REGISTRY INFO remote procedure returns basic information about
 the registry.
 PARAMETERS
  REGISTRY
   TYPE:LITERAL
   The REGISTRY parameter should contain either a registry IEN or a registry 
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$EXTERNAL^DILFD,GETS^DIQ,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORE
RR,$$REGIEN^RORUTL02,$$UP^XLFSTR,$$LAST^XPDUTL,$$VERSION^XPDUTL

ROR REPORTS AVAILABLE - RPAVAIL^RORRP011
 The ROR REPORTS AVAILABLE remote procedure returns a list of reports (and 
 their parameters) available for the registry.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$XMLHDR^MXMLUTL,CLEAR^RORERR,RPCSTK^RORERR,$$RPINFO^RORUTL08,$$RPLIST^RORUTL0
8

ROR LIST DIVISIONS - DIVLIST^RORRP015
 The ROR LIST DIVISIONS remote procedure returns a list of divisions 
 defined in the MEDICAL CENTER DIVISION file (#40.8).
 PARAMETERS
  PART
   TYPE:LITERAL
   The partial match restriction.
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Maximum number of entries to return. A value of "*" or no value in this 
  FROM
   TYPE:LITERAL
   The index entry(s) from which to begin the list
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^RORERR,CLEAR^RORERR,RPCSTK^RORERR

ROR LIST HOSPITAL LOCATIONS - HLOCLIST^RORRP015
 The ROR LIST HOSPITAL LOCATIONS remote procedure returns a list of 
 hospital locations (defined in the HOSPITAL LOCATION file), which conform
 the criteria.
 PARAMETERS
  PART
   TYPE:LITERAL
   The partial match restriction.
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Maximum number of entries to return. A value of "*" or no value in this 
  FROM
   TYPE:LITERAL
   The index entry(s) from which to begin the list
  HLTYPES
   TYPE:LITERAL
   List of location types separated by commas (internal values of the TYPE
  DIVIEN
   TYPE:LITERAL
   Division IEN. If this parameter is defined and greater than zero then only
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$UP^XLFSTR

ROR LIST ICD-9 - ICD9LIST^RORRP016
 The ROR LIST ICD-9 remote procedure returns a list of ICD-9 codes (from
 the ICD DIAGNOSIS or ICD OPERATION/PROCEDURE file), which conform the
 criteria.
 PARAMETERS
  PART
   TYPE:LITERAL
   The partial match restriction.
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Maximum number of entries to return. A value of "*" or no value in this 
  FROM
   TYPE:LITERAL
   The index entry(s) from which to begin the list
  DATE
   TYPE:LITERAL
   Date for the code set versioning.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  CLEAR^RORERR,RPCSTK^RORERR

ROR LIST VA DRUG CLASSES - VACLSLST^RORRP017
 The ROR LIST VA DRUG CLASSES remote procedure returns a list of VA drug 
 classes (defined in the VA DRUG CLASS file), which conform to the search
 criteria.
 PARAMETERS
  PARENT
   TYPE:LITERAL
   Reserved
  PART
   TYPE:LITERAL
   The partial match restriction.
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Deprecated
  FROM
   TYPE:LITERAL
   Deprecated
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  C^PSN50P65,IEN^PSN50P65,CLEAR^RORERR,$$ALLOC^RORTMP,FREE^RORTMP

ROR LIST LABORATORY TESTS - LABTLIST^RORRP018
 The ROR LIST LABORATORY TESTS remote procedure returns a list of 
 laboratory tests (defined in the LABORATORY TEST file), which conform the 
 criteria.
 PARAMETERS
  SUBSCR
   TYPE:LITERAL
   List of test subscripts separated by commas (internal values of the 
  PART
   TYPE:LITERAL
   The partial match restriction.
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Maximum number of entries to return. A value of "*" or no value in this 
  FROM
   TYPE:LITERAL
   The index entry(s) from which to begin the list
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  LIST^DIC,$$GET1^DIQ,$$DBS^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$ALLOC^RORTMP,FRE
E^RORTMP,$$UP^XLFSTR

ROR LOG INFO - LOGINFO^RORRP007
 The ROR LOG INFO remote procedure returns the log information.
 PARAMETERS
  LOGIEN
   TYPE:LITERAL
   The LOGIEN parameter defines the log.
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  RPCSTK^RORERR

ROR REPORT STYLESHEET - GETXSL^RORRP011
 The ROR REPORT STYLESHEET remote procedure retrieves the XSL stylesheet 
 associated with the report. If there is no stylesheet available, the 
 default one is returned.
 PARAMETERS
  RPTCODE
   TYPE:LITERAL
   Code of the report (value of the CODE field of the report descriptor in
  TYPE
   TYPE:LITERAL
   The TYPE parameter defines the type of requested stylesheet:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  BLD^DIALOG,CLEAR^RORERR,$$ALLOC^RORTMP

ROR TASK VALIDATE RESCHEDULING - VALIDSCH^RORRP012
 The ROR TASK VALIDATE RESCHEDULING remote procedure validates the 
 rescheduling code and returns the next date/time to run.
 PARAMETERS
  SCHCODE
   TYPE:LITERAL
   Rescheduling code ("1D", "1M", "D@12:00", etc).
  SCHDT
   TYPE:LITERAL
   Date when a task is scheduled to run for the first time (FileMan). By 
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  $$FMDIFF^XLFDT,$$NOW^XLFDT,$$SCH^XLFDT

ROR LIST PATIENTS - PTLIST^RORRP019
 The ROR LIST PATIENTS remote procedure returns either a list patients from
 the PATIENT file (#2) or a list of registry patients who conform the
 provided criteria.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  DATE
   TYPE:LITERAL
   Patients who were confirmed in the registry before the date defined by the
  PART
   TYPE:LITERAL
   The PART parameter defines the search pattern. It can contain last 4 
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Maximum number of entries to return. A value of "*" or no value in this 
  FROM
   TYPE:LITERAL
   The index entry(s) from which to begin the list. Use the pieces of the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  FIND^DIC,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$POSTPROC^ROR
RP020,$$PRRIEN^RORUTL01,$$XOR^RORUTL03,$$UP^XLFSTR

ROR PATIENT SELECTION RULES - PTRULES^RORRP022
 The ROR PATIENT SELECTION RULES remote procedure returns a list of 
 selection rules that have caused addition of the patient to the registry.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  PATIEN
   TYPE:LITERAL
   Valid IEN of a registry patient should be assigned to the PATIEN
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  LIST^DIC,$$GET1^DIQ,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$P
RRIEN^RORUTL01

ROR LIST ITEMS - LSTITEMS^RORRP012
 The ROR LIST ITEMS remote procedure returns a list of registry-specific 
 items from the ROR LIST ITEM file.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  TYPE
   TYPE:LITERAL
   The TYPE parameter defines type of the items that should be extracted:
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$ITEMLIST^RORUTL09

ROR LIST COORDINATORS - RCLIST^RORRP023
 The ROR LIST COORDINATORS remote procedure returns a list of registry 
 coordinators. The list is retrieved from the COORDINATOR multiple (14) of
 the ROR REGISTRY PARAMETERS file (#798.1).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR

ROR UPDATE COORDINATORS - RCLUPD^RORRP023
 The ROR UPDATE COORDINATORS remote procedure updates the list of registry 
 coordinators that is stored in the COORDINATOR (14) multiple of the ROR 
 REGISTRY PARAMETERS file (#798.1).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the 
  RCLST
   TYPE:LIST
   The RCLST parameter should be an array containing a list of user IENs
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$FIND1^DIC,UPDATE^DIE,^DIK,$$OREF^DILF,$$ROOT^DILFD,$$DBS^RORERR,$$ERROR^RORE
RR,CLEAR^RORERR,RPCSTK^RORERR,$$LOCK^RORLOCK,UNLOCK^RORLOCK

ROR LIST VISTA USERS - USERLIST^RORRP024
 The ROR LIST VISTA USERS remote procedure returns a list of users from the
 NEW PERSON file (#200).
 PARAMETERS
  PART
   TYPE:LITERAL
   The PART parameter defines the search pattern. It should contain the
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Maximum number of entries to return. A value of "*" or no value in this 
  FROM
   TYPE:LITERAL
   The index entry(s) from which to begin the list. Use the pieces of the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$UP^XLFSTR

RORICR CDC LOAD - LOADCDC^RORRP025
 The RORICR CDC LOAD remote procedure loads the data for the CDC form 
 that is edited/printed by the ICR registry.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  PATIEN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the PATIEN parameter.
  LOCK
   TYPE:LITERAL
   If this parameter is defined and not zero then the RPC will try to lock
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,$$LOCK^RORLOCK,GETPTDAT^RORRP021,$$PRRIEN^RORUTL01

ROR LIST STATES - STATELST^RORRP029
 The ROR LIST STATES remote procedure returns a list of states that conform
 the search criteria.
 PARAMETERS
  PART
   TYPE:LITERAL
   The PART parameter defines the search pattern. If it contains 2 character
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Maximum number of entries to return. A value of "*" or no value in this 
  FROM
   TYPE:LITERAL
   The index entry(s) from which to begin the list. Use the pieces of the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$UP^XLFSTR

RORICR CDC SAVE - SAVECDC^RORRP027
 The RORICR CDC SAVE remote procedure updates the fields that are used by 
 the ICR CDC form.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  PATIEN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the PATIEN parameter.
  DATA
   TYPE:LIST
   A list that contains the CDC data in the same format as the output of the
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  FILE^DIE,UPDATE^DIE,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,$$UNLOCK^RORLOCK,
$$PRRIEN^RORUTL01,$$UP^XLFSTR

ROR GET USER INFO - USERINFO^RORRP024
 The ROR GET USER INFO remote procedure returns basic information about the
 user.
 PARAMETERS
  USER
   TYPE:LITERAL
   User IEN in the NEW PERSON file. By default (if $G(USER)'>0), the DUZ is
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  GETS^DIQ,$$DBS^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$SITE^VASITE,$$DTIME^XUP

ROR PATIENT GET DATA - GETPTDAT^RORRP021
 The ROR GET PATIENT DATA remote procedure returns patient's data from the 
 PATIENT file and (optionally) the registry record.
 PARAMETERS
  PATIEN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the PATIEN parameter.
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  $$PTR2CODE^DGUTL4,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$LOAD2^RORRP020,$
$LOAD798^RORRP020,$$PRRIEN^RORUTL01,$$UP^XLFSTR

ROR PATIENT DELETE - DELETE^RORRP030
 The ROR PATIENT DELETE remote procedure marks the patient's record as 
 deleted from the registry.
 not deleted and an error code is returned.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  RORDFN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the RORDFN parameter.
  FORCE
   TYPE:LITERAL
   Deprecated
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  FILE^DIE,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$PRRIEN^RORUT
L01,$$REGNAME^RORUTL01

ROR LIST LOCAL LAB TESTS - LTLIST^RORRP031
 The ROR LIST LOCAL LAB TESTS remote procedure returns a list of local lab 
 tests, which are referenced by the LOCAL TEST NAME multiple (28) of the
 ROR REGISTRY PARAMETERS file (#798.1).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the 
  GROUP
   TYPE:LITERAL
   If this parameter is defined and not zero, it should contain a valid code
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$ITEMCODE^ROR
UTL09,$$ITEMIEN^RORUTL09

ROR UPDATE LOCAL LAB TESTS - LTLUPD^RORRP031
 The ROR UPDATE LOCAL LAB TESTS remote procedure updates the list of local
 Lab test names, which is stored in the LOCAL TEST NAME (28) multiple of
 the ROR REGISTRY PARAMETERS file (#798.1).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the 
  LTLST
   TYPE:LIST
   The LTLST parameter should be an array containing a list of laboratory 
  GROUP
   TYPE:LITERAL
   If the GROUP parameter is equal to 0 then every item of the LTLST must 
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$FIND1^DIC,UPDATE^DIE,^DIK,$$OREF^DILF,$$ROOT^DILFD,$$ERROR^RORERR,CLEAR^RORE
RR,DBS^RORERR,RPCSTK^RORERR,$$LOCK^RORLOCK,UNLOCK^RORLOCK,$$ITEMIEN^RORUTL09

ROR LIST LOCAL DRUGS - LDLIST^RORRP032
 The ROR LIST LOCAL DRUGS remote procedure returns a list of local drugs, 
 which are referenced by the LOCAL DRUG NAME multiple (29) of the ROR
 REGISTRY PARAMETERS file (#798.1).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the 
  GROUP
   TYPE:LITERAL
   If this parameter is defined and not zero, it should contain a valid code
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$ITEMCODE^ROR
UTL09,$$ITEMIEN^RORUTL09

ROR UPDATE LOCAL DRUGS - LDLUPD^RORRP032
 The ROR UPDATE LOCAL DRUGS remote procedure updates the list of local drug
 names, which is stored in the LOCAL DRUG NAME (29) multiple of the ROR
 REGISTRY PARAMETERS file (#798.1).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the 
  LDLST
   TYPE:LIST
   The LDLST parameter should be an array containing a list of drug IEN's and
  GROUP
   TYPE:LITERAL
   If the GROUP parameter is equal to 0 then every item of the LDLST must 
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  UPDATE^DIE,^DIK,$$OREF^DILF,$$ROOT^DILFD,ZERO^PSS50,$$ERROR^RORERR,CLEAR^RORER
R,DBS^RORERR,RPCSTK^RORERR,$$LOCK^RORLOCK,UNLOCK^RORLOCK,$$ALLOC^RORTMP,FREE^ROR
TMP,$$ITEMIEN^RORUTL09

ROR LIST DRUGS - DRUGLIST^RORRP017
 The ROR LIST DRUGS remote procedure returns a list of drugs (defined in
 the DRUG file), which conform the criteria.
 PARAMETERS
  PART
   TYPE:LITERAL
   The partial match restriction.
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Deprecated.
  FROM
   TYPE:LITERAL
   Deprecated.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  ZERO^PSN50P6,ZERO^PSS50,CLEAR^RORERR,$$ALLOC^RORTMP,FREE^RORTMP

RORICR PATIENT LOAD - LOAD^RORRP033
 The RORICR PATIENT LOAD remote procedure loads the patient's data from the
 ICR registry and prepares the record for editing.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  PATIEN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the PATIEN parameter.
  LOCK
   TYPE:LITERAL
   If this parameter is defined and not zero then the RPC will try to lock
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  GETS^DIQ,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,$$LOCK^RORLOCK,UNLOCK^RORLOC
K,GETPTDAT^RORRP021,$$LOAD^RORRP026,$$ALLOC^RORTMP,$$PRRIEN^RORUTL01

RORICR PATIENT SAVE - SAVE^RORRP034
 The RORICR PATIENT SAVE remote procedure updates the patient's record in
 the registry (or creates one).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  PATIEN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the PATIEN parameter.
  DATA
   TYPE:LIST
   A list that contains the data in the same format as the output of the
  CANCEL
   TYPE:LITERAL
   Cancel the update and unlock the patient's registry data.
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  FILE^DIE,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,UNLOCK^RORLOCK
,$$CDCFDA^RORRP026,$$ADDPAT^RORUPD06,$$PRRIEN^RORUTL01,$$REGNAME^RORUTL01,$$TEST
PAT^RORUTL01,$$UPDLFV^RORUTL19

RORICR CDC CANCEL - CANCEL^RORRP027
 The RORICR CDC CANCEL remote procedure cancels the editing process 
 initiated by the RORICR CDC LOAD remote procedure (see the LOCK parameter)
 and unlocks the registry records.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  PATIEN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the PATIEN parameter.
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$UNLOCK^RORLOCK,$$PRRIEN^RORUTL01

ROR LIST GENERIC DRUGS - GDLIST^RORRP035
 The ROR LIST GENERIC DRUGS remote procedure returns a list of generic
 drugs, which are referenced by the ROR GENERIC DRUG file (#799.51).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the 
  GROUP
   TYPE:LITERAL
   If this parameter is defined and not zero, it should contain a valid code
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$ITEMCODE^ROR
UTL09,$$ITEMIEN^RORUTL09

KMPD FILE SEARCH - FILESRC^KMPDU5
 Search for entries in file.
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   File Number.
  PARAM2
   TYPE:LITERAL
   Fields to return.  This will be comma delimited.
  PARAM3
   TYPE:LITERAL
   Text to search for.
  PARAM4
   TYPE:LITERAL
   Name of array for temporary storage.  This should be a global array, and
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array with data from file in format:
 EXTERNAL ROUTINES:
  $$GET1^DIQ,KILL^KMPDU,$$UP^XLFSTR

KMPD VERSION - VERSION^KMPDU5
 Get version number for CM Developer Tools application.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  ARRAY(0)=VersionNumber
 EXTERNAL ROUTINES:
  

KMPD ENVIRONMENT - ENV^KMPDU5
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

KMPD FILE INQUIRY - FILEINQ^KMPDU5
 Return all data in file for specific entry.
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   File number.
  PARAM2
   TYPE:LITERAL
   IEN for file in PARAM1.
  PARAM3
   TYPE:LITERAL
   Array for temporary data storage.  This should be a global array, and must
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array containing data in format:
 EXTERNAL ROUTINES:
  GETS^DIQ,KILL^KMPDU,$$REPEAT^XLFSTR

KMPD GLOBAL LIST - GBLLIST^KMPDU1
 Global list.
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Global to list.  This can be an entire global (
  PARAM2
   TYPE:LITERAL
   Starting global node.  If this is a continuation of a global list, then
  PARAM3
   TYPE:LITERAL
   Number of lines to fill before quiting.
 RETURN VALUE
  TYPE: ARRAY
  Array containing global data.  However, the zero node will contain the
 EXTERNAL ROUTINES:
  

KMPD ERROR LOG DATA - ERRDATA^KMPDU3
 Get data from file #3.075 (ERROR LOG).
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Ien in format "MultipleIen,Ien" for file #3.075 (ERROR LOG).
  PARAM2
   TYPE:LITERAL
   Temporary global storage.  This must be either 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return data in array.
 EXTERNAL ROUTINES:
  KILL^KMPDU,$$HTE^XLFDT

KMPD ROUTINE FIND - ROUFIND^KMPDU2
 Return list of routine names.
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Routine name to search for (may contain an asterisk (*) for a list).
  PARAM2
   TYPE:LITERAL
   Temporary global storage name.  Must be either 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array of routine names in format:
 EXTERNAL ROUTINES:
  KILL^KMPDU

KMPD ROUTINE INQ - ROUINQ^KMPDU2
 Routine inquiry.
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Routine name.
 RETURN VALUE
  TYPE: ARRAY
  Routine returned in array.
 EXTERNAL ROUTINES:
  

KMPD ROUTINE LINE SRCH - ROUSRC2^KMPDU2
 Search routine(s) for text.
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Routine(s) to search for (may contain an asterisk).
  PARAM2
   TYPE:LITERAL
   Text to search for.
  PARAM3
   TYPE:LITERAL
   Temporary global storage for data.  Must be 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array containing matches.
 EXTERNAL ROUTINES:
  KILL^KMPDU,$$ROULABEL^KMPDU2,$$UP^XLFSTR

KMPD ROUTINE STATS - ROUSTATS^KMPDU3
 Routine stats from file #8972.1 (CAPMAN ROUTINE STATS).
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Ien(s) for file #8972.1 (CAPMAN ROUTINE STATS).  If more than one Ien then
 RETURN VALUE
  TYPE: ARRAY
  Array containing data from zero node of file #8972.1 (CAPMAN ROUTINE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$FMTE^XLFDT

KMPD ROUTINE SAVE - ROUSAVE^KMPDU3
 Save Routine.
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Routine name (limited to 8 characters).
  PARAM2
   TYPE:LIST
   Array containing routine code.
 RETURN VALUE
  TYPE: ARRAY
  Save routine to server.
 EXTERNAL ROUTINES:
  

KMPD FM DATE - FMDTI^KMPDU3
 Return user response as fm date.
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   User response to request for date: 'T'
 RETURN VALUE
  TYPE: ARRAY
  Return: "^" - invalid response
 EXTERNAL ROUTINES:
  

KMPD ERROR LOG DATE - ERRDATE^KMPDU3
 Get matching date or list of dates from file #3.075 (ERROR LOG).
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Date in internal fileman format or "*" for all dates in file #3.075 (ERROR
 RETURN VALUE
  TYPE: ARRAY
          ARRAY(0)=ExternalDate^Ien - for one match 
 EXTERNAL ROUTINES:
  $$FMTE^XLFDT,$$FMTH^XLFDT,$$HTE^XLFDT

KMPD ASSOC ROUTINE ADD/DEL - ASSCROU^KMPDU4
 Delete all entries in multiple field #11 (ASSOCIATED ROUTINE) in file
 #8972.1 (CM CODE EVALUATOR) and then add entries to multiple.
 PARAMETERS
  PARAM1
   TYPE:LITERAL
   Ien for file #8972.1 (CM CODE EVALUATOR).
  PARAM2
   TYPE:LIST
   Array containing routine names to be entered into field #11 (ASSOCIATED
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  UPDATE^DIE,^DIK

DVBAB TEMPLATE DEFINITION - DEFINE^DVBABFRM
 C&P Worksheet Templates are made of 3 files:  a form definition, a code 
 definition, and a script definition.
  
 Set DVBIEN to the internal entry number of the form
  
 Set DVBTYPE to the definition you want:
          1= Form, 2=Script, 3=Report
 PARAMETERS
  DVBIEN
   TYPE:LITERAL
  DVBTYPE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DVBAB NOTE TITLES - NOTETL^DVBABTIU
 Returns list of note titles from TIU in format
 name+"  "+type+"  "+status
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB GET VISIT INFO - VISIT^DVBABTIU
 PARAMETERS
  PATIENTNAME
   TYPE:LITERAL
  VISITDATE
   TYPE:
  CLINICIEN
   TYPE:
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

TIU GET DOCUMENTS FOR REQUEST - GETDOCS^TIUSRVLR
 This Remote Procedure returns the list of documents associated with a
 given Request (e.g., Consult Request, or Surgical Case).
 PARAMETERS
  OVP
   TYPE:LITERAL
   This is the variable pointer (e.g., "12745;GMR(123," or "14672;SRF(") that
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return array has elements with the following positional values:
 EXTERNAL ROUTINES:
  $$HASDAD^TIUSRVLI,$$HASKIDS^TIUSRVLI,SETDAD^TIUSRVLI,SETKIDS^TIUSRVLI,$$RESOLV
E^TIUSRVLO

TIU IS THIS A SURGERY? - ISSURG^TIUSROI
 BOOLEAN RPC which evaluates whether the title indicated is that of a
 SURGICAL REPORT or PROCEDURE REPORT (NON-O.R.).
 PARAMETERS
  TITLE
   TYPE:LITERAL
   This is the record number in file 8925.1 for the title selected.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Scalar value indicating the truth value of the result (i.e., 0 indicates
 EXTERNAL ROUTINES:
  $$ISA^TIULX

TIU IDENTIFY SURGERY CLASS - SURGCLAS^TIUSRVD
 This RPC returns the record number of the class identified by the CLNAME
 parameter in the TIU DOCUMENT DEFINITION file (#8925.1).
 PARAMETERS
  CLNAME
   TYPE:LITERAL
   This is the name (ASCII LITERAL) of the Class for which the calling
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value returned will be either a positive integer, corresponding to the
 EXTERNAL ROUTINES:
  $$CLASS^TIUSROI

TIU LONG LIST SURGERY TITLES - LNGSURG^TIUSRVD
 This RPC serves data to a longlist of selectable TITLES for the class
 named in the CLNAME parameter.
 PARAMETERS
  FROM
   TYPE:LITERAL
   This is the reference title from which the longlist is scrolling.
  DIR
   TYPE:LITERAL
   This is the direction in which the longlist is scrolling from the
  CLNAME
   TYPE:LITERAL
   This is the name of the class for which titles are being presented.
 RETURN VALUE
  TYPE: ARRAY
  This is an array of the 44 nearest titles to that indicated by the user in
 EXTERNAL ROUTINES:
  $$CLASS^TIUSROI

MD TMDUSER - RPC^MDRPCOU
 Manages the VistA interface to the TMDUser object.
  
 Available options:
   SIGNON     Connects session to the server and attempts signon.
   ESIG       Verifies passed e-sig.
   CHKVER     Verifies client version is compatible with server.
 PARAMETERS
  OPTION
   TYPE:LITERAL
   See RPC description.
  DATA
   TYPE:LITERAL
   Required data for selected option.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns global array of status or requested data.
 EXTERNAL ROUTINES:
  CLEAN^DILF,BADRPC^MDRPCU

MD TMDPARAMETER - RPC^MDRPCOV
 Used to set/retrieve/modify parameters in the Kernel ToolKit PARAMETERS
 (XPAR) files.
  
 RPC is called as follows:
  
 Param[0] := OPTION
 Param[1] := Entity
 Param[2] := Parameter name
 Param[3] := Instance
 Param[4] := Value
 PARAMETERS
  OPTION
   TYPE:LITERAL
   Contains the option for the RPC.  RPC is called as shown:
  ENTITY
   TYPE:LITERAL
   An entity is a level at which you can define a parameter.  The entities
  PAR
   TYPE:LITERAL
   A parameter is the actual name which values are stored under.  The name of
  INST
   TYPE:LITERAL
   Most parameters will set instance to 1.  Instances are used when more than
  VAL
   TYPE:LITERAL
   A value may be assigned to every parameter for the entities allowed in the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns requested data from the specified option.
 EXTERNAL ROUTINES:
  CLEAN^DILF,BADRPC^MDRPCU

MD TMDRECORDID - RPC^MDRPCOR
 General RPC for VA Fileman functions.
  
 Param 1 is passed in as the function to perform and includes the
 following:
  
 LOOKUP:   Performs very generic file lookup functionality
 VALIDATE: Validates input to a fileman field and saves to FDA
 DELREC:   Validates ability to delete and if able deletes a record
 SETFDA:   Validates input and stores in FDA
 SAVEFDA:  Saves any data stored in FDA
 CLEARFDA: Clears any data in the FDA without saving
 GETDATA:  Retrieves a single field value
 GETCODES: Retrieves the set of codes for a field
 GETLABEL: Retrieves a fields TITLE or LABEL if no Title
 GETIDS:   Returns required identifiers for a DD Number
 GETHELP:  Returns Fileman help for a field
 RENAME:   Validates and renames .01 field if valid
 NEWREC:   Creates a new record
 CHANGES:  Returns 0/1 if changes exist in FDA
 CHKVER:   Version check Client <-> Server
 LOCK:     Locks a record by DD and IENS
 UNLOCK:   Unlocks record locked by LOCK option
 PARAMETERS
  OPTION
   TYPE:LITERAL
   See description of RPC.
  DDNUM
   TYPE:LITERAL
   Contains the Data Dictionary number of the item being manipulated.
  IENS
   TYPE:LITERAL
   Contains the IENS of the record being manipulated.
  FLD
   TYPE:LITERAL
   Contains field specifications for the record.
  DATA
   TYPE:LITERAL
   Contains any other needed information for the call.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns global array of requested data or status.
 EXTERNAL ROUTINES:
  CLEAN^DILF,BADRPC^MDRPCU

MD TMDOUTPUT - RPC^MDRPCOO
 Manages the output of VistA data to the client via the default HFS device.
 PARAMETERS
  OPTION
   TYPE:LITERAL
   Currently set to EXECUTE as the only option.
  RTN
   TYPE:LITERAL
   Contains the routine to produce the output.  Currently to client produces
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Text of the requested report.
 EXTERNAL ROUTINES:
  CLEAN^DILF,BADRPC^MDRPCU

MD TMDPROCEDURE - RPC^MDRPCOD
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF,BADRPC^MDRPCU

MD TMDPATIENT - RPC^MDRPCOP
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF,BADRPC^MDRPCU

MD TMDTRANSACTION - RPC^MDRPCOT
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF,BADRPC^MDRPCU

MD UTILITIES - RPC^MDRPCU
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF

MD GATEWAY - RPC^MDRPCOG
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

MAG DICOM AUDIT COUNT - COUNT^MAGDRPC7
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC call updates (increments) an audit count for a DICOM Gateway.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  MESSAGE
   TYPE:LITERAL
   The value of this parameter is a text-string.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value from this RPC shows whether or not a
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

MAG DICOM AUDIT PURGE - PURGE^MAGDRPC7
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC call will purge audit information that was gathered
 by DICOM Gateways.
 PARAMETERS
  FILENUM
   TYPE:LITERAL
   The value of this parameter is a number. This number identifies
  DATE
   TYPE:LITERAL
   The value of this parameter is a (FileMan formatted) date.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value from this RPC shows how much data has
 EXTERNAL ROUTINES:
  

MAG DICOM AUDIT RANGE - RANGE^MAGDRPC7
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC call returns information about the date-ranges
 for which audit information is available for the various
 kinds DICOM Gateways and the instruments that send
 images to them.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The output array contains information about the various
 EXTERNAL ROUTINES:
  

MAG DICOM ET PHONE HOME - INFO^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 Each day, a DICOM Gateway reports a number of statistics
 to the Imaging Team in Silver Spring (Maryland).
 Part of that information that is transmitted needs to be fetched
 from the VistA System.
  
 This RPC fetches all information to be reported from the VistA system.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: ARRAY
  This RPC returns an array with information.
 EXTERNAL ROUTINES:
  ROUTEDAY^MAGDRPC2,$$FMADD^XLFDT

MAG DICOM FILEMAN GET - FMGET^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 On occasion it is needed to fetch a value from a database.
 This RPC is a general-purpose one that fetches the value
 of one specific field from a specific table.
 PARAMETERS
  FILE
   TYPE:LITERAL
   The value of this parameter is a number. This value is the
  D0
   TYPE:LITERAL
   The value of this parameter is a number. This value is the
  FIELD
   TYPE:LITERAL
   The value of this parameter is a number. This value is the
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is a string.
 EXTERNAL ROUTINES:
  $$GET1^DIQ

MAG DICOM FIND LOCATION - FINDLOC^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns the pointer value that identifies the
 entry in the institution file (^DIC(4)) that has a name that
 is equal to the value of the specified parameter.
 PARAMETERS
  NAME
   TYPE:LITERAL
   The value of this parameter is a string.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value of this RPC is an integer number that
 EXTERNAL ROUTINES:
  FIND^DIC

MAG DICOM GET BASIC IMAGE - IMAGE^MAGDRPC2
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns information about an image.
 The information that is returned consists of any of
 the fields listed below. Fields that do not have
 a value (or that have an "empty" value) are not
 returned.
  
     OBJECT NAME
     FILEREF
     DISK & VOLUME, MAGNETIC
     DISK & VOLUME, ABSTRACT
     DISK & VOLUME, WORM
     OBJECT TYPE
     PATIENT
     PROCEDURE
     LAST ACCESS DATE
     IQ
     GROUP PARENT
     ACQUISITION SITE
     DESCRIPTIVE CATEGORY
     CLINIC
     ACQUISITION DEVICE
     TRACKING ID
     DOCUMENT DATE
     DATE/TIME IMAGE SAVED
     IMAGE SAVE BY
     SUMMARY OBJECT
     SHORT DESCRIPTION
     PROCEDURE/EXAM DATE/TIME
     PARENT DATA FILE#
     PARENT GLOBAL ROOT D0
     PARENT DATA FILE IMAGE POINTER
     EXPORT REQUEST STATUS
     PARENT GLOBAL ROOT D1
     Full FileName
     Full Path+FileName
     Big FileName
     Big Path+FileName
     Abstract FileName
     Abstract Path+FileName
 PARAMETERS
  D0
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: ARRAY
  When an error occurs during the processing of this RPC,
 EXTERNAL ROUTINES:
  GETS^DIQ,FILEFIND^MAGDFB

MAG DICOM GET DOMAIN - DOMAIN^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC retrieves the name of the MailMan Mail Domain
 for the VistA site.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is a string that looks like
 EXTERNAL ROUTINES:
  $$KSP^XUPARAM,WHERE^XUPARAM

MAG DICOM GET HIGHEST HL7 - HIGHHL7^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns the pointer value that identifies the
 highest-numbered HL7 message on the VistA system in ^MAGDHL7(2006.5).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value of this RPC is an integer number that
 EXTERNAL ROUTINES:
  

MAG DICOM GET IMAGE GROUP - GRPIMG^MAGDRPC2
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns the list of images in a group (if any).
 PARAMETERS
  D0
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: ARRAY
  The output array contains the list of pointers to images
 EXTERNAL ROUTINES:
  CHK^MAGGSQI

MAG DICOM GET IMAGING TYPES - VALIMGT^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns an array containing data about valid imaging
 types.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The output array of this RPC contains information about valid
 EXTERNAL ROUTINES:
  

MAG DICOM GET NEXT QUEUE ENTRY - NEXTIMG^MAGDRPC4
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC will check if there are any new images to be transmitted,
 and will return information about the first or next one (if any)
 in the DICOM transmission queue.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  D0
   TYPE:LITERAL
   The value of this optional parameter is a pointer into the
  D1
   TYPE:LITERAL
   The value of this optional parameter is a pointer into the
  SENT
   TYPE:LIST
   This parameter is an array. Each element of this array
  CHECK
   TYPE:LITERAL
   The value of this parameter is a boolean value.
 RETURN VALUE
  TYPE: ARRAY
  The first element of the output array indicates whether there
 EXTERNAL ROUTINES:
  FILEFIND^MAGDFB,CLEAN^MAGDRPC9

MAG DICOM GET PATIENT - PAT^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns patient info, reporting in one single
 call the information from
    DEM^VADPT  -- Demographic Information
    ADD^VADPT  -- Address Information
    INP^VADPT  -- In-Patient Information
    SDA^VADPT  -- Appointment Information
 PARAMETERS
  DFN
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: ARRAY
  When an error occurs during the processing of this RPC,
 EXTERNAL ROUTINES:
  $$GETICN^MPIF001,ADD^VADPT,DEM^VADPT,INP^VADPT,SDA^VADPT

MAG DICOM GET PLACE - GETPLACE^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns the internal entry number in ^MAG(2006.1) for the
 "place" that corresponds to the specified "location".
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value of this RPC is either equal to
 EXTERNAL ROUTINES:
  FIND^DIC

MAG DICOM GET RAD RPT INFO - RARPTO^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns information from the Radiology Report Table.
 The type of information returned depends on the values of the
 input parameters.
 PARAMETERS
  TYPE
   TYPE:LITERAL
   The value of this parameter is a string that indicates
  D0
   TYPE:LITERAL
   The value of this parameter is a numeric value that identifies
  F
   TYPE:LITERAL
   If the value of the first input parameter is equal to "O1",
  D1
   TYPE:LITERAL
   The value of this parameter is the second-level FileMan internal
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value is a string that contains the requested information
 EXTERNAL ROUTINES:
  

MAG DICOM GET SERVICE INFO - SERVICE^MAGDRPC2
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC retrieves the credentials for the DICOM Gateway
 Service account.
 When an end-user changes an access or verify code while
 a "long-running" process like "Process Text Messages" or
 "Process DICOM Images" is running, the need my arise for
 the DICOM Gateway to re-connect to its VistA system.
 When the stored user's credentials fail, the DICOM Gateway
 can temporarily continue to function using these credentials.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is a string that contains
 EXTERNAL ROUTINES:
  $$ENCRYP^ROUTINE

MAG DICOM GET VERSION - IMGVER^MAGDRPC2
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns information from about the Imaging Patches
 that have been installed on the server system.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value is as string that contains a comma separated
 EXTERNAL ROUTINES:
  FIND^DIC

MAG DICOM HL7 POINTER ACTION - HL7PTR^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC retrieves information about HL7 messages.
 Depending on the values of the parameters, different types of
 information can be returned.
 PARAMETERS
  ACTION
   TYPE:LITERAL
   The value of this parameter is a string that specifies the action
  VALUE
   TYPE:LITERAL
   The value of this parameter is a string. The meaning of this
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is a string that either has
 EXTERNAL ROUTINES:
  $$FMTE^XLFDT

MAG DICOM IMAGE AUDIT GET - GET2^MAGDRPC7
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC call fetches the statistical information
 that is collected about the acquisition of images.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  START
   TYPE:LITERAL
   The value of this parameter is a (FileMan) date.
  STOP
   TYPE:LITERAL
   The value of this parameter is a (FileMan) date.
  MAX
   TYPE:LITERAL
   The value of this parameter is an integer number. This number
  OFFSET
   TYPE:LITERAL
   The value of this parameter is a positive integer number.
 RETURN VALUE
  TYPE: ARRAY
  The output array contains a number of entries.
 EXTERNAL ROUTINES:
  DT^DICRW

MAG DICOM IMAGE PROCESSING - ENTRY^MAGDIR8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This Remote Procedure is used by a DICOM Gateway to interchange information
 with the VistA Server.
  
 As images are acquired by the DICOM Gateway, information is
 extracted from the image-file-headers, and attempts are made
 to associate the image with a study for a patient.
  
 This procedure will take care of storing any information in
 the VistA system, and will report any issues and problems
 back to the DICOM Gateway.
  
 Information is exchanged about images that could not be processed,
 and when such images have been corrected, this procedure will
 notify the DICOM Gateway to make another attempt to process
 the (now corrected) image.
 PARAMETERS
  REQUEST
   TYPE:LIST
   ???
 RETURN VALUE
  TYPE: ARRAY
  The array that is transmitted back to the DICOM Gateway through
 EXTERNAL ROUTINES:
  ENTRY^MAGDIR81,ACQUIRED^MAGDIR82,POSTPROC^MAGDIR82,ENTRY^MAGDIR83,ENTRY^MAGDIR
84,ENTRY^MAGDIR85

MAG DICOM INCORRECT IMAGE CT - CORRECT^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 On occasion the software on the DICOM Gateway needs to know
 the number of image files that need to be corrected.
 This RPC is a general-purpose one that fetches this value from
 the VistA system.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  MACHID
   TYPE:LITERAL
   The value of this parameter is a string.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  

MAG DICOM LIST GLOBAL VARIABLE - LIST^MAGDGL
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns information from global variables on the
 server system.
 PARAMETERS
  WILD
   TYPE:LITERAL
   The value of this parameter is a string that constitutes
  MAX
   TYPE:LITERAL
   The value of this parameter is an integer value that specifies
  START
   TYPE:LITERAL
   The value of this parameter is an integer value that specifies
 RETURN VALUE
  TYPE: ARRAY
  The output value is an array that contains information about
 EXTERNAL ROUTINES:
  OWNSKEY^XUSRB

MAG DICOM LOOKUP RAD STUDY - RADLKUP^MAGDRPC3
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC queries the VistA system for the details on a
 Radiology Study, given the casenumber (either the date+number
 or just the number) and the study date.
 PARAMETERS
  CASENUMB
   TYPE:LITERAL
   The value of this parameter is a string. This value identifies
  STUDYDAT
   TYPE:LITERAL
   The value of this parameter is a (FileMan) date.
 RETURN VALUE
  TYPE: ARRAY
  When an error occurs during the processing of this RPC,
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$CPT^ICPTCOD,$$NOW^XLFDT

MAG DICOM LOOKUP STUDY - LOOKUP^MAGDRPC4
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC looks up a study that might be a Radiology Study
 or a Clinical Specialty, based on the specified (case) number.
 PARAMETERS
  NUMBER
   TYPE:LITERAL
   The value of this parameter is a number that identifies a
 RETURN VALUE
  TYPE: ARRAY
  The output array of this RPC is a list of all studies that
 EXTERNAL ROUTINES:
  $$GET1^DIQ,TIUALL^MAGDGMRC,IENLOOK^MAGDRPC9,$$NOW^XLFDT

MAG DICOM NETWORK STATUS - ONOFLINE^MAGDRPC5
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 Mark a Network Location as being either on-line or off-line.
 PARAMETERS
  DEST
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  STATUS
   TYPE:LITERAL
   The value of this parameter is a Boolean value that indicates
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is one of:
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

MAG DICOM PACS CUTOFF DATE - CUTOFF^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 On occasion the software on the DICOM Gateway needs to know
 the number of days that files are retained on Magnetic Storage
 for files that are copied to a PACS.
 PARAMETERS
  D0
   TYPE:LITERAL
   The value of this parameter is a pointer to the Imaging
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  $$CONSOLID^MAGBAPI

MAG DICOM PACS MINIMUM SPACE - MINSPACE^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 On occasion the software on the DICOM Gateway needs to know
 the minimum percentage of disk space that needs to remain on
 the Magnetic Disk Storage that is used for files that are
 copied to a PACS.
 PARAMETERS
  D0
   TYPE:LITERAL
   The value of this parameter is a pointer to the Imaging
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  $$CONSOLID^MAGBAPI

MAG DICOM PURGE HL7 - HL7PURGE^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC purges HL7 messages that were created before the
 date specified.
 PARAMETERS
  CUTOFF
   TYPE:LITERAL
   The value of this parameter is a (FileMan) date.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  

MAG DICOM QUEUE IMAGE - QUEUE^MAGDRPC3
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC enters a study into the DICOM Transmission queue.
 In the simplest case, a study contains only one image.
 More normally, a study consists of several images.
 For object types 3 (X-RAY) and 100 (DICOM image), a single image is entered
 into the transmission queue.
 For object type 11 (X-RAY group) , all images for the study are
 entered into the transmission queue.
 PARAMETERS
  IMAGE
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  DESTINAT
   TYPE:LITERAL
   The value of this field is the name of the DICOM SOP Class Provider
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  ACCESSIO
   TYPE:LITERAL
   The value of this optional parameter is the accession number
  REASON
   TYPE:LITERAL
   The value of this optional parameter is a string that represents
  EMAIL
   TYPE:LITERAL
   The value of this optional parameter is a string that represents
  PRIORITY
   TYPE:LITERAL
   The value of this parameter is a positive integer number.
  JBTOHD
   TYPE:LITERAL
   The value of this parameter is a boolean switch that indicates
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value of this RPC indicates whether or not the
 EXTERNAL ROUTINES:
  CHK^MAGGSQI,ENTRY^MAGLOG,SENDMSG^XMXAPI

MAG DICOM QUEUE INIT - INIT^MAGDRPC4
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC (re)initializes the queue for DICOM transmission
 of images to (remote) DICOM Storage Providers.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value of this RPC indicates whether or not the
 EXTERNAL ROUTINES:
  $$GET1^DIQ

MAG DICOM ROUTE EVAL LOG - EVALLOG^MAGDRPC6
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 As a rule evaluator runs, it will produce an activity log.
 This RPC can be called to return information from this log
 from the VistA system to the DICOM Gateway.
 PARAMETERS
  TASK
   TYPE:LITERAL
   The value of this parameter is a pointer to a TaskMan task.
  MSG
   TYPE:LITERAL
   The value of this parameter is an integer number.
  MAX
   TYPE:LITERAL
   The value of this parameter is an integer number.
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: ARRAY
  This RPC returns an array.
 EXTERNAL ROUTINES:
  STAT^%ZTLOAD,$$PLACE^MAGDRPC2

MAG DICOM ROUTE EVAL START - START^MAGDRPC5
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 Start one rule evaluator to evaluate the newly acquired
 images for one specific location.
  
 The rule-evaluators will run on the VistA system. They will be
 started and stopped, however, from the DICOM Gateways.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  RULES
   TYPE:LIST
   The value of this parameter is an array (one integer subscript).
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is one of:
 EXTERNAL ROUTINES:
  HOME^%ZIS,^%ZTLOAD,$$GET1^DIQ

MAG DICOM ROUTE EVAL STOP - STOP^MAGDRPC5
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 Stop all rule evaluators.
  
 The rule-evaluators will run on the VistA system. They will be
 started and stopped, however, from the DICOM Gateways.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is always equal to 1.
 EXTERNAL ROUTINES:
  

MAG DICOM ROUTE GET PURGE - PURGE^MAGDRPC5
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  DEST
   TYPE:LITERAL
   The value of this parameter is a pointer to either 
  MAX
   TYPE:LITERAL
   The value of this parameter is an integer number.
  DONE
   TYPE:LIST
   This parameter is an array. The values in this array (if any)
 RETURN VALUE
  TYPE: ARRAY
  This parameter is an array.
 EXTERNAL ROUTINES:
  $$HTFM^XLFDT,$$NOW^XLFDT

MAG DICOM ROUTE GET TRANS ID - TRANSID^MAGDRTIM
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC generates a new Unique Transaction Identifier
 for the location specified. If no location is specified,
 the first "place" at the site will be used.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is a string consisting of a
 EXTERNAL ROUTINES:
  

MAG DICOM ROUTE LIST DESTI - LISTDEST^MAGDRPC5
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 A routing transmitter will send files to any one out of a list of
 possible destinations. A site can decide to set up one
 transmitter to transmit to all their destinations, or set up
 multiple transmitters that each send to a (non-overlapping)
 subset of these destinations. When a transmitter is started, it
 will ask the end-user for the destination or list of destinations
 to which it will transmit files. In order to be able to ask this
 question, the transmitter will call this RPC
 to obtain a list of valid destinations from the VistA system.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: ARRAY
  The value of this parameter is an array that represents
 EXTERNAL ROUTINES:
  

MAG DICOM ROUTE LOCK TRANSMIT - LOCK^MAGDRPC5
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 The various routing transmitters avoid that multiple transmitters
 attempt to do the same task at the same time by LOCKing some
 names of global variables. They will acquire and release these
 LOCKs by calling this RPC.
  
 This RPC will either attempt to LOCK a name, or release its
 current LOCK on the name, depending on the value of input
 parameter PLUSMIN. The other input parameters identify a
 destination to which files are to be sent (D0) and the location
 from which the files are being sent (LOCATION).
 PARAMETERS
  D0
   TYPE:LITERAL
   The value of this parameter is a pointer to either 
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  PLUSMIN
   TYPE:LITERAL
   The value of this parameter is a number. When the value of this
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  

MAG DICOM ROUTE LOG XMIT - LOGXIMG^MAGDRPC7
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 When a file has been routed, information needs to be kept about
 the fact that a copy has been made. In order to log this
 information, the routing transmitter will call this RPC.
  
 This RPC will take care of all logging of statistics that is
 needed after a file has been transmitted. There are six input
 parameters: the internal entry number of the queue entry (D0),
 the internal entry number of the destination to which it was
 transmitted (DEST) and the internal entry number of the location
 from which it was transmitted (LOCATION). The input parameter
 (STATUS) is equal to either "SENT" or "FAILED", depending on the
 outcome of the transmission. The value of the input-parameter TO
 is the name of the file at its destination (later to be used for
 purging the file). The value of the parameter XMIT is the
 timestamp of the start of the transmission.
 PARAMETERS
  QUEUE
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  DEST
   TYPE:LITERAL
   The value of this parameter is a pointer to either 
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  STATUS
   TYPE:LITERAL
   The value of this parameter is a string that identifies the
  FILNAM
   TYPE:LITERAL
   The value of this parameter is a string.
  XMIT
   TYPE:LITERAL
   The value of this parameter is a (FileMan-formatted) date/time value.
  MECH
   TYPE:LITERAL
   The value of this parameter is an integer value (1 or 2).
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  STATUS^MAGDRPC5,$$NOW^XLFDT

MAG DICOM ROUTE NEXT FILE - XMIT^MAGDRPC5
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 The Routing Transmitter will continuously ask the VistA system
 for the next file to transmit. This RPC will be called to obtain
 the name of the next file to be transmitted.
  
 This RPC returns information about the next image file to be
 transmitted by a certain Routing Transmitter.
  
 The next file to be transmitted is either the next file for
 the current destination, or the next file with the highest
 priority in any of the queues for the destinations that are
 being served by the current transmitter.
  
 If neither of the parameters DEST and PRIOR have a non-empty
 value, information about the first file (if any) to be transmitted
 will be returned.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  DEST
   TYPE:LITERAL
   The value of this parameter is a pointer to either 
  PRIOR
   TYPE:LITERAL
   The value of this parameter is an integer number (> 0).
  MECH
   TYPE:LITERAL
   The value of this parameter is an integer value (1 or 2).
  DESTS
   TYPE:LIST
   This parameter is an array containing the list of destinations
 RETURN VALUE
  TYPE: ARRAY
  The output parameter is an array.
 EXTERNAL ROUTINES:
  $$PLACE^MAGDRPC2,XMIT^MAGDRPC6,$$NOW^XLFDT

MAG DICOM ROUTE PURGE DONE - PURGDONE^MAGDRPC6
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 Periodic maintenance on the data in the Transmission Queue 
 involves removal of entries that have a state of "SENT" after the 
 image files would have been purged from their temporary 
 destinations. In order to perform this maintenance, the user of 
 the DICOM Gateway would invoke a menu option that calls this RPC.
  
 This RPC will remove all entries in the Transmission Queue that 
 were created for the specified LOCATION and have been in a state 
 of "SENT" or "FAILED" for more days than specified.
 PARAMETERS
  DAYS
   TYPE:LITERAL
   The value of this parameter is an integer number.
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  $$FMTH^XLFDT

MAG DICOM ROUTE REMOVE OBSO - REMOBSO^MAGDRPC6
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 When the connection between a transmitting and receiving site has 
 been down for an extended period of time, the user of the DICOM 
 Gateway may decide to forego transmission of any images that 
 would already have been purged at the destination if it would 
 have been possible to transmit them in the first place. In order 
 to perform this maintenance, the user of the DICOM Gateway would 
 invoke a menu option that calls this RPC.
  
 This RPC will remove any entries from the Transmission Queue that 
 were created for the specified location and that have a status of 
 either "WAITING", "SENDING" or "FAILED" and that are older than 
 the specified date.
 PARAMETERS
  UPTO
   TYPE:LITERAL
   The value of this parameter is a (FileMan-formatted) date/time value.
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  

MAG DICOM ROUTE REQUEUE - REQUEUE^MAGDRPC6
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 A normal maintenance activity is to re-queue any images that may 
 not have been transmitted because the connection between the 
 transmitting and receiving sites was temporarily unavailable. In 
 order to perform this maintenance, the user of the DICOM Gateway 
 would invoke a menu option that calls this RPC.
  
 This RPC will requeue any entries in the Transmission Queue that 
 were created for the specified LOCATION and that are currently in 
 a state of "FAILED".
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  

MAG DICOM ROUTE STATUS - STATUS^MAGDRPC5
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 When the Routing Gateway has made an attempt to transmit a file,
 it will call this RPC to change the status of the
 entry in the transmission queue to either "SENT" or "FAILED".
  
 This RPC will change the status of the entry in the transmission
 queue (file # 2005.035) with entry-number D0 to the indicated
 status.
 PARAMETERS
  D0
   TYPE:LITERAL
   The value of this parameter is a pointer to an entry in the
  STATUS
   TYPE:LITERAL
   The value of this parameter is a string that identifies the
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  

MAG DICOM ROUTE TRANSACT STS - TRANSTS^MAGDRTIM
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC checks the status of all entries in the routing queue for
 a specific transaction (group of files that was queued as a unit).
 The return value indicates how many files are in each of the
 possible statuses.
 PARAMETERS
  TRANSID
   TYPE:LITERAL
   The value of this parameter is a string that uniquely defines
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is a string that either has
 EXTERNAL ROUTINES:
  

MAG DICOM ROUTE VALID DEST - VALDEST^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 A Routing Gateway needs to check the validity of names of
 destinations at several occasions. This RPC performs this validation.
 PARAMETERS
  NAME
   TYPE:LITERAL
   The value of this parameter is a string.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is either integer number, or is
 EXTERNAL ROUTINES:
  

MAG DICOM SET PACS PARAMS - SETPACS^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC ensures that proper values are stored for a number
 of Imaging Site Parameters for the current "place".
 If proper values are already present, no change is made to the database.
 PARAMETERS
  PLACE
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value of this RPC is either equal to
 EXTERNAL ROUTINES:
  

MAG DICOM TEXT AUDIT GET - GET1^MAGDRPC7
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC call fetches the statistical information
 that is collected about the transmission of Text Messages.
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  TODAY
   TYPE:LITERAL
   The value of this Boolean parameter, if present, indicates whether
 RETURN VALUE
  TYPE: ARRAY
  The output array contains a number of entries.
 EXTERNAL ROUTINES:
  DT^DICRW

MAG DICOM TEXT PROCESSING - ENTRY^MAGDHRS1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This Remote Procedure is used by a DICOM Gateway to interchange information
 with the VistA Server.
  
 ???
 PARAMETERS
  REQUEST
   TYPE:LIST
   ???
 RETURN VALUE
  TYPE: ARRAY
  The array that is transmitted back to the DICOM Gateway through
 EXTERNAL ROUTINES:
  ^XWBVLL

MAG DICOM UPDATE GATEWAY NAME - UPDTGW^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC updates the name and location of a DICOM Gateway in the
 database on the VistA system (table # 2006.587 in ^MAG(2006.587)).
 PARAMETERS
  OLDNAM
   TYPE:LITERAL
   The value of this parameter is a string that identifies
  NEWNAM
   TYPE:LITERAL
   The value of this parameter is a string that identifies
  OLDLOC
   TYPE:LITERAL
   The value of this parameter is a pointer to 
  NEWLOC
   TYPE:LITERAL
   The value of this parameter is a pointer to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value of this RPC indicates whether or not the
 EXTERNAL ROUTINES:
  

MAG DICOM UPDATE SCU LIST - UPDTAPP^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC updates the information that is stored in VistA
 as the list of accessible C-Store providers for the current
 DICOM Gateway.
 PARAMETERS
  APP
   TYPE:LIST
   This parameter is an array. Each element of this
 RETURN VALUE
  TYPE: SINGLE VALUE
  The output value of this RPC indicates whether or not the
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

MAG DICOM VALID LOCATIONS - LOCS^MAGDRPC8
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns an array with all locations that are part
 of the current site, whether the site is "consolidated" or not.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Each element of the output array is of the form:
 EXTERNAL ROUTINES:
  FIND^DIC,$$GET1^DIQ,^XUPARAM,$$KSP^XUPARAM

MAG DICOM WORKSTATION VERSION - STATION^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 For the purposes of "Mag Enterprise", each DICOM Gateway
 will report its current software version each day to the VistA
 System.
  
 This RPC is called to register the current version information.
 PARAMETERS
  STATION
   TYPE:LITERAL
   The value of this parameter is a text string (upper case only).
  VERSION
   TYPE:LITERAL
   The value of this parameter is a text string.
 RETURN VALUE
  TYPE: SINGLE VALUE
  This RPC will return a single value.
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

DENTV FEE BASIS ADD - ADD^DENTVFB
 This RPC adds, or edits a record in the Dental Fee Basis file (#228.5).
 PARAMETERS
  INPUT
   TYPE:LIST
   This is the input array for adding/updating a new record to the Dental Fee
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns 1 if successful, else returns -1^message.
 EXTERNAL ROUTINES:
  

DENTV FEE BASIS LIST - LIST^DENTVFB
 This RPC gets a list of DENTAL FEE BASIS EXTRACT (#228.5) records for
 a specified patient.  The input is a single value, patient id (DFN).
 PARAMETERS
  INPUT
   TYPE:LITERAL
   The input value is a single patient id (DFN).
 RETURN VALUE
  TYPE: ARRAY
  Returns an array containing the internal entry number (IEN) appended to 
 EXTERNAL ROUTINES:
  

DENTV TP FILE PSR - PSR^DENTVTP4
 This RPC adds (or updates) a record to the Treatment Plan Transaction/Exam
 file (#228.2).  The only record type supported by this RPC is the PSR 
 type, where the TYPE field (.29) = 3.
 PARAMETERS
  INPUT
   TYPE:LIST
   This is the input array for adding or updating a PSR transaction type to 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns ien^message if successful, else returns -1^error message if not.
 EXTERNAL ROUTINES:
  

DENTV TP FILE PERIO - PER^DENTVTP4
 This RPC adds (or updates) a reocrd to the Treatment Plan 
 Transaction/Exam file (#228.2).  The only record type supported by this 
 RPC is the Perio type, where the TYPE field (.29) = 2.
 PARAMETERS
  INPUT
   TYPE:LIST
   This is the input array for adding or updating a Perio transaction type 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns ien^message if successful, else -1^error message.
 EXTERNAL ROUTINES:
  

DENTV TP FILE HNC - HNC^DENTVTP4
 This RPC adds, updates or marks as deleted, records to the Treatment Plan 
 Transaction/Exam file (#228.2).  The only record type supported by this 
 RPC is the Head and Neck type, where the TYPE field (.29)=4.
 PARAMETERS
  INPUT
   TYPE:LIST
   This is the input array for adding, updating or deleting multiple 
 RETURN VALUE
  TYPE: ARRAY
  Returns an array of messages based on the number of Head&Neck 
 EXTERNAL ROUTINES:
  

DENTV TP ADD ENCOUNTER - ADD^DENTVTP2
 This will add a new record to the dental encounter file, 228.1
 PARAMETERS
  DATA
   TYPE:LIST
   DATA(sub) = value  where
 RETURN VALUE
  TYPE: SINGLE VALUE
  If successfully add a new record, return ien to file 228.1^message
 EXTERNAL ROUTINES:
  

DENTV TP GET ADA TABLE - ADA^DENTVTP1
 This returns the ADA table (file 228) for the Discus Treatment Planning 
 system.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  return ^TMP("DENT",$J,cpt_code) = p1^p2^...^p13
 EXTERNAL ROUTINES:
  

DENTV TP GET PROVIDERS - PROV^DENTVTP1
 This will return a list of all providers who have provided service to 
 this patient.  Each provider will have a flag indicating whether or not 
 the provider is current.
 PARAMETERS
  DENTL
   TYPE:LIST
   DENTL("StartDate") - optional - start date in FM format - default = 0
 RETURN VALUE
  TYPE: ARRAY
  if problems, return DENT(1) = -1^message
 EXTERNAL ROUTINES:
  

DENTV TP FILE TOOTH NOTE - NOTE^DENTVTP6
 This will allow you to add, update, or delete a record in file 228.6
 PARAMETERS
  DATA
   TYPE:LIST
   DATA(1) = $START
 RETURN VALUE
  TYPE: ARRAY
  If action is successful, RET(n)= 1^message
 EXTERNAL ROUTINES:
  

DENTV TP GET TOOTH NOTES - GET^DENTVTP6
 This returns all the tooth notes for all dates for a patient.  The data 
 will be sorted by tooth number and then by reverse date.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is a pointer to the PATIENT file.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return: global array List[n] := value
 EXTERNAL ROUTINES:
  

DENTV TP GET HNC - HNC^DENTVTP3
 Returns all of the Head&Neck records from the Treatment Plan 
 Transaction/Exam file (#228.2) for a particular patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is a pointer to the PATIENT file.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a global array List[n] = HNC data.
 EXTERNAL ROUTINES:
  

DENTV TP GET PSR - PSR^DENTVTP3
 Returns all of the PSR type records from the Treatment Plan 
 Transaction/Exam file (#228.2) for a particular patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is a pointer to the PATIENT file.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a global array List[n] := PSR data, or if problems returns
 EXTERNAL ROUTINES:
  

DENTV TP GET PERIO - PERIO^DENTVTP3
 Returns all of the Perio type records from the Treatment Plan 
 Transaction/Exam file (#228.2) for a particular patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is a pointer to the PATIENT file.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a global array List[n] := Perio, or if there are problems, then
 EXTERNAL ROUTINES:
  

DENTV TP FILE TRANSACTIONS - FILE^DENTVTPA
 This will file transaction data types to file 228.2.  It will also create 
 the DAS record (#221) if appropriate.  It will also file data to PCE if 
 appropriate.
 PARAMETERS
  DATA
   TYPE:LIST
   See documentation in FILE
 RETURN VALUE
  TYPE: ARRAY
  If all filing is successful, then the return array will contain:
 EXTERNAL ROUTINES:
  

DENTV DELETE TRANSACTIONS - DELT^DENTVRHD
 This RPC deletes the dental encounter from the DENTAL HISTORY file 
 (#228.1) and dental transactions from the DENTAL TREATMENT PLAN/EXAM file
 (#228.2) for types=PSR, PerioExam and Head&Neck if the Transaction(s) for
 type=Transaction fails to file.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the internal entry in file 228.1 to be deleted.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns  1^Records deleted, or -1^error message if the IEN lookup fails.
 EXTERNAL ROUTINES:
  

DENTV TP GET TRANSACTIONS - TXN^DENTVTP5
 Returns all of the Transaction type records from the Treatment Plan 
 Transaction/Exam file (228.2) for a particular patient..
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is a pointer to the PATIENT file.
  TYPE
   TYPE:LITERAL
   This flag (T, E, P, or S) indicates the type of records to retrieve.
  SDT
   TYPE:LITERAL
   This is an optional date in Fileman format.   If passed only records 
  EDT
   TYPE:LITERAL
   This is an optional date in Fileman format.   If passed only records 
  PROV
   TYPE:LITERAL
   This optional parameter will be the provider's record number (ien) to the 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a global array List[n] := txn data.
 EXTERNAL ROUTINES:
  

DSIR FOIA VALIDATION - FOIA^DSIROIRV
 This RPC will return a global array of all records thkat were looked at 
 for the year end FOIA report.  It will contain the internal request 
 number and patient name/FOIA indicator, and a one for any block on the 
 report that the given request was included on.  It also contains all 
 record that, during the report period, were entered in error or of the 
 type of request/requestor type of an excluded state reporting agency.
 PARAMETERS
  START DATE
   TYPE:LITERAL
  END DATE
   TYPE:LITERAL
  DIVISION(S)
   TYPE:LIST
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RETURNS: GLOBAL ARRAY 
 EXTERNAL ROUTINES:
  

DSIR TURNAROUND TIME REPORT - TURN^DSIROIR1
 This RPC will return a list of ROI Instance file IEN's and the Processing 
 time to either complete or to the end of the selected date range.
 PARAMETERS
  CLERK
   TYPE:LITERAL
   This is the DUZ of the selected clerk.
  START DATE
   TYPE:LITERAL
   This is the FileMan date to start the report.  If null the process will 
  END DATE
   TYPE:LITERAL
   This is the FileMan date the report runs through.  If null the current 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array:
 EXTERNAL ROUTINES:
  

DSIR CLEANUP EXEMPTIONS - FIXMPT^DSIROI1
 This RPC returna an array containing the internal numbers of any entry in 
 file 19620 that may have bogus data stored in the exemption fields. This 
 problem was corrected in the 5.2 version of the ROI package, this will 
 allow the ROI manager to review and correct the individual ROI requests.
 PARAMETERS
  START DATE
   TYPE:LITERAL
   The date used to start the search for entries to check for bogus 
  END DATE
   TYPE:LITERAL
   The date to stop the search.  Defaults to the current day.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array '^' Delimited:
 EXTERNAL ROUTINES:
  

DSIR CLEAR FOLLOWUP DATES - CLEARFU^DSIROI1
 This RPC will go through the ROI Instance file (19620) and set the 
 current date as the Followup Letter Date for any entry that doesn't have 
 one.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value 1 is returned when the RPC completes.
 EXTERNAL ROUTINES:
  

ORWPS REASON - REASON^ORWPS
 Returns list of Statement/Reasons for Non-VA medication orders.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  WPVAL^ORWDXR,GETLST^XPAR

ORWDPS5 ISVTP - ISVTP^ORWDPS5
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDBA1 ORPKGTYP - ORPKGTYP^ORWDBA1
 Array of Order Package Types
 PARAMETERS
  ORLST
   TYPE:LIST
   List of Order IENs
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDBA1 RCVORCI - RCVORCI^ORWDBA1
 Receive Order Entry Billing Aware data from CPRS.
 PARAMETERS
  DIAG
   TYPE:LIST
   Array of Orders and Clinical Indicators returned from CPRS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ICDDX^ICDCODE,$$ORFMDAT^ORWDBA3

ORWDAL32 SEND BULLETIN - SENDBULL^ORWDAL32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$SENDREQ^GMRAPES0

ORWDXR01 ISSPLY - ISSPLY^ORWDXR01
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDBA1 SCLST - SCLST^ORWDBA1
 Array of Order ID's and SC.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient IEN.
  ORLST
   TYPE:LIST
   List of Orders.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDXR01 OXDATA - OXDATA^ORWDXR01
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDBA1 BASTATUS - BASTATUS^ORWDBA1
 Billing Awareness RPC.
 Returns 0 if BA functionality is off or 1 if BA functionality is on.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CHKPS1^ORWDBA5

ORWORB SETSORT - SETSORT^ORWORB
 Sets the GUI alert sort method for the user.  This is set when a user 
 clicks on the GUI alert columns to change the display sorting.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

ORWORB GETSORT - GETSORT^ORWORB
 Returns the method for sorting GUI alert display.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWOR EXPIRED - EXPIRED^ORWOR
 Returns the Fileman Date/Time to begin searching for expired orders.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$FMADD^XLFDT,$$NOW^XLFDT,$$GET^XPAR

ORPRF HASCAT1 - HASCAT1^ORPRF
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GETACT^DGPFAPI

ORWDPS32 AUTHNVA - AUTHNVA^ORWDPS32
 Checks restrictions for entering non-VA meds.  If no restrictions, a 0 is
 returned.  If there is a restriction, it is returned in the format:
 1^restriction text 
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

DENTV REPORT PROVIDERS - PROV^DENTVAU
 Returns an array containing all dental providers with 8 character 
 Provider Ids that belong to the selected division.  If the provider has 
 no divisions listed in file 200, then they show up under any division 
 selection.
 PARAMETERS
  DIV
   TYPE:LITERAL
   Pass the division if we're screening providers by division.
 RETURN VALUE
  TYPE: ARRAY
  Return data will be in the following format:
 EXTERNAL ROUTINES:
  

DENTV REPORT DATA - RPT^DENTVAU
 Retrieves Dental Report data for a specified time period and station. 
 PARAMETERS
  PARAM
   TYPE:LIST
   The input parameter list contains the following:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a global array containing the report data.  The array is specific 
 EXTERNAL ROUTINES:
  

DENTV GET ALL PROVIDERS - PROV^DENTVRP5
 Gets all providers (including inactive) for edit purposes.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns an array List[n] := dental provider data
 EXTERNAL ROUTINES:
  

DENTV GET PROVIDER TYPES - TYPE^DENTVRP5
 Gets a list of Provider Types from the DENTAL PROVIDER TYPE (220.51)
 file.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns an array containing the Provider Types and their 1-2 digit code.
 EXTERNAL ROUTINES:
  

DENTV GET PROVIDER SPECIALTIES - SPEC^DENTVRP5
 Gets a list of all active Provider Specialties from file 220.52.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns an array List[n] := Provider Specialty info.
 EXTERNAL ROUTINES:
  

DENTV PROVIDER ADD UPDATE - EDIT^DENTVRP5
 This RPC allows Dental Record Manager to add/edit their Dental Providers.
 PARAMETERS
  DATA
   TYPE:LIST
   The input array contains the Dental Provider information to be 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns ien^message if the filing was without errors, or
 EXTERNAL ROUTINES:
  

DENTV NEW EXTRACT - Q^DENTVRP8
 This RPC queues off the Dental Extract at a user designated time.  Upon 
 completion of the extract, a TCP/IP client will be called from the tasked 
 job to send the data to a text file.
 PARAMETERS
  INPUT
   TYPE:LIST
   This is the input array for queuing the Dental Extract.  The following 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns Taskman job number^Extract successfully queued to run @dt/tm
 EXTERNAL ROUTINES:
  

DGQE GET PATIENT DEMO - GETDEMO^DGQERPC
 This remote procedure retrieves demographic data for a given patient 
 needed to create a Veteran ID Card.  As part of the demographic retrieval 
 process, the veteran's VIC mailing address is algorithmically selected
 from the following addresses in priority order:
  
 1. HIPAA Confidential address
 2. Temporary address
 3. Permanent address
 4. Facility address
  
 A status value, called the Card Print Release Status, and a single 
 remarks text line is returned with the veteran's demographics.  The Card 
 Print Release Status can have a value of "P", "H", "I", or "C" for Print, 
 Hold, Ineligible, or Cancel.
 PARAMETERS
  DGICN
   TYPE:LITERAL
   This parameter contains the patient's Integration Control Number.
 RETURN VALUE
  TYPE: ARRAY
  The return value is an array of text lines.  Each text line consists of at
 EXTERNAL ROUTINES:
  $$GETELIG^DGQEUT1,$$GETPAT^DGQEUT1,INITARR^DGQEUT1,CPRSTAT^DGQEUT2,$$GETDFN^MP
IF001

DGQE SET CARD ID - SETID^DGQERPC
 This RPC acts as a callback from the VIC PICS workstation.  The callback
 occurs when the workstation has successfully submitted the veteran's
 photograph and demographic data to the National Card Management Directory
 (NCMD). The callback provides the CARD_CardID value from the PICS
 workstation, which is needed for the VistA to NCMD interface.
 PARAMETERS
  DGRSTAT
   TYPE:LITERAL
   This parameter is the Card Print Release Status as a single character set 
  DGID
   TYPE:LITERAL
   This parameter is the Card ID assigned when the VIC PICS workstation 
  DGICN
   TYPE:LITERAL
   This parameter contains the patient's Integration Control Number.
 RETURN VALUE
  TYPE: SINGLE VALUE
  A literal "1" will be returned indicating success or a literal "0" will be
 EXTERNAL ROUTINES:
  STOCID^DGQEREQ,$$GETDFN^MPIF001

MPIF CMOR PUSH REMOTE - EN^MPIFRCMP
 This remote procedure call (RPC) allows the DQ team to remotely create a 
 change of CMOR push.
 PARAMETERS
  ICN
   TYPE:LITERAL
   ICN - not including the checksum
  NCMOR
   TYPE:LITERAL
   The station number of the site that is to become the CMOR.
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if successfully requested PUSH of CMOR to site NCMOR.
 EXTERNAL ROUTINES:
  ^DIE,$$GET1^DIQ,$$CHANGE^MPIF001,$$GETDFN^MPIF001,$$GETVCCI^MPIF001,BROAD^MPIF
CMOR,$$CHK^MPIFEDIT,$$ADD^MPIFNEW,EN^MPIFREQ,$$SITE^VASITE,$$IEN^XUAF4,$$STA^XUA
F4

MAG4 POST PROCESS ACTIONS - POSTACT^MAGGSPP
  This is call to perform any post processing action required on
   a newly saved image of this type.  post processing (for now) is
   determined by the IMAGE INDEX FOR TYPES file.  If this image
   points to an entry in that file that has Action turned ON, then
   the TAG^ROUTINE will be called with the Image IEN.
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   Internal entry number in the Image File (
 RETURN VALUE
  TYPE: ARRAY
  1^Success
 EXTERNAL ROUTINES:
  

MAG4 INDEX GET TYPE - IGT^MAGSIXGT
 This Remote Procedure Call is used to filter out those
 image types that belong to a given image category (Class).
  
 When images are displayed, it is desirable to limit the
 list of presented images to only those that are likely
 to be relevant in the current context.
  
 This procedure accepts an "image class" (either an IEN
 or the name of a class) and returns all "image types"
 that belong to that class..
 PARAMETERS
  CLS
   TYPE:LITERAL
   This parameter is a ',' (comma) delimited string of classes.
  FLGS
   TYPE:LITERAL
   ;  FLGS : An '
 RETURN VALUE
  TYPE: ARRAY
  The result is an array of Image TYPES that are valid for the 
 EXTERNAL ROUTINES:
  $$GET1^DIQ

MAG4 INDEX GET EVENT - IGE^MAGSIXGT
 This call will return an array of INDEX PROCEDURE/EVENT(s)
 based on the input parameters CLS (Class)
 and SPEC (Specialty/subspecialty)
 When images are displayed, it is desirable to limit the
 list of presented images to only those that are likely
 to be relevant in the current context.
  
 This procedure accepts an "image category" (either an IEN
 or the name of a category) and returns all "image events"
 that belong to that category.
 PARAMETERS
  CLS
   TYPE:LITERAL
   This parameter is a ',' (comma) delimited string of classes
  FLGS
   TYPE:LITERAL
   ;  FLGS : An '
  SPEC
   TYPE:LITERAL
   This is a comma delimited list of Specialty/SubSpecialties
 RETURN VALUE
  TYPE: ARRAY
  The result array includes all Procedure/Events that match the
 EXTERNAL ROUTINES:
  $$GET1^DIQ

MAG4 INDEX GET SPECIALTY - IGS^MAGSIXGT
 This call will return an array of INDEX SPECIALTY/SUBSPECIALTIES
 based on the input parameters CLS (Class)
 and EVENT (Procedure/Event)
 When images are displayed, it is desirable to limit the
 list of presented images to only those that are likely
 to be relevant in the current context.
  
 This procedure accepts an "image category" (either an IEN
 or the name of a category) and returns all "(sub)specialties"
 that generate images in that category.
 PARAMETERS
  CLS
   TYPE:LITERAL
   This parameter is a ',' (comma) delimited string of classes
  EVENT
   TYPE:LITERAL
   This is a ','(comma) delimited string of Procedure/Events
  FLGS
   TYPE:LITERAL
   ;  FLGS : An '
 RETURN VALUE
  TYPE: ARRAY
  The result array includes all Specialty/SubSpecialties that match the
 EXTERNAL ROUTINES:
  $$GET1^DIQ

MAG4 PAT GET IMAGES - PGI^MAGSIXG1
 This Remote Procedure Call is used to filter out those specialty for which
 a given image category may be relevant.
  
 When images are displayed, it is desirable to limit the list of presented
 images to only those that are likely to be relevant in the current
 context.
  
 This procedure accepts a patient-IEN (DFN) and optionally also a category,
 type, event and specialty.
  
 This procedure will return a list of all images for that patient that
 match the specified other input parameters.
  
 NOTE: This remote procedure is kept for backward compatibility only. 
       Please use the MAG4 IMAGE LIST remote procedure for any new
       development.
 PARAMETERS
  DFN
   TYPE:LITERAL
   The value of this parameter is the IEN in the Patient File (#2)
  CLASS
   TYPE:LITERAL
   Image class names or IENs (see the CLASS INDEX field (41) of the IMAGE
  TYPE
   TYPE:LITERAL
   Image type names or IENs (see the TYPE INDEX field (42) of the file #2005
  EVENT
   TYPE:LITERAL
   Procedure/Event names or IENs (see the PROC/EVENT INDEX field (43) of the
  SPEC
   TYPE:LITERAL
   Speciality/SubSpecialty names or IENs (see the SPEC/SUBSPEC INDEX field
  FROMDATE
   TYPE:LITERAL
   Beginning of the date range for image selection. Dates can be in internal
  TODATE
   TYPE:LITERAL
   End of the date range for image selection. Dates can be in internal or
  ORIGIN
   TYPE:LITERAL
   Internal or external values of the ORIGIN INDEX field (45) of the file
  DATA
   TYPE:LITERAL
   Reserved for future use.
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  PKG
   TYPE:LITERAL
   Internal or external values of the PACKAGE INDEX field (40) of the file
 RETURN VALUE
  TYPE: ARRAY
  Zero value of the first '^'-piece of the Results[0] indicates that an
 EXTERNAL ROUTINES:
  $$IPVE^MAGUERR

MAG4 GET IMAGE INFO - GETINFO^MAGGTU3
 Returns specific fields of an image entry, to be displayed
 in the image information window.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Image File internal entry number.
 RETURN VALUE
  TYPE: ARRAY
  Array of information on a specific image
 EXTERNAL ROUTINES:
  GETINFO^MAGGTU31

MAG4 GET FILE FORMAT INFO - INFO^MAGGSFT
 Returns information given a file extension. (Format)
 PARAMETERS
  MAGEXT
   TYPE:LITERAL
   This is the file Format. (The file extension)
 RETURN VALUE
  TYPE: ARRAY
  Returns Image File system information
 EXTERNAL ROUTINES:
  

MAG GET ENV - GETENV^MAGGTU6
 Returns environment variables from VistA server
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

MAG4 CT PRESETS SAVE - SAVECTP^MAGGTU6
  Saves the CT Presets from the Radiology Viewer in Clinical Display
   as site Specific Presets.
 PARAMETERS
  VALUE
   TYPE:LITERAL
   This is the string of CT Presets. 
  DATA
   TYPE:LITERAL
    DATA is a set of Flags that determine where the CT Presets will be saved.
 RETURN VALUE
  TYPE: SINGLE VALUE
    1^message for success
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI

MAG4 CT PRESETS GET - GETCTP^MAGGTU6
 Returns the site specific CT Presets
 PARAMETERS
  DATA
   TYPE:LITERAL
    DATA is a set of Flags to determine which set of Site CT Presets to return.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a string of CT Presets.
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI

MAG4 FILTER DETAILS - GET^MAGGSFLT
 Returns the property values of a single filter
 PARAMETERS
  FLTIEN
   TYPE:LITERAL
   This is the filter ien in the IMAGE LIST FILTERS file.
 RETURN VALUE
  TYPE: ARRAY
  Returns the property values of a single filter.
 EXTERNAL ROUTINES:
  GETS^DIQ,$$FMTE^XLFDT

MAG4 FILTER GET LIST - GETLIST^MAGGSFLT
 Returns a list of Image Filters
 Either for a specific user (Private filters)
 or Public filters.
 Some Public filters are distributed with the installation.
 Public filters can also be created by the Imaging site manager.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is DUZ, if "" is sent, then the RPC retrieves the Public filters.
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of Filter IENs ^ Filter Name
 EXTERNAL ROUTINES:
  

MAG4 FILTER SAVE - SET^MAGGSFL1
 Stores the new filter to the IMAGE LIST FILTERS file (#2005.87) or updates
 properties of the existing filter.
 PARAMETERS
  MAGGZ
   TYPE:LIST
   List that stores the filter data and related parameters.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return literal is two piece "^" delimited string
 EXTERNAL ROUTINES:
  FILE^DIE,UPDATE^DIE,CLEAN^DILF,$$VALID^MAGGSIV1

MAG4 FILTER DELETE - DEL^MAGGSFLT
 Deletes a Filter entry in the IMAGE LIST FILTERS file.
 PARAMETERS
  FLTIEN
   TYPE:LITERAL
   This is the IEN to Delete.
 RETURN VALUE
  TYPE: SINGLE VALUE
    1^success
 EXTERNAL ROUTINES:
  ^DIK,CLEAN^DILF

MAG DIRHASH - DHRPC^MAGQBUT4
 +---------------------------------------------------------------+
 | Property of the US Government.                                |
 | No permission to copy or redistribute this software is given. |
 | Use of unreleased versions of this software requires the user |
 | to execute a written test agreement with the VistA Imaging    |
 | Development Office of the Department of Veterans Affairs,     |
 | telephone (301) 734-0100.                                     |
 |                  
 | The Food and Drug Administration classifies this software as  |
 | a medical device.  As such, it may not be changed in any way. |
 | Modifications to this software may result in an adulterated   |
 | medical device under 21CFR820, the use of which is considered |
 | to be a violation of US Federal Statutes.                     |
 +---------------------------------------------------------------+
  
 This function returns the current hash schema.
 PARAMETERS
  Filenamd
   TYPE:LITERAL
   Name of the Image file to be evaluated hashing.
  Network location file pointer.
   TYPE:LITERAL
   This reference is used to determine whether hashing is enabled
 RETURN VALUE
  TYPE: SINGLE VALUE
  This value is null if the network location does not have hashing enabled
 EXTERNAL ROUTINES:
  $$DIRHASH^MAGFILEB

MAGG INSTALL - GPACHX^MAGQBUT4
 This is a list of all Image package installs on the host system.
 This list comes from the Install file.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC

MAGG CONS - CONRPC^MAGBAPI
 This function returns the boolean value used to determine
 whether the Imaging site is operating in the Consolidation
 mode.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  0 means the site is running Non-consolidated Vista Imaging.
 EXTERNAL ROUTINES:
  $$CONSOLID^MAGBAPI

MAGG PLACE - PLACER^MAGBAPI
 This rpc returns the IEN of the 2006.1 entry that is appropriate for 
 the multi institution parameter designated by the users DUZ(2).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The ien or DA of the users Site Paramter file record.
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI

MAG FLD ATT - DDLF^MAGQBUT4
 This RPC returns a list of field attributes.
 PARAMETERS
  FILE
   TYPE:LITERAL
   The file number that contains the desired attribute.
  FIELD
   TYPE:LITERAL
   The desired field attribute.
  FLAG
   TYPE:LITERAL
  ATTR
   TYPE:LITERAL
   The field attribute desired.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID

DSIC PX GET SELECTED VISITS - SEL^DSICPX3
 This will return information on selected visits for a patient based upon 
 the screening factors.
 PARAMETERS
  DATA
   TYPE:LIST
   Setup up Parm.Mult['"sub"'] := value   or DATA(SUB)=value
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RETURN: DSIC=$NA(^TMP("VSIT",$J))
 EXTERNAL ROUTINES:
  

DSIC PX GET VISIT INFO2 - LOOK^DSICPX3
 Return all field values for a visit in internal or external format or 
 both.
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA = p1
 RETURN VALUE
  TYPE: ARRAY
  RETURN: DSIC(#) = p1^p2^p3^p4  where
 EXTERNAL ROUTINES:
  

DSIC CPT FIND - FIND^DSICCPT
 For a lookup value, this will return a list of CPT codes matching that 
 lookup value.
 PARAMETERS
  VAL
   TYPE:LITERAL
   This is the lookup value for getting a list of CPT codes
  DATE
   TYPE:LITERAL
   This date is optional.  Default to TODAY.  Only CPT codes that were 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  If lookup is successful, return List[n] := p1^p2^p3  for n=0,1,2,3,...
 EXTERNAL ROUTINES:
  

DSIC TIU LIST SPECIAL DOCS - LIST^DSICTIU1
 There are certain TIU documents which are in special classes.  These 
 documents are linked to other VistA files.  The TIU Document file has a 
 Fileman Variable Pointer linking that document to the owning file.  
 Surgical Notes and Clinical Procedure notes are of this type.  This RPC 
 will return a list of TIU notes assoicated with a specific variable 
 pointer.
 PARAMETERS
  DSICVP
   TYPE:LITERAL
   This is a Fileman Variable Pointer value to be used for looking up 
  SEQ
   TYPE:LITERAL
   This optional single character flag indicates the date order for the list 
  REC
   TYPE:LITERAL
   This parameter is optional.  However, if the DSICVP parameter is not 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  DSIC - return array - passed by reference
 EXTERNAL ROUTINES:
  

DSIC TIU GET RECORD TEXT - TEXT^DSICTIU1
 This was mainly written to allow one M routine to get the text of any 
 signed progress note.  This function is exposed to the GUI.  However, GUI 
 applications should use the TIU get document RPC in lieu of this RPC in 
 most cases.
 PARAMETERS
  DSIEN
   TYPE:LITERAL
   Internal record number for file 8925 [IEN or IFN].
  ACTION
   TYPE:LITERAL
   This parameter is not well documented within TIU.  So for this RPC, do 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return the text portion of a signed progress note.  If there are 
 EXTERNAL ROUTINES:
  

DENTV TP GET OLD ENCOUNTERS - ENC^DENTVTP5
 Returns a list of all complete and/or terminated encounters for a 
 selected patient.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   Input parameter is the patient DFN.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns global array in the format:
 EXTERNAL ROUTINES:
  

DENTV FILE PARAMETERS - PAR^DENTVTP0
 This RPC allows the Dental software to file word processing type 
 parameters.
 PARAMETERS
  ENT
   TYPE:LITERAL
   Entity is the level where the parameter is stored (USR, PKG, SYS), etc.
  PAR
   TYPE:LITERAL
   Parameter is the name of the parameter that values are stored under.
  INST
   TYPE:LITERAL
   Instance is defaulted to 1 if not defined, otherwise it represents the 
  DATA
   TYPE:LIST
   DATA is the value of the parameter, passed as a list to allow setting of 
 RETURN VALUE
  TYPE: SINGLE VALUE
  RET = 1^Success if parameter was filed okay, else
 EXTERNAL ROUTINES:
  

DENTV TP FILE RESERVED TXNS - SAVE^DENTVTP7
 Saves transaction information for a particular Dental provider and 
 patient.  Reserved transactions are not filed to Dental History, DAS or 
 PCE.
 PARAMETERS
  DATA
   TYPE:LIST
   Contains filing information:
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns 1^successful message, or -1^error message.
 EXTERNAL ROUTINES:
  

DENTV TP GET RESERVED TXNS - GET^DENTVTP7
 Returns all reserved transactions for a particular Dental provider and
 patient.
 PARAMETERS
  PROV
   TYPE:LITERAL
   Provider IEN from file 200.
  DFN
   TYPE:LITERAL
   Patient DFN from file 2.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Global array of all reserved transactions for the submitted provider and 
 EXTERNAL ROUTINES:
  

DENTV GET VA-DSS PRODUCTS - VADSS^DENTVTP1
 Returns all of the VA-DSS product lines from the DENTAL GROUPING FOR 
 VA-DSS file.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns ^TMP("DENT",$J,ien) = p1^p2 where
 EXTERNAL ROUTINES:
  

ORWGN GNLOC - GNLOC^ORWGN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACTLOC^ORWU,GETLST^XPAR

ORWGN AUTHUSR - AUTHUSR^ORWGN
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

OOPS GET MISC REPORT DATA - ENT^OOPSGUIR
 This broker call will return data to generate reports on the Delphi Client
 side.  It is a generic call that needs the start date, end date, station
 number (or A for all stations), and the report call or name.
 PARAMETERS
  INPUT
   TYPE:LITERAL
  REPORT
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^%DT

OOPS GET FAC SHORT LIST - STA^OOPSGUIS
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETINST^OOPSGUI7

OOPS SELECT CA7 - CA7LIST^OOPSGUIC
 This broker call returns a list of valid Request for Compensation claims (CA-7)
 for the employee or Workers' Comp Specialist.
 PARAMETERS
  PERSON
   TYPE:LITERAL
   This parameter contains either the employee's name or employee's social
  CALL
   TYPE:LITERAL
   This parameter contains the file number and the menu that called this broker
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return array contains a list of valid CA-7's which includes the CA-7 Case
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS LIST CAS - LISTCA^OOPSGUIC
 This broker call returns a listing of all the valid CA's (either 1 or 2) that
 can be selected by this user to create a new Request for Compensation (CA-7)
 claim.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter passes in 3 pieces of information:  the name or SSN to be used
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This return parameter returns a list of valid CA-1's and CA-2's containing
 EXTERNAL ROUTINES:
  $$GET1^DIQ

OOPS MULTIPLE DATA - MULTIPLE^OOPSGUIC
 This broker call will be used to both get and set data stored in a sub-record
 or multiple.  When saving (setting) data, the entire subrecord is deleted then
 re-filed.
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter contains three pieces of data, the top level file number to be
  DATA
   TYPE:LIST
   This parameter is an array that contains the data to be filed into the 
 RETURN VALUE
  TYPE: ARRAY
  Data from the multiple will be returned in the results array.
 EXTERNAL ROUTINES:
  $$GET1^DID,$$ROOT^DILFD

OOPS SET DUAL BENEFITS DATA - DUAL^OOPSGUID
 This broker call files data in the DUAL Node of the ASISTS Accident Reporting
 File (#2260).
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This field contains the IEN and the form of the record the data will
  DATA
   TYPE:LITERAL
   This string contains the DUAL Benefits data.  It is in the format of:
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return parameter will be Update Completed if successful, or No Changes
 EXTERNAL ROUTINES:
  ^DIE

OOPS SIGN CA7 - SIGNCA7^OOPSGUIS
 This broker call accepts an encrypted electronic signature, validates the 
 entry and files the signature fields in the ASISTS COMPENSATION CLAIM (CA7) 
 File (#2264).
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter contains the file number, field number and internal record
  SIGN
   TYPE:LITERAL
   This parameter contains the encrypted electronic signature code.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return parameter, contains a message indicating the success of filing
 EXTERNAL ROUTINES:
  NOW^%DTC,^DIE,$$GET1^DIQ,MFAC^OOPSMBUL,^XMB,$$DECRYP^XUSRB1

OOPS SIGNATURE VALIDATION - DECODE^OOPSGUIS
 This broker call will return the SIGNATURE BLOCK PRINTED NAME from the New
 Person File (#200) if the validation logic for signing the case passes.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This parameter contains the internal record number for the case.
  CALL
   TYPE:LITERAL
   This parameter contains the letter that cooresponds to the menu that was
  FORM
   TYPE:LITERAL
   This paramter contains the type of form that is being accessed.  As of ASISTS
 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value will contain either the SIGNATURE BLOCK PRINTED NAME or an
 EXTERNAL ROUTINES:
  DE^XUSHSHP

OOPS ZIP CODE MISMATCH CHECK - ZIPCHK^OOPSGUI8
 This broker call will take the Zip Code and State Name and validate that the
 Zip Code exists and is valid for the State.
 PARAMETERS
  DATA
   TYPE:LITERAL
   This parameter will contain the Zip Code and the State name to validate in th
e
 RETURN VALUE
  TYPE: SINGLE VALUE
  The RESULTS parameter will contain a text message indicating the success of
 EXTERNAL ROUTINES:
  POSTAL^XIPUTIL

PSB MED LOG LOOKUP - RPC^PSBMLLKU
 BCMA Medication Log Look Up Remote Procedures.
  
 This routine is a conglomerate of  Medication Log lookup functionality
 per the BCMA Graphical User Interface software.
  
 Input:  PSBREC (array)
         PSBREC (0)     determine  "lookup" function 
                       "PTLKUP" (patient file (#2) lookup)
                       "ADMLKUP" (MedLog administration lookup)
                       "SELECTAD" (selected admin.)
                (1)     values to use per lookup. (DFN per ADMLKUP)
                        value of selected item. (PSB IEN per SELECTAD)
                (2)     search date per ADMLKUP
     
 Output: RESULTS (array)
         RESULTS(0)    number of lookup matches
                (1)    error message or data per match/selection
                (n)    data per subsequent match/selection.
  
 "PTLKUP" results data format:
 RPC Call: PSB MED LOG LOOKUP
 RESULTS(0) = 1
 RESULTS(1) = 
 piece 1         Patient's DFN               ("-1" if error/message)
 piece 2         Patient's Name
 piece 3         Sex
 piece 4         Date of Birth (FM format)
 piece 5         Social Security Number
 piece 6         ""
 piece 7         ""
 piece 8         ""
 piece 9         ""
 piece 10        Date Of Birth (displayable format)
 piece 11        Social Security Number (displayable format)
  
  
  
 "ADMLKUP" results data format:
 RESULTS(0)=Number of lines returned.
  
 RESULTS(1)=
 piece 1         DFN of Patient
 piece 2         DATE of Activity
 piece 3         Orderable Item_" "_Dosage Form
 piece 4         IV Unique ID
 piece 5         Action Status
 piece 6         Schedule Type
 piece 7         Action Date/Time (FileMan)
 piece 8         Action By Initials
 piece 9         PRN Reason
 piece 10        PRN Effectiveness
  
  
  
 "SELECTAD" results data format:
  
 RESULTS(0)=Number of lines returned.
  
 RESULTS(1)=
 piece 1         PSBIEN of the administration selected for edit. ("-1" if error/
message)
 piece 2         DFN of Patient                                
 piece 3         Patient Name
 piece 4         SSN
 piece 5         Medication
 piece 6         BagID
 piece 7         AdminStat
 piece 8         "for possible later use"
 piece 9         AdminD/T
 piece 10        InjctSt
 piece 11        "IV"/"PB"/"UD"
 piece 12        "for possible later use"
 piece 13        Order Status
 piece 14        Schedul. Type
 piece 15        Order Number_U/V
 piece 16        Order has given patch or infusing IVbag - Flag
  
 RESULTS(2)=
 piece 1         PRN Reason
 piece 2         PRN Effectiveness
  
 RESULTS(3..n) [for each dd/add/sol] =
 piece 1         "DD"/"ADD"/"SOL"
 piece 2         drug IEN
 piece 3         drug Name
 piece 4         Units Ordered
 piece 5         Units Given
 piece 6         Units of Administration
 PARAMETERS
  PSBREC
   TYPE:LIST
   PSBREC  (array)
 RETURN VALUE
  TYPE: ARRAY
  RESULTS (array)
 EXTERNAL ROUTINES:
  

DVBAB REPORT SPECIAL - SPECRPT^DVBASPD2
 Generates a Special Report for Pension and A&A, in either standard or 
 delimited format, for the specified parameters.
 PARAMETERS
  DCTYPES
   TYPE:LIST
   List of IENs that are the "Discharge Types"
  BDATE
   TYPE:LITERAL
   Beginning date in a date range to use for retrieving results for the 
  EDATE
   TYPE:LITERAL
   Ending date in a date range to use for retrieving results for the report.
  RONUM
   TYPE:LITERAL
   Regional Office number should be passed if you
  REP
   TYPE:LITERAL
   Pass 'A' for an A&A Report
  DVBADLMTR
   TYPE:LITERAL
   This is an optional parameter, which when defined with the final end date 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  FINAL^DVBAUTIL

DVBAB SAVE FORM - SAVE^DVBABFRM
 Set DVBIEN to the internal entry number of the form
  
 Set DVBLINES to the lines to be saved
  
 Set DVBLINEN to the starting line # in the global.  This allows for forms
 to be sent in chunks.
 PARAMETERS
  DVBIEN
   TYPE:LITERAL
  DVBLINES
   TYPE:LIST
  DVBLINECOUNT
   TYPE:LITERAL
  DVBLINEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DVBAB EXAMS BY DATE - EXAMBYDT^DVBABEBD
 Provides a report by date range of all AMIE/CAPRI exam requests.
 PARAMETERS
  BEGDT
   TYPE:LITERAL
  ENDDT
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DVBAB TEMPLATE LIST - TEMPLATE^DVBAB1
 Returns complete list of CAPRI templates.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DVBAB LOAD FORM - LOAD^DVBABFRM
 PARAMETERS
  DVBIEN
   TYPE:LITERAL
   IEN of the form data to retrieve.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XWB EXAMPLE GLOBAL SORT - GSORT^XWBEXMPL
  This RPC uses the new Global call to send down a BIG list of number to 
  sort.  In the old Broker it would cause an allocation error but this one 
  saves the data into a temp global.  
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XWB EXAMPLE BIG TEXT - BIGTXT^XWBEXMPL
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORRC SYSID - SYS^ORRCLNP
 This RPC will return the system identifier as a prodcution system or not.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if the system is a production system
 EXTERNAL ROUTINES:
  $$PROD^XUPROD

RMPR PFFS LIST - EN^RMPRPFFS
 GUI REMOTE PROCEDURE, LIST NPPD DATA
  
         ;RESULTS passed to broker in ^TMP($J,
         ;delimited by "^"
         ;piece 1 = ENTRY DATE
         ;piece 2 = PATIENT NAME
         ;piece 3 = PSAS HCPCS with * if hcpcs has Calculation Flag
         ;piece 4 = QTY
         ;piece 5 = VENDOR
         ;piece 6 = INITIAL ACTION DATE
         ;piece 7 = TOTAL COST
         ;piece 8 = DESCRIPTION
         ;piece 9 = INITIATOR
         ;piece 10 = NPPD LINE BEFORE GROUPER
         ;piece 11 = STATION
         ;piece 12 = GROUPER NUMBER
         ;piece 13 = FORM REQUESTED ON
         ;piece 14 = TYPE OF TRANSACTION
         ;piece 15 = SSN
         ;piece 16 = IEN TO FILE 660
         ;piece 17 = HCPCS SHORT DESCRIPTION
         ;piece 18 = SOURCE
 PARAMETERS
  DATE1
   TYPE:LITERAL
   The Fileman date to start the query.  The begining date.
  DATE2
   TYPE:LITERAL
   The Fileman date to end the query.  The ending date.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$INSUR^IBBAPI,$$ICDDX^ICDCODE,$$STATCHK^ICPTAPIU,DEM^VADPT,SVC^VAD
PT

RMPR DIS LIST 660 - EN^RMPR9DM2
 GUI 2319 MAS DISABILITY AND PERCENT.
  
 PASS IEN OF FILE 660.
  
 RETURN RESULTS FROM FILE #2.
  
 RESULTS()=DISABILITY DESCRIPTION^%^SC YESorNO.
 One line or multiple lines.
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  GETS^DIQ

RMPR PFFS INS - EN^RMPR9DM3
          ;RESULTS passed to broker
          ;delimited by "^"
          ;piece 1 = INSURANCE COMPANY
          ;piece 2 = SUB ID
          ;piece 3 = GROUP
          ;piece 4 = HOLDER
          ;piece 5 = EXPIRATION DATE
          ;piece 6 = EFFECTIVE DATE
          ;piece 7 = COB
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$INSUR^IBBAPI

ORWDAL32 LOAD FOR EDIT - EDITLOAD^ORWDAL32
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GETREC^GMRAGUI

ORWDAL32 SAVE ALLERGY - EDITSAVE^ORWDAL32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EIE^GMRAGUI1,NKA^GMRAGUI1,UPDATE^GMRAGUI1

ORWDPS4 ISUDIV - ISUDIV^ORWDPS4
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWPCE CXNOSHOW - CXNOSHOW^ORWPCE2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CHKWKL^TIUPXAP2,DOCPARM^TIUSRVP1

ORWDBA2 GETPDL - GETPDL^ORWDBA2
 Returns a clinician's personal diagnosis codes.
 PARAMETERS
  ORCIEN
   TYPE:REFERENCE
   The clinician's internal ID number.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETS^DIQ,$$STATCHK^ICDAPIU,$$ICDDX^ICDCODE,$$NOW^XLFDT

ORWDBA2 ADDPDL - ADDPDL^ORWDBA2
 Add a new Clinician's Personal DX List or add new ICD9 codes to an 
 existing Clinician's Personal DX List. The Personal DX list is stored in 
 the CPRS Diagnosis Provider file, file # 5000017
 PARAMETERS
  ORCIEN
   TYPE:REFERENCE
   The clinician's internal ID number.
  ORDXA
   TYPE:REFERENCE
   The array variable of diagnosis codes to be added to the clinician's 
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FIND^DIC,FILE^DIE,UPDATE^DIE,FDA^DILF,GETS^DIQ

ORWDBA2 DELPDL - DELPDL^ORWDBA2
 Delete a selected diagnosis code from a Clinician's Personal DX List. The 
 personal dx list is stored in CPRS Diagnosis Provider file, file # 
 5000017.
 PARAMETERS
  ORCIEN
   TYPE:REFERENCE
   The clinician's internal ID number.
  ORDXA
   TYPE:REFERENCE
   Array of diagnoses codes to be deleted from the clinician's personal
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^DIE,FDA^DILF,GETS^DIQ

ORWDBA2 GETDUDC - GETDUDC^ORWDBA2
 This returns a list of unique ICD9 diagnoses codes and their descriptions 
 on orders placed by a clinician for a patient for today. This will be 
 used to help in filling out the encounter form.
 PARAMETERS
  ORCIEN
   TYPE:REFERENCE
   This is the clinician's internal ID number.
  ORPTIEN
   TYPE:REFERENCE
   This is the patient's internal ID number.
 RETURN VALUE
  TYPE: ARRAY
  This is an array of ICD9 diagnoses codes and their descriptions. 
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETS^DIQ,$$STATCHK^ICDAPIU,$$ICDDX^ICDCODE

ORWDBA1 GETORDX - GETORDX^ORWDBA1
 ARRAY OF DIAGNOSES ASSOCIATED WITH AN ORDER
 PARAMETERS
  ORIEN
   TYPE:REFERENCE
   ORDER INTERNAL REFERENCE NUMBER
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ICDDX^ICDCODE,$$ORFMDAT^ORWDBA3

ORWDBA4 GETBAUSR - GETBAUSR^ORWDBA4
 Gets the value of the Enable Billing Awareness By User parameter. The 
 value returned will be 1 for Yes, Billing Awareness Enabled, and 0 for 
 No, Billing Awareness Disabled.
 PARAMETERS
  ORCIEN
   TYPE:REFERENCE
   This is the interanl ID number of the clinicial who is being checked for 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of the return variable will be 1 for Yes, Billing Awareness 
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWDBA4 GETTFCI - GETTFCI^ORWDBA4
 PARAMETERS
  ORIEN
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORWDBA3 HINTS - HINTS^ORWDBA3
 Returns an array of 'Hints' for Treatment Factors for CPRS CI/BA Project.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  <none>
 EXTERNAL ROUTINES:
  

ORWDAL32 SITE PARAMS - GMRASITE^ORWDAL32
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  SITE^GMRAUTL

ORWTPD1 GETEFDAT - GETEFDAT^ORWTPD1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a single integer value.
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPD1 GETEDATS - GETEDATS^ORWTPD1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a single integer value.
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPD1 PUTEDATS - PUTEDATS^ORWTPD1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  EN^XPAR

ORWTPD1 GETCSDEF - GETCSDEF^ORWTPD1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPD1 GETCSRNG - GETCSRNG^ORWTPD1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWTPD1 PUTCSRNG - PUTCSRNG^ORWTPD1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  EN^XPAR

ORWTPD1 GETEAFL - GETEAFL^ORWTPD1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWNSS NSSMSG - NSSMSG^ORWNSS
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWNSS QOSCH - QOSCH^ORWNSS
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  VALSCH^ORWDPS33,$$UP^XLFSTR

ORWNSS VALSCH - VALSCH^ORWNSS
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  VALSCH^ORWDPS33

ORWNSS CHKSCH - CHKSCH^ORWNSS
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  VALSCH^ORWDPS33

ORWTIU CHKTXT - CHKTXT^ORWTIU
 Check for existence of text in TIU(8925,TIUDA, either in "TEXT" or "TEMP" 
 nodes, before allowing signature.
 PARAMETERS
  ORTIUDA
   TYPE:LITERAL
   Pointer to file 8925.
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 = text present
 EXTERNAL ROUTINES:
  $$EMPTYDOC^TIULF

ORIMO ISCLOC - ISCLOC^ORIMO
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORIMO ISIVQO - ISIVQO^ORIMO
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDBA7 GETIEN9 - GETIEN9^ORWDBA7
 Receive external ICD9 number and return IEN
 PARAMETERS
  ICD9
   TYPE:LIST
   External ICD9 number
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns IEN for ICD9 number
 EXTERNAL ROUTINES:
  $$CODEN^ICDCODE

PXRM EDUCATION SUBTOPICS - EDS^PXRMRPCB
 Returns array of subtopics for any given education topic
 PARAMETERS
  EDUCATION TOPIC ID
   TYPE:LITERAL
   Education topic (ien) from EDUCATION TOPIC file [#9999999.09]
 RETURN VALUE
  TYPE: ARRAY
  FORMAT OF OUTPUT
 EXTERNAL ROUTINES:
  EN^DIQ1

PXRM EDUCATION SUMMARY - EDL^PXRMRPCB
 Returns list of education topics for a reminder
 PARAMETERS
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  List of education topics for this reminder in format
 EXTERNAL ROUTINES:
  

PXRM EDUCATION TOPIC - EDU^PXRMRPCB
  Detailed description of education topic
 PARAMETERS
  EDUCATION TOPIC ID
   TYPE:LITERAL
   Education topic (ien) from EDUCATION TOPIC file [#9999999.09]
 RETURN VALUE
  TYPE: ARRAY
  Detailed description of education topic as formatted text
 EXTERNAL ROUTINES:
  EN^DIQ1

PXRM REMINDER CATEGORIES - CATEGORY^PXRMRPCA
 Returns list of all CPRS lookup categories and associated reminders
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient Identifier from Patient file [#2]
  HOSPITAL LOCATION
   TYPE:LITERAL
   Patient's HOSPITAL LOCATION [#44]. May be null.
 RETURN VALUE
  TYPE: ARRAY
  Returns array of categories and reminders based on CPRS lookup categories
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLST^XPAR

PXRM REMINDER DIALOG - DIALOG^PXRMRPCC
 Dialog for a given reminder
 PARAMETERS
  CLINICAL REMINDER ID
   TYPE:LITERAL
    Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  For each dialog item in the reminder dialog for the reminder :
 EXTERNAL ROUTINES:
  LOAD^PXRMDLL

PXRM REMINDER DIALOG PROMPTS - PROMPT^PXRMRPCC
 Additional prompts for a given dialog element
 PARAMETERS
  DIALOG ELEMENT IEN
   TYPE:LITERAL
   Reminder dialog element identifier (ien) from REMINDER DIALOG file [#801.41]
  CURRENT/HISTORICAL
   TYPE:LITERAL
   Used only for taxonomy dialogs.
  DIALOG LINE CPT/POV
   TYPE:LITERAL
   For taxonomy dialog the type of finding (POV/CPT) for this dialog line
 RETURN VALUE
  TYPE: ARRAY
  For a selected dialog element
 EXTERNAL ROUTINES:
  LOAD^PXRMDLLA

PXRM REMINDER EVALUATION - ALIST^PXRMRPCA
  Allows evaluation of a list of reminders. Returns a list of clinical
  reminders due/applicable or not applicable to the patient.
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier from the patient file [#2]
  REMINDER ARRAY
   TYPE:LIST
   List of reminders in format :
 RETURN VALUE
  TYPE: ARRAY
  List of reminders in format:
 EXTERNAL ROUTINES:
  

PXRM REMINDER INQUIRY - RES^PXRMRPCC
 Detailed description of reminder
 PARAMETERS
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  Detailed description of clinical reminder as formatted text
 EXTERNAL ROUTINES:
  REMVAR^PXRMINQ

PXRM REMINDER WEB - WEB^PXRMRPCA
 Web addresses for selected reminder
 PARAMETERS
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  Formatted list of web addresses
 EXTERNAL ROUTINES:
  

PXRM REMINDERS (UNEVALUATED) - LIST^PXRMRPCA
 Returns list of CPRS reminders for patient/location (no evaluation is done)
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
    Patient identifier from the patient file [#2]
  HOSPITAL LOCATION
   TYPE:LITERAL
   Patients location from HOSPITAL LOCATION [#44]. May be null
 RETURN VALUE
  TYPE: ARRAY
  List of reminder iens.
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETLST^XPAR

PXRM REMINDER DETAIL - REMDET^PXRMRPCA
 Returns the details of a clinical reminder
 PARAMETERS
  PATIENT ID
   TYPE:LITERAL
   Patient identifier from Patient file [#2]
  CLINICAL REMINDER ID
   TYPE:LITERAL
   Clinical reminder (ien) from CLINICAL REMINDER DEFINITION file [#811.9]
 RETURN VALUE
  TYPE: ARRAY
  Formatted details of the clinical reminder
 EXTERNAL ROUTINES:
  MAIN^PXRM,$$FMTE^XLFDT

PXRM MENTAL HEALTH - MH^PXRMRPCC
 Returns array for given mental health instrument
 PARAMETERS
  MENTAL HEALTH INSTRUMENT
   TYPE:LITERAL
   Name of the mental health instrument
 RETURN VALUE
  TYPE: ARRAY
  Returns array of mental health instrument questions/answers
 EXTERNAL ROUTINES:
  START^PXRMDLR,$$NOW^XLFDT,SAVECR^YTQPXRM4,SHOWALL^YTQPXRM5

PXRM PROGRESS NOTE HEADER - HDR^PXRMRPCC
 Returns header text to be inserted in each progress note.
 PARAMETERS
  HOSPITAL LOCATION
   TYPE:LITERAL
   Patients location from HOSPITAL LOCATION [#44]. May be null.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$GET^XPAR

PXRM MENTAL HEALTH RESULTS - MHR^PXRMRPCC
 Returns progress note text based on the results of the test.
 PARAMETERS
  TEST RESULTS
   TYPE:LITERAL
   Dummy field to represent results. Probably needs to pass contents of the
  RESULT GROUP/ELEMENT
   TYPE:LITERAL
   This is the pointer to the result group for the test.
 RETURN VALUE
  TYPE: ARRAY
  Returns array of progress note text as multiple type 7 records.
 EXTERNAL ROUTINES:
  START^PXRMDLR

PXRM MENTAL HEALTH SAVE - MHS^PXRMRPCC
 Stores test result responses from a reminder dialog.
 PARAMETERS
  TEST RESULTS
   TYPE:LITERAL
   Test results. Needs to pass contents of the YS array (R1,R2,DFN,DUZ,ADATE
 RETURN VALUE
  TYPE: ARRAY
  Returns either 
 EXTERNAL ROUTINES:
  $$NOW^XLFDT,SAVECR^YTQPXRM4

PXRM REMINDER RPC - TAG^PXRMRPC
 Standard RPC for all Reminder GUI applications
 PARAMETERS
  TYPE
   TYPE:LITERAL
   Type of RPC call to be performed
  INPUT
   TYPE:LITERAL
   Input parameters
 RETURN VALUE
  TYPE: ARRAY
  Returned parameter is a variable format array
 EXTERNAL ROUTINES:
  REMVAR^PXRMINQ

DENTV TIU GET TEMPL DATA - GETTMPLT^DENTVTIX
 This returns data about a TIU TEMPLATE entry.
 PARAMETERS
  TIUDA
   TYPE:LITERAL
   This is the internal entry number to the TIU TEMPLATE file (#8927).
 RETURN VALUE
  TYPE: ARRAY
  Returns data from TIU TEMPLATE
 EXTERNAL ROUTINES:
  

OOPS SET OSHA300A - OSHA300^OOPSGUIC
 PARAMETERS
  STA
   TYPE:LITERAL
  DATA
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UPDATE^DIE

FSC RPC - RPC^FSCRPX
 NOIS remote procedure entry. All RPCs for NOIS route through this entry.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  MENUS^FSCRPXM

ORWDBA7 ISWITCH - ISWITCH^ORWDBA7
 CIDC RPC
 RETURNS 1 IF PATIENT HAS BILLABLE INSURANCE
 RETURNS 0 IF PATIENT DOES NOT HAVE BILLABLE INSURANCE
 PARAMETERS
  DFN
   TYPE:LITERAL
   PATIENT'S IEN
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$CIDC^IBBAPI

DVBAB NEW PERSON FILE - START^DVBAB84
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETS^DIQ

DVBAB FETCH 1U4N - U1N4^DVBABFRM
 Retrieve the 1u4n field for the list of patient IENS
 provided as the only argument.  Each IEN will be
 sent back with field .0905 appended after a caret.
 PARAMETERS
  ARR
   TYPE:LIST
   List of patient IENs
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  List of Patient IENs in piece 1,
 EXTERNAL ROUTINES:
  $$GET1^DIQ

DVBAB TEMPLATE REPORT FULL - RPTSTAT^DVBAB85
 Returns report of exam templates, including current status
 PARAMETERS
  STRTDT
   TYPE:LITERAL
  ENDDT
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

DVBAB FORM DATA BACKUP - BACKUP^DVBABFRM
 Makes a backup copy of a CAPRI template in case of data loss.  The backup 
 is restored through the CAPRI GUI.
 PARAMETERS
  DVBIEN
   TYPE:LITERAL
   The IEN of the template for which a backup is being created
  LISTBOX TEXT
   TYPE:LITERAL
   Option field to allow the user to enter custom text to be attached to the 
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UPDATE^DIE,WP^DIE,$$NOW^XLFDT

DVBAB FORM DATA BACKUP DELETE - DELETE^DVBABFRM
 PARAMETERS
  IEN
   TYPE:LITERAL
   IEN in file 396.17
 RETURN VALUE
  TYPE: SINGLE VALUE
  String returned is "^" piece separated, as follows:
 EXTERNAL ROUTINES:
  

DVBAB FORM DATA BACKUP RESTORE - RESTORE^DVBABFRM
 PARAMETERS
  IEN
   TYPE:LITERAL
  SIEN
   TYPE:LITERAL
   Sub-IEN in file 397.17
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  WP^DIE

DVBAB FORM COPY - COPY^DVBABFRM
  
 Copies a CAPRI form in file 396.17 to a new entry.  Clears key field so 
 the form becomes editable as a new draft document.
  
 DVBAB1 = IEN in 396.17 to copy
 DVBAB2 = IEN in patient file
  
 If DVBAB2 is null, the copied form will be filed under the same patient 
 it previously belonged to.
  
 If DVBAB2 has a value, it'll be copied to the new patient.
 PARAMETERS
  DVBAB1
   TYPE:LITERAL
  DVBAB2
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the IEN of the newly copied form.
 EXTERNAL ROUTINES:
  UPDATE^DIE,WP^DIE,$$NOW^XLFDT

DVBAB FIND DUPS - DUP^DVBAB84
 Find potential duplicates within the PATIENT File (#2)
  
 At least one of NAM, DOB, or SSN must be passed
 Possible matches are "better" when more than one of these is passed
 PARAMETERS
  NAM
   TYPE:LITERAL
   Name of possible patient
  DOB
   TYPE:LITERAL
   Date of Birth of possible patient
  SSN
   TYPE:LITERAL
   Social Security Number of possible patient
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  BYREF - Passed by reference, will contain name of a TMP Global housing the res
ults
 EXTERNAL ROUTINES:
  

DVBAB SET DIVISION - DUZ2^DVBAB84
 Set the Division
 PARAMETERS
  NUM
   TYPE:LITERAL
   The Station Number
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return
 EXTERNAL ROUTINES:
  

DENTV REPORT KLF - KLF^DENTVAU
 Retrieves Dental KLF Report data for specified time period.Rep
 PARAMETERS
  PARAM
   TYPE:LIST
   The input parameter list contains the following:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a global array containing the report data.  The array is specific
 EXTERNAL ROUTINES:
  

DENTV PRIMARY PROVIDER - GS^DENTVUTL
 This rpc gets or sets the primary and secondary providers for a
 dental patient. It also sends back the User duz if the user is a dental 
 provider for the Encounter Provider.
 PARAMETERS
  DFN
   TYPE:LITERAL
   The first parameter is the patient ien (DFN) which is the ien to
  PSPROV
   TYPE:LITERAL
   The second, optional, parameter is the primary and secondary provider
 RETURN VALUE
  TYPE: SINGLE VALUE
  If there is no second parameter, then we are "getting" the providers
 EXTERNAL ROUTINES:
  

DENTV ADA GET COSTS - GC^DENTVRP3
 Returns all entries in file 228 and their cost fields.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns p1^p2^p3^p4 where where
 EXTERNAL ROUTINES:
  

RMPR OPEN PEN LIST - EN^RMPR9LST
 T his procedure retrieves the list of the main purchasing grid, file (3668).
 No Input Parameters besides SITE needed.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the list of all open pending consults from file 668.
 EXTERNAL ROUTINES:
  

RMPR LIST PCARD - ENA^RMPR9AUT
 RPC to pass all the credit card numbers of a user.  Only credit card numers tha
t belong to a user or surrogate user will be passed by this rpc.
 number that belongs to a user or surrogate user will be passed by this
 RPC.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR CREATE PO - ENB^RMPR9AUT
 RPC call to get the next Common Numbering Series from 442.6
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR LIST COST CENTER - END^RMPR9AUT
 RPC to list all available Cost Center(s) for a given fud control point.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR LIST BOC - ENE^RMPR9AUT
 RPC to list all available Budget Object Code (BOC)'s for a given Cost Center
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR CHECK PA AUTHORIZATION - EN1^RMPR9PCD
  
 PARAMETERS
  IEN
   TYPE:LITERAL
    
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  

RMPR SUSPENSE ACTIONS - EN^RMPR9CA
 Remote Procedure for Purchasing Actions.  The firs 2 will be:
 Post complete note
 Post initial action
 PARAMETERS
  RMPRTXT
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

RMPR SEND PURCHASE ORDER - GUI^RMPR121B
 This will pass the array from Kernel Broker to CoreFLS to create
 a Patient po.  After checking for E-Sig.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  INF^RMPRSIT

RMPR PO CREATE VISTA IEN - EN1^RMPR9CS
 This will pass the array from Kernel Broker to create Patient 2319.
 Return will be Line Number^Vista IEN^Grouper Number.
 PARAMETERS
  OUT
   TYPE:LIST
    
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  

RMPR ENCRYPT PCARD - EN^RMPR9ENC
 Remote Procedure to update the PROSTHETICS 1358 file #664 with the 
 encrypted PCARD.
 PARAMETERS
  RMPRPCD
   TYPE:LITERAL
  DUZ
   TYPE:LITERAL
  RMPRA
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR MANAGER COMMENT - MGR^RMPRESI
 RPC call to get the Manager Comment from file 669.9.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR DELETE PO - EN1^RMPR9CA
 RPC to delete record in file 664.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

RMPR NPPD LIST X - EN^RMPR9LN1
 GUI REMOTE PROCEDURE, LIST NPPD DATA
  
         ;RESULTS passed to broker in ^TMP($J,
         ;delimited by "^"
         ;piece 1 = DATA TO DISPLAY
         ;piece 2 = FIELD NUMBER
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

RMPR CHECK FUND CONTROL POINT - END^PRCH7PA4
 RPC to check user authorization for a Fund Control Point
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR PC PO PRINT - PRT^RMPR9P21
 Purchase Order Information to be printed from a PC Device Fax/Printer
  
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

OOPS GET DETAIL LOCATION - GETDLOC^OOPSGUIS
 This broker call returns the entries in the Detail Location sub file in
 the ASISTS SETTING OF INJURY File (#2261.4).
 PARAMETERS
  INPUT
   TYPE:LITERAL
   This parameter consists of the File, Station, and IEN of the data element to 
be
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return value is a listing of all entries in the sub file for the 
 EXTERNAL ROUTINES:
  

OOPS SET DETAIL LOCATION - SETDLOC^OOPSGUI8
 This broker call files sub record level data in the Detail Location sub record
 in the ASISTS SETTING OF INJURY File (#2261.4).
 PARAMETERS
  PARM1
   TYPE:LITERAL
  DATA
   TYPE:LIST
   This parameter contains a list of detail locations for a specific
 RETURN VALUE
  TYPE: ARRAY
  The return parameter will indicate the success of filing the data.
 EXTERNAL ROUTINES:
  UPDATE^DIE

DSIR UPDATE BILL - UPDBILL^DSIRBIL
 This RPC is used to create and edit the ROI Bill entries.
 PARAMETERS
  REQN
   TYPE:LITERAL
   Request pointer to file 19620
  BILN
   TYPE:LITERAL
   Internal Entry Number to file 19620.2 (Optional)
  DATA
   TYPE:LIST
   Array of data for the fields in file 19620.2 (Required)
 RETURN VALUE
  TYPE: SINGLE VALUE
  -1^Missing Required Input Variable(s)
 EXTERNAL ROUTINES:
  

DSIR PAYMENT - PAYMENT^DSIRBIL
 This RPC is used to record payments on ROI bills
 PARAMETERS
  BILN
   TYPE:LITERAL
   Internal Bill Number to file 19620.2
  AMNT
   TYPE:LITERAL
   Payment amount - Numeric dollar value or 'W' to indicate fee is to be 
 RETURN VALUE
  TYPE: SINGLE VALUE
  -1^Missing Required Input Variable(s)
 EXTERNAL ROUTINES:
  

DSIR GET BILL INFO - GETDATA^DSIRBIL
 This RPC is used to get the bill info for an ROI request.
 PARAMETERS
  DSIR
   TYPE:LITERAL
   Internal Entry Number to file 19620
 RETURN VALUE
  TYPE: ARRAY
  -1^Missing Request Number!
 EXTERNAL ROUTINES:
  

DSIR GET PAYMENT HISTORY - GETHIST^DSIRBIL
 This RPC is used to return the payment history records for an ROI bill.
 PARAMETERS
  BILN
   TYPE:LITERAL
   Internal Entry Number to file 19620.2
 RETURN VALUE
  TYPE: ARRAY
  -1^Missing Bill Number!
 EXTERNAL ROUTINES:
  

DSIR GET BILL DOCS - GETDOCS^DSIRBIL
 This RPC is used to get a list of document types and internal number of 
 documents that were previously release under the type of patient/veteran.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient Internal Number
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array:
 EXTERNAL ROUTINES:
  

DSIR BILL HISTORY - BILLHIST^DSIRBIL0
 This RPC returns all bill edit history for a given bill number.
 PARAMETERS
  BILL IEN
   TYPE:LITERAL
   This is the internal entry number into file 19620.2.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array '^' delimited
 EXTERNAL ROUTINES:
  

DSIR FEES REC RPT - FEESREC^DSIRBIR0
 This RPC produces the data for the Fees Recieved report.
 PARAMETERS
  START DATE
   TYPE:LITERAL
   The internal FileMan format date to start the report.
  END DATE
   TYPE:LITERAL
   This is an optional date (FM format) to end the reporting period.  The 
  DIVISIONS
   TYPE:LITERAL
   This is a variable '
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Global Array - '^' delimited.
 EXTERNAL ROUTINES:
  

DSIR FEES OUT RPT - FEESOUT^DSIRBIR0
 This RPC produces the data for the Fees Outstanding Report.
 PARAMETERS
  DIVISIONS
   TYPE:LITERAL
   This is a variable '
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Global Arrar - '^' delimited
 EXTERNAL ROUTINES:
  

DSIR AMOUNT BILLED RPT - AMTBILD^DSIRBIR0
 This RPC returns the data for the Amount Billed report.
 PARAMETERS
  Start Date
   TYPE:LITERAL
   Pass in the FileMan format date to start the reporting period.
  End Date
   TYPE:LITERAL
   Pass the FileMan format ending date for the reporting period.  This 
  Divisions
   TYPE:LITERAL
   This is a variable '
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Global Array '^' delimited
 EXTERNAL ROUTINES:
  

DSIR PRIORTY REPORT - PRIRTY^DSIROIR2
 This RPC returns the data for the High Priority Request Report.
 PARAMETERS
  START DATE
   TYPE:LITERAL
   FileMan date to start report.
  END DATE
   TYPE:LITERAL
   FileMan date to report through, defaults to current day.
  DIVISION(S)
   TYPE:LITERAL
   '
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIR KILL BILL - KILLBILL^DSIRBIL0
 This RPC will delete a bill and all related entries in the DSIR BILL 
 HISTORY and DSIR BILL TRACKING files.
 PARAMETERS
  BILL IEN
   TYPE:LITERAL
   Internal Number to file 19620.2 DISR BILLS.
  ADMIN OVERRIDE
   TYPE:LITERAL
   This is a set of codes 0 = No, 1 = Yes to override the checking for any 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIR ADD ANNOTATION - ADDANNO^DSIROI
 This RPC adds entries into file 19620.98 which is for internal 
 annotations on patients pertinent to the ROI department.
 PARAMETERS
  PATIENT
   TYPE:LITERAL
   This is the pointer to either the Patient File #2 or the DSIR 
 RETURN VALUE
  TYPE: SINGLE VALUE
  -1^Missing/Invalid Patient Pointer!
 EXTERNAL ROUTINES:
  

DSIR STATUS DISCREPANCY RPT - STATDISC^DSIROIR2
 This RPC returns data from the DSIR STATUS HISTORY file to review which 
 request are being entered as closed on one day yet the status date is a 
 previous date.
 PARAMETERS
  START DATE
   TYPE:LITERAL
   FileMan format start date.
  END DATE
   TYPE:LITERAL
   FileMan end date. Optional - defaults to current date.
  CLERK(S)
   TYPE:LIST
   Array where each element is equal to the DUZ of selected clerks.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Values:
 EXTERNAL ROUTINES:
  

DSIR FIRST CLOSED DATE - CLDT1^DSIROI6
 Returns the date the request was placed into a closed status.
 PARAMETERS
  ROI
   TYPE:LITERAL
   This is the pointer to file 19620.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DSIR LAST CLOSED DATE - CLDTL^DSIROI6
 This RPC returns the latest effective date a request was closed.
 PARAMETERS
  ROI
   TYPE:LITERAL
   This is the pointer to file 19620.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DENTV GET CODING GUIDELINES - GUIDE^DENTVRP2
 Gets the admin and coding guidelines for an ADA/CPT code.
 PARAMETERS
  ADA
   TYPE:LITERAL
   The external ADA or CPT code.ADA or CPT code
  ADMG
   TYPE:LITERAL
   Set to 1 to include Admin guidelines with the Coding Guidelines.  Set to 
 RETURN VALUE
  TYPE: ARRAY
  Returns RET(n)=admin guideline
 EXTERNAL ROUTINES:
  

DENTV ALERTS - GAL^DENTVUTL
 This RPC gets Dental Alerts from file 220.  It also sets them into 220.
 PARAMETERS
  DFN
   TYPE:LITERAL
   The patient ien to look up Dental Alerts in file 220.
  ALERTS
   TYPE:LIST
   List of Alert text entries to be added to the dental patient, e.g.:
 RETURN VALUE
  TYPE: ARRAY
  Returns list of Alert text for the patient in parameter 1.
 EXTERNAL ROUTINES:
  

DENTV PATIENT PROVIDER - PP^DENTVUTL
 Sets and kills the ^XTMP("DENTVPT",DFN,DUZ) global to keep track of
 which provider(s) are accessing which patients.  Users are warned
 if another provider is accessing the same patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Contains the patient DFN
  FLAG
   TYPE:LITERAL
   1=SET (set the index) 2=KILL (kill off current pt/prov index)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a single value.  If the user is doing a SET, then returns
 EXTERNAL ROUTINES:
  

DENTV ACTIVE USER PROVIDER - LIST^DENTVUTL
 Returns a list of active users matching the lookup value.  If a matching 
 user is not active, but has the XUORES security key, then they are valid 
 providers and will also be returned by this call.
 PARAMETERS
  VAL
   TYPE:LITERAL
   The lookup value entered by the user to find matches against the NEW USER 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data will be returned in ^TMP("DENTVU",$J,"DILIST",n,0)
 EXTERNAL ROUTINES:
  

PSB COVERSHEET1 - RPC^PSBCSUTL
 (modified 05/08/2007)
  
 PSB COVERSHEET1 is to return order data per patient and construction of 
 BCMA Coversheet view as presented by the BCMA-HSC Coversheet Phase II
 SRS and SDD documentation.
  
 INPUT:  communications area -  "" 
         patient's DFN       -  DFN     (patient ptr.)
                             -  TIME RANGE (24/48/72)
  
 OUTPUT: results data        -  RESULTS array containing order data 
                                 per +/-TIME RANGE hours.
  
  
  
  
 Example "M" call and results:
  
  
  
 D RPC^PSBCSUTL("",783,24)
  
 RPC Call: PSB COVERSHEET1
 Results[0] = 90
 Results[1] = 1^0^1^1^COVERSHEET DATA FOLLOWS
 Results[2] = ORD^783^85U^85^U^C^Q6H^^NITROGLYCERIN PATCH^200MG 
 ^EPIDURAL^3070501.115014^^^^455^0^0^PATCH^***^G^3070501.09^A^^^0^3070523.0
 718^3070501.115014^1
 Results[3] = ORC^!TEST MED THERAPY ANTIANGINALS
 Results[4] = DD^2313^NITROGLYCERIN PATCHES 10MG/24HR^1^
 Results[5] = 
 ADM^3070501.09^^100000746^G^3070501.115014^TEJ^10000000039^^3070501.1500
 Results[6] = CMT^THIS SHOULD SHOW ON THE MED THERAPY PER 56   
 ANTIANGINALS^^10000000039^TEJ^3070501.115014
 Results[7] = ADM^3070506.15^^^^^^^^3070501.1500
 Results[8] = ADM^3070506.21^^^^^^^^3070501.1500
 Results[9] = ADM^3070507.03^^^^^^^^3070501.1500
 Results[10] = ADM^3070507.09^^^^^^^^3070501.1500
 Results[11] = ADM^3070507.15^^^^^^^^3070501.1500
 Results[12] = ADM^3070507.21^^^^^^^^3070501.1500
 Results[13] = ADM^3070508.03^^^^^^^^3070501.1500
 Results[14] = ADM^3070508.09^^^^^^^^3070501.1500
 Results[15] = END
 Results[16] = ORD^783^83U^83^U^C^Q3H^^RANITIDINE TAB^150MG 
 ^ORAL^3070405.12403^^^^558^0^0^TAB^***^R^3070430.1^A^^^0^3070602.1207^^1
 Results[17] = ORC^!TEST THE ADMIN TIMES REPORT W/ DATE RANGE +3DAYS
 Results[18] = DD^5094^RANITIDINE 150MG TAB^1^
 Results[19] = ADM^3070506.13^^^^^^^^3070430.1000
 Results[20] = ADM^3070506.16^^^^^^^^3070430.1000
 Results[21] = ADM^3070506.19^^^^^^^^3070430.1000
 Results[22] = ADM^3070506.22^^^^^^^^3070430.1000
 Results[23] = ADM^3070507.01^^^^^^^^3070430.1000
 Results[24] = ADM^3070507.04^^^^^^^^3070430.1000
 Results[25] = ADM^3070507.07^^^^^^^^3070430.1000
 Results[26] = ADM^3070507.1^^^^^^^^3070430.1000
 Results[27] = ADM^3070507.13^^^^^^^^3070430.1000
 Results[28] = ADM^3070507.16^^^^^^^^3070430.1000
 Results[29] = ADM^3070507.19^^^^^^^^3070430.1000
 Results[30] = ADM^3070507.22^^^^^^^^3070430.1000
 Results[31] = ADM^3070508.01^^^^^^^^3070430.1000
 Results[32] = ADM^3070508.04^^^^^^^^3070430.1000
 Results[33] = ADM^3070508.07^^^^^^^^3070430.1000
 Results[34] = ADM^3070508.1^^^^^^^^3070430.1000
 Results[35] = ADM^3070508.13^^^^^^^^3070430.1000
 Results[36] = END
 Results[37] = ORD^783^84U^84^U^C^Q3H^^ISOSORBIDE DINITRATE TAB,ORAL^40MG 
 ^ORAL^^^^^354^0^0^TAB,ORAL^***^^3070501.07^A^^^0^3070603.04^^1
 Results[38] = ORC^!TEST MED THERAPY ANTIANGINALS
 Results[39] = DD^2191^ISOSORBIDE  20MG TAB ^2^
 Results[40] = ADM^3070506.13^^^^^^^^3070501.0700
 Results[41] = ADM^3070506.16^^^^^^^^3070501.0700
 Results[42] = ADM^3070506.19^^^^^^^^3070501.0700
 Results[43] = ADM^3070506.22^^^^^^^^3070501.0700
 Results[44] = ADM^3070507.01^^^^^^^^3070501.0700
 Results[45] = ADM^3070507.04^^^^^^^^3070501.0700
 Results[46] = ADM^3070507.07^^^^^^^^3070501.0700
 Results[47] = ADM^3070507.1^^^^^^^^3070501.0700
 Results[48] = ADM^3070507.13^^^^^^^^3070501.0700
 Results[49] = ADM^3070507.16^^^^^^^^3070501.0700
 Results[50] = ADM^3070507.19^^^^^^^^3070501.0700
 Results[51] = ADM^3070507.22^^^^^^^^3070501.0700
 Results[52] = ADM^3070508.01^^^^^^^^3070501.0700
 Results[53] = ADM^3070508.04^^^^^^^^3070501.0700
 Results[54] = ADM^3070508.07^^^^^^^^3070501.0700
 Results[55] = ADM^3070508.1^^^^^^^^3070501.0700
 Results[56] = ADM^3070508.13^^^^^^^^3070501.0700
 Results[57] = END
 Results[58] = ORD^783^86U^86^U^C^Q3H^^PENTAERYTHRITOL TETRANITRATE 
 TAB,ORAL^10MG 
 ^ORAL^3070501.125733^^^^481^0^0^TAB,ORAL^***^G^3070501.09^A^^^0^3070614.06
 11^3070501.125733^1
 Results[59] = ORC^!TEST THIS ONE TOO ANTIANGINALS
 Results[60] = DD^251^PENTAERYTHRITOL  10MG TAB^1^
 Results[61] = 
 ADM^3070501.125733^^100000747^G^3070501.125733^TEJ^10000000039^^3070501.15
 00
 Results[62] = ADM^3070506.15^^^^^^^^3070501.1500
 Results[63] = ADM^3070506.18^^^^^^^^3070501.1500
 Results[64] = ADM^3070506.21^^^^^^^^3070501.1500
 Results[65] = ADM^3070506.24^^^^^^^^3070501.1500
 Results[66] = ADM^3070507.03^^^^^^^^3070501.1500
 Results[67] = ADM^3070507.06^^^^^^^^3070501.1500
 Results[68] = ADM^3070507.09^^^^^^^^3070501.1500
 Results[69] = ADM^3070507.12^^^^^^^^3070501.1500
 Results[70] = ADM^3070507.15^^^^^^^^3070501.1500
 Results[71] = ADM^3070507.18^^^^^^^^3070501.1500
 Results[72] = ADM^3070507.21^^^^^^^^3070501.1500
 Results[73] = ADM^3070507.24^^^^^^^^3070501.1500
 Results[74] = ADM^3070508.03^^^^^^^^3070501.1500
 Results[75] = ADM^3070508.06^^^^^^^^3070501.1500
 Results[76] = ADM^3070508.09^^^^^^^^3070501.1500
 Results[77] = ADM^3070508.12^^^^^^^^3070501.1500
 Results[78] = END
 Results[79] = ORD^783^56V^56^V^C^^^POTASSIUM (K) LIQUID,ORAL^ 780 
 ml/hr^INTRACARDIAC INTRA-ARTICULAR 
 INTRAVENOUS^3070125.142403^^^^512^0^0^^***^S^3070423.08^A^^^0^3070525.2204
 ^^3
 Results[80] = ORC^!THERE WILL BE NO ACTION ON THIS ORDER!!  nox)
 Results[81] = ORF^CPRS^CPRS^REASON FOR THE CPRS FLAG...
 Results[82] = ORF^NOX^No Action Taken On Order
 Results[83] = ADD^24^KCL^78 MEQ^
 Results[84] = SOL^14^DEXTROSE 5% IN N. SALINE^1000 ML^
 Results[85] = ID^783V241^ADD;24^SOL;14
 Results[86] = ID^783V240^ADD;24^SOL;14
 Results[87] = ID^783V239^ADD;24^SOL;14
 Results[88] = ID^783V238^ADD;24^SOL;14
 Results[89] = ID^783V237^ADD;24^SOL;14
 Results[90] = END
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN is the internal entity number per the patient file (file #2).
  HRSBACK
   TYPE:LITERAL
   HRSBACK - (optional) The number of hours in the past the coversheet will 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  (modified 05/08/2007)
 EXTERNAL ROUTINES:
  C^%DTC,NOW^%DTC,$$GET1^DIQ,ADD^PSBCSUTX,GETADMX^PSBCSUTY,LVIV^PSBCSUTY,XFERBAG
S^PSBCSUTY,EN^PSBVDLPA,$$GETFREQ^PSBVDLU1,$$OKAY^PSBVDLU1,ADD^PSBVDLU1,LAST^PSBV
DLU1,ODDSCH^PSBVDLU1,$$IVPTAB^PSBVDLU3,CLEAN^PSBVT,PSJ^PSBVT,PSJ1^PSBVT,$$PSBDCH
K1^PSBVT1,EN^PSJBCMA,IN5^VADPT,$$FMADD^XLFDT,$$GET^XPAR

MPIF REMOTE PRIMARY DFN ICN - PRIMARY^MPIFRPC3
 This remote procedure call will return the primary DFN and ICN for
 a particular station and DFN.
 PARAMETERS
  SITE
   TYPE:LITERAL
    This is the site's station number ... a legacy station number can be passed.
  DFN
   TYPE:LITERAL
   This is a patient's internal IEN in the PATIENT file (#2).
 RETURN VALUE
  TYPE: SINGLE VALUE
  This Remote Procedure Call will return the primary IEN (DFN) in the 
 EXTERNAL ROUTINES:
  $$GETICN^MPIF001,$$SITE^VASITE

XUS CCOW VAULT PARAM - CCOWPC^XUSRB4
 This RPC returns a value for use with the CCOW vault.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR,$$BROKER^XWBLIB

XUS GET CCOW TOKEN - CCOW^XUSRB4
 This RPC gets a token to save in the CCOW context to aid in sign-on.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$LOW^XLFSTR,$$UP^XLFSTR,GETLST^XPAR,$$STA^XUAF4,$$USERTYPE^XUSAP,$$ACTIVE^XUS
ER,$$BROKER^XWBLIB

XUS ALLKEYS - ALLKEYS^XUSRB
 This RPC will return all the KEYS that a user holds.
 If the FLAG is set to some value the list of KEYS will be screened to 
 only be those for J2EE use.
 This may need refinement as we get some experience.
 For FATKAAT and KAAJEE.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the IEN or DUZ of the user in question.
  FLAG
   TYPE:LITERAL
   Not in use at this time.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns -1 if failed for some reason.
 EXTERNAL ROUTINES:
  

ACKQAUD4 - DFNCT^ACKQAG05
 Returns an array with ARR(0)=# of audiograms for DFN ^ DFN name
 Each numbered line after 0 has the IEN of the entry:
 arr(ct)=IEN
 PARAMETERS
  DFN
   TYPE:LITERAL
   Pointer to the PATIENT file (#2).
 RETURN VALUE
  TYPE: ARRAY
  Zero node of array has number of audiograms in the AUDIOMETRIC EXAM DATA 
 EXTERNAL ROUTINES:
  

ACKQROESD - STARTD^ACKQAG05
 This is the RPC used to setup and send a deletion of an audiogram to the 
 DDc when a deletion is processed on the home system for an audiogram that 
 has been sent to the DDC.  It is triggered by the mDelete.OnClick action 
 from the Enter/Edit program ACKQROES3E.EXE.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the internal number of the patient in the PATIENT file (#2).
  IEN
   TYPE:LITERAL
   This is the internal number of the record in the AUDIOMETRIC EXAM DATA 
  STANUM
   TYPE:LITERAL
   This is the Station Number of the sending clinic
  USRNAM
   TYPE:LITERAL
   This is the name of the submitting user
  USRSER
   TYPE:LITERAL
   This is the name of the submitting user's service.
 RETURN VALUE
  TYPE: SINGLE VALUE
  This RPC returns a literal containing the local confirmation msg number,  
 EXTERNAL ROUTINES:
  $$GETICN^MPIF001,$$FMTE^XLFDT,XMZ^XMA2,EN1^XMD,CHKLINES^XMXSEC1,$$ENCRYP^XUSRB
1

DSIC DPT GET ICN - ICN^DSICDPT
 This will return the patient's Integration Control Number (ICN) and a 
 flag indicating whether or not it is a local ICN.
 PARAMETERS
  PAT
   TYPE:LITERAL
   This is the patient lookup value which can be the DFN or name or SSN.
  ISSSN
   TYPE:LITERAL
   This Boolean (0, 1) flag indicates whether or not PAT (the patient lookup
 RETURN VALUE
  TYPE: SINGLE VALUE
  On error, return -1^message
 EXTERNAL ROUTINES:
  

DSIC DPT ICN TO DFN - ICN2DFN^DSICDPT
 Convert a patient's ICN value to the patient's DFN.
 PARAMETERS
  ICN
   TYPE:LITERAL
   This is a patient's ICN value (either local or national).
 RETURN VALUE
  TYPE: SINGLE VALUE
  On error, return -1^message
 EXTERNAL ROUTINES:
  

DSIC LOCK - LOCK^DSICLOCK
 This will allow a GUI application issue a LOCK or UNLOCK on a global node 
 or a record in a file.  If the LOCK is issued, it is the responsibility 
 of the application to issue the UNLOCK.
 PARAMETERS
  REF
   TYPE:LITERAL
   This can be a closed form of a global or it can be a file number.  If it 
  IFN
   TYPE:LITERAL
   This is the internal entry number (record number) of the record that you 
  FLAG
   TYPE:LITERAL
   This flag indicates whether or not the global reference should be locked 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If the operation was successful, return 1
 EXTERNAL ROUTINES:
  

DSIC USR CLASS MEMBERSHIP - USRCLASS^DSICUSR
 For a given user and optional date, return class memberships for that 
 user.
 PARAMETERS
  INPUT
   TYPE:LIST
   INPUT(n) := label name 
 RETURN VALUE
  TYPE: ARRAY
  If problems encountered or no memberships found, return -1^msg
 EXTERNAL ROUTINES:
  

DSIC PX GET VISIT FLDS - ILOOK^DSICPX3
 This will return the internal and external values for selected fields 
 from the VISIT file (#9000010).
 PARAMETERS
  DSICD
   TYPE:LIST
   DSICD(n) = p1
 RETURN VALUE
  TYPE: ARRAY
  Return List(n) = p1^p2^p3  for n=1,2,3,4,...  where
 EXTERNAL ROUTINES:
  

DSIC XPAR GET PARAM LIST - LIST^DSICXPR
 This will return a detailed list of one or more Kernel Parameter
 Definitions.  It does not return every Param Definition field.
  
 Either the NAME input parameter or the PREFIX input parameter is 
 required.  If you pass a NAME then PREFIX is ignored.
 PARAMETERS
  NAME
   TYPE:LITERAL
   This is the name or the IFN for a Parameter Definition.  Pass this value 
  PREFIX
   TYPE:LITERAL
   This is the namespace or the leading characters for the Parameter 
 RETURN VALUE
  TYPE: ARRAY
  Returns List[n] = value  for n=0,1,2,3,...
 EXTERNAL ROUTINES:
  

DSIC FM GET FIELD ATTRIB MULT - MULT^DSICFM06
 This will return field attributes from a selected file for one or more 
 fields.
 PARAMETERS
  DSIN
   TYPE:LIST
   DSIN(i) := label 
 RETURN VALUE
  TYPE: ARRAY
  On error or problems, return List[0] := -1^message
 EXTERNAL ROUTINES:
  

DSIC XUPROD - PROD^DSICXU
 This does not have any input parameters.  It returns a value indicating 
 whether or not this system is a Production account or a test account.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return 1 if this is a Production account
 EXTERNAL ROUTINES:
  

ROR GET SERVER TIME - GETSRVDT^RORRP012
 The ROR GET SERVER TIME remiote procedure returns the current date/time 
 from the VistA server.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The current date/time from the VistA server (in internal FileMan format) 
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

RORHEPC PATIENT LOAD - LOAD^RORRP036
 The RORHEPC PATIENT LOAD remote procedure loads the patient's data from
 the Hepatitis C registry and prepares the record for editing.
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  PATIEN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the PATIEN parameter.
  LOCK
   TYPE:LITERAL
   If this parameter is defined and not zero then the RPC will try to lock
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,$$LOCK^RORLOCK,UNLOCK^RORLOCK,GETPTDAT^RORRP021,$$
ALLOC^RORTMP,$$PRRIEN^RORUTL01

RORHEPC PATIENT SAVE - SAVE^RORRP037
 The RORHEPC PATIENT SAVE remote procedure updates the patient's record in
 the registry (or creates one).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  PATIEN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the PATIEN parameter.
  DATA
   TYPE:LIST
   A list that contains the data in the same format as the output of the
  CANCEL
   TYPE:LITERAL
   Cancel the update and unlock the patient's registry data.
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  FILE^DIE,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,UNLOCK^RORLOCK
,$$ADDPAT^RORUPD06,$$PRRIEN^RORUTL01,$$REGNAME^RORUTL01,$$TESTPAT^RORUTL01,$$UPD
LFV^RORUTL19

ROR LIST PARAMETER INSTANCES - GETPLIST^RORRP038
 PARAMETERS
  NAME
   TYPE:LITERAL
   The NAME parameter defines the name of the parameter.
  ENTITY
   TYPE:LITERAL
   The ENTITY parameter defines the area(s) where the parameter value is
  PREFIX
   TYPE:LITERAL
   Only those instances are selected whose names begin from a value of this 
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,GETLST^XPAR

ROR GUI PARAMETER RENAME - RENPARM^RORRP038
 The ROR GUI PARAMETER RENAME remote procedure renames the instance of the 
 parameter.
 PARAMETERS
  ENTITY
   TYPE:LITERAL
   The ENTITY parameter defines the context that the parameter value is
  NAME
   TYPE:LITERAL
   The NAME parameter defines the name of the GUI parameter.
  OLDINST
   TYPE:LITERAL
   Current instance name of the GUI parameter.
  NEWINST
   TYPE:LITERAL
   New instance name for the GUI parameter.
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$UP^XLFSTR,DEL^XPAR,REP^XPAR

ROR LIST LOCAL FIELDS - LFLIST^RORRP040
 The ROR LIST LOCAL FIELDS remote procedure returns a list of
 registry-specific field definitions from the ROR LOCAL FIELD file
 (#799.53).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  LOCK
   TYPE:LITERAL
   Lock the local fields before loading the data and leave them locked.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$ROOT^DILFD,GETS^DIQ,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$
$LOCK^RORLOCK,$$ALLOC^RORTMP,$$DT^XLFDT

ROR UPDATE LOCAL FIELDS - LFLUPD^RORRP040
 The ROR UPDATE LOCAL FIELDS remote procedure updates a list of
 registry-specific field definitions in the the ROR LOCAL FIELD file
 (#799.53).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the 
  CANCEL
   TYPE:LITERAL
   Cancel the update and unlock the local fields.
  LFLST
   TYPE:LIST
   Reference to a local variable that contains a list of local fields.
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  FILE^DIE,UPDATE^DIE,^DIK,$$CREF^DILF,$$ROOT^DILFD,$$ERROR^RORERR,CLEAR^RORERR,
DBS^RORERR,RPCSTK^RORERR,UNLOCK^RORLOCK

ROR LIST SELECTION RULES - SELRULES^RORRP014
 The ROR LIST SELECTION RULES remote procedure returns a list 
 of registry selection rules from the ROR SELECTION RULE file
 (#798.2) that are referenced by the SELCTION RULE multiple (3)
 of the ROR REGISTRY PARAMETERS file (#798.1).
 PARAMETERS
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^RORERR,$$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$SRLIEN^RORUT
L02

ROR PRODUCTION ACCOUNT - PROD^RORRP012
 This RPC checks if the current account is a 
 production one.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  1 is returned in Results[0] in case of a production account. Otherwise, 
 EXTERNAL ROUTINES:
  $$PROD^XUPROD

ROR PATIENT REGISTRY LABS - LOADPRL^RORRP041
 This remote procedure returns the results of registry-specific lab tests 
 for the patient and group statistics for these results.
 PARAMETERS
  PTIEN
   TYPE:LITERAL
   A valid patient IEN (DFN) should be assigned to the PTIEN parameter.
  REGIEN
   TYPE:LITERAL
   The REGIEN parameter should contain a valid registry IEN (IEN of the
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  $$ERROR^RORERR,CLEAR^RORERR,RPCSTK^RORERR,$$ALLOC^RORTMP,$$ITEMIEN^RORUTL09,$$
LTSEARCH^RORUTL10

ROR LIST CPT - CPTLIST^RORRP042
 The ROR LIST CPT remote procedure returns a list of CPT codes (defined in
 the CPT file), which conform the criteria.
 PARAMETERS
  PART
   TYPE:LITERAL
   The partial match restriction.
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  NUMBER
   TYPE:LITERAL
   Maximum number of entries to return. A value of "*" or no value in this 
  FROM
   TYPE:LITERAL
   The index entry(s) from which to begin the list
  DATE
   TYPE:LITERAL
   Date for the code set versioning.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A negative value of the first "^"-piece of the Results[0] indicates that 
 EXTERNAL ROUTINES:
  CLEAR^RORERR,RPCSTK^RORERR

GMV DLL VERSION - DLL^GMVUTL8
 Returns a YES or NO response to indicate if the Dynamic Link Library (DLL)
 file should be used.
  
 This remote procedure call is documented in Integration Agreement 4420.
 PARAMETERS
  GMVX
   TYPE:LITERAL
   This value is the name of the file and the date/time associated with it 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns YES if the file can be used. Returns NO, if the file cannot be
 EXTERNAL ROUTINES:
  $$GET^XPAR

GMV LOCATION SELECT - RPC^GMVRPCHL
 Select a hospital location by name, from a patient appointment or from a
 patient admission. Can also generate a list of active clinics.
  
 This remote procedure is documented in Integration Agreement 4461.
 PARAMETERS
  OPTION
   TYPE:LITERAL
   Routine tag line in GMVRPCHL to call.
  DATA
   TYPE:LITERAL
   Other data as required for the call.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This remote procedure call allows the user to select a hospital location. 
 EXTERNAL ROUTINES:
  CLEAN^DILF,KVAR^VADPT

DVBAB GET URL - URL^DVBABURL
 Returns a URL for some items used within CAPRI
  
 1=VBA's AMIE worksheet website
 PARAMETERS
  INDEX
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR,$$PROD^XUPROD

TIU ISPRF - ISPRFTTL^TIUPRF2
 This RPC is to check to see if the passed in TIU DOCUMENT TITLE IEN is a 
 Patient Record Flag TITLE.
 PARAMETERS
  TIUTTL
   TYPE:LITERAL
   TIU DOCUMENT TITLE IEN
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 if TIUTTL is a PRF Title
 EXTERNAL ROUTINES:
  $$DDEFIEN^TIUFLF7

TIU GET PRF ACTIONS - GETACTS^TIUPRF2
 This RPC gets the Patient Record Flag History Assignments/Actions for a 
 Patient/Title Combination.
 PARAMETERS
  TIUTTL
   TYPE:LITERAL
   TIU DOCUMENT DEFINITION (TITLE) IEN
  DFN
   TYPE:LITERAL
   Patient Pointer (file 2 IEN)
 RETURN VALUE
  TYPE: ARRAY
  Returns data in the following format for each Flag Assignment/Action
 EXTERNAL ROUTINES:
  $$GETHTIU^DGPFAPI1,$$AVAILACT^TIUPRFL

TIU LINK TO FLAG - LINK^TIUPRF2
 This RPC is used to link a Progress Note to a Patient Record Flag
 PARAMETERS
  TIUIEN
   TYPE:LITERAL
   TIU DOCUMENT IEN (8925)
  PRFIEN
   TYPE:LITERAL
   Flag IEN (26.11 or 26.15)
  ACTIENT
   TYPE:LITERAL
   PRF Assignment History IEN (26.14)
  DFN
   TYPE:LITERAL
   Patient IEN (File 2)
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$STOTIU^DGPFAPI2,UNLINK^TIUPRF1

TIU GET DOCUMENT STATUS - GETSTAT^TIUPRF2
 This RPC is used to retrieve the Status (8925.6 IEN) of a TIU DOCUMENT.
 PARAMETERS
  TIUIEN
   TYPE:LITERAL
   TIU DOCUMENT IEN (8925)
 RETURN VALUE
  TYPE: SINGLE VALUE
  TIU DOCUMENT STATUS IEN (8925.6)
 EXTERNAL ROUTINES:
  

TIU GET LINKED PRF NOTES - GETNOTES^TIUPRF2
 Returns list of SIGNED, LINKED PRF notes for given patient, for given
 PRF Title
 PARAMETERS
  PTDFN
   TYPE:LITERAL
   Patient IEN in Patient file
  TIUTTL
   TYPE:LITERAL
   PRF Title IEN in file 8925.1
  REVORDER
   TYPE:LITERAL
   Optional.  Boolean flag, with 1 indicating to subscript the list of notes
 RETURN VALUE
  TYPE: ARRAY
     TIUY = # of notes
 EXTERNAL ROUTINES:
  $$GETHTIU^DGPFAPI1,GETS^DIQ,$$HASERR^TIUPRFL,$$ISERR^TIUPRFL

TIU GET PRF TITLE - GETTITLE^TIUPRF2
 Returns IEN of the TIU Note Title in file 8925.1 which is associated
 with given flag for given patient.
 PARAMETERS
  PTDFN
   TYPE:LITERAL
   Patient IEN in Patient file
  FLAGID
   TYPE:LITERAL
   The unique number for a particular Active Record Flag returned by 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns TIUY = TitleIEN^Title,
 EXTERNAL ROUTINES:
  $$GETACT^DGPFAPI

ORVAA VAA - VAA^ORVAA
 Returns the policy name for a veteran with VA Advantage. If the veteran 
 does not have VA Advantage the return value will be 0.
 PARAMETERS
  DFN
   TYPE:REFERENCE
   The DFN is the veteran patient's Internal Entry Number in the PATIENT 
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$INSUR^IBBAPI,$$NOW^XLFDT

ORWDFH OPDIETS - OPDIETS^ORWDFH
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DIETLST^FHOMAPI,$$NOW^XLFDT

ORWDFH CURRENT MEALS - CURMEALS^ORWDFH
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DD^%DT,EN2^FHWOR8

ORWU VERSION - VERSION^ORWU
 Returns current version of package or namespace
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$VERSION^XPDUTL

ORWDXVB GETALL - GETALL^ORWDXVB
 Return patient's Blood Bank information.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  PULL^ORWDXVB2,$$HL7TFM^XLFDT,GETLST^XPAR

ORWDXVB RAW - RAW^ORWDXVB
 Return raw Lab Test Results associated with Blood Bank order
 request.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  RR^LR7OR1

ORWDXVB RESULTS - RESULTS^ORWDXVB
 Return patient's Lab Test Results associated with Blood Bank order
 request.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  RR^LR7OR1,$$FIRST^ORCDVBEC,$$DATETIME^ORCHTAB,$$S^ORU4

ORWDXVB STATALOW - STATALOW^ORWDXVB
 Check to see if user is allowed to order STAT orders through VBECS.
 Checks users with parameter: OR VBECS STAT USER
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXVB COMPORD - COMPORD^ORWDXVB
 Get sequence order of Blood Components for selection.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWDFH NFSLOC READY - OPLOCOK^ORWDFH
 Return '1' if hospital location has been entered in NUTRITION LOCATION 
 file for outpatient meal ordering.
 Return '0' if not yet entered.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$NFSLOC^FHOMAPI

ORWGRPC ALLITEMS - ALLITEMS^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ALLITEMS^ORWGAPI

ORWGRPC TYPES - TYPES^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  TYPES^ORWGAPI

ORWGRPC ITEMS - ITEMS^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ALLITEMS^ORWGAPI,ITEMS^ORWGAPI

ORWGRPC CLASS - CLASS^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLASS^ORWGAPI

ORWGRPC ITEMDATA - ITEMDATA^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ITEMDATA^ORWGAPI

ORWGRPC GETPREF - GETPREF^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GETPREF^ORWGAPI

ORWGRPC SETPREF - SETPREF^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  SETPREF^ORWGAPI

ORWGRPC GETVIEWS - GETVIEWS^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GETVIEWS^ORWGAPI

ORWGRPC SETVIEWS - SETVIEWS^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  SETVIEWS^ORWGAPI

ORWGRPC DELVIEWS - DELVIEWS^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DELVIEWS^ORWGAPI

ORWGRPC TESTSPEC - TESTSPEC^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  TESTSPEC^ORWGAPI

ORWGRPC LOOKUP - LOOKUP^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LOOKUP^ORWGAPI

ORWGRPC DATEITEM - DATEITEM^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DATEITEM^ORWGAPI

ORWPCE1 NONCOUNT - NONCOUNT^ORWPCE1
 Is a given HOSPITAL LOCATION (file 44) a non-count clinic?  (DBIA #964)
 PARAMETERS
  ORLOC
   TYPE:LITERAL
   Pointer to file 44.
 RETURN VALUE
  TYPE: SINGLE VALUE
  1 = non-count clinic
 EXTERNAL ROUTINES:
  

ORWDAL32 CLINUSER - CLINUSER^ORWDAL33
 Determine if user can perform cover sheet allergy actions.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  1^ = user has access
 EXTERNAL ROUTINES:
  ^DIC,$$ISA^USRLM,$$GET^XPAR,ENVAL^XPAR

ORWPFSS IS PFSS ACTIVE? - PFSSACTV^ORWPFSS
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Is PFSS active for this system/user/etc?
 EXTERNAL ROUTINES:
  $$SWSTAT^IBBAPI,$$PATCH^XPDUTL

ORWGRPC GETDATES - GETDATES^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GETDATES^ORWGAPI

ORWGRPC DETAIL - DETAIL^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DETAIL^ORWGAPI,DETAILS^ORWGAPI

ORWGRPC DETAILS - DETAILS^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DETAILS^ORWGAPI

ORWMHV MHV - MHV^ORWMHV
 PARAMETERS
  DFN
   TYPE:
 RETURN VALUE
  TYPE: SINGLE VALUE
  "0" if patient has no My HealtheVet (MHV) data
 EXTERNAL ROUTINES:
  TFL^VAFCTFU1

ORWGRPC PUBLIC - PUBLIC^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PUBLIC^ORWGAPI

ORWGRPC RPTPARAM - RPTPARAM^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$RPTPARAM^ORWGAPI

ORWCIRN WEBADDR - WEBADDR^ORWCIRN
 Get VistaWeb Web Address.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$SITE^VASITE,$$GET^XPAR

ORWDX CHANGE - CHANGE^ORWDX1
 PARAMETERS
  ORCLST
   TYPE:LIST
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$STATUS^PSSORUTE,$$UP^XLFSTR,$$PATCH^XPDUTL

ORWGRPC TAX - TAX^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  TAX^ORWGAPI

ORWDX1 PATWARD - PATWARD^ORWDX1
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns either a 0 patient is not on ward or a 1 patient is on a ward.
 EXTERNAL ROUTINES:
  

ORWRP4 HDR MODIFY - HDR^ORWRP4
 This RPC looks at data returned from the HDR and makes any modifications
 necessary to make the data compatible with CPRS Reports.
 PARAMETERS
  HANDLE
   TYPE:LITERAL
   Remote Broker ID needed to find data in 
  ID 
   TYPE:LITERAL
   Report ID found in field .02 of file 101.24
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value is the success/failure flag.  In the event of an error
 EXTERNAL ROUTINES:
  

ORWDX1 STCHANGE - STCHANGE^ORWDX1
 PARAMETERS
  DFN
   TYPE:LITERAL
  ORYARR
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$STATUS^PSSORUTE,$$UP^XLFSTR,$$PATCH^XPDUTL

ORQQPXRM MHV - MHV^ORQQPXRM
 PARAMETERS
  DFN
   TYPE:LITERAL
  NAME
   TYPE:LITERAL
  ANS
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$PATCH^XPDUTL,CHECKCR^YTQPXRM4

ORWDX1 DCREN - DCREN^ORWDX1
 PARAMETERS
  ORYARR
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$NOW^XLFDT

ORWGRPC GETSIZE - GETSIZE^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GETSIZE^ORWGAPI

ORWGRPC SETSIZE - SETSIZE^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  SETSIZE^ORWGAPI

ORWCIRN AUTORDV - AUTORDV^ORWCIRN
 Get parameter value for ORWRP CIRN AUTOMATIC.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORPRF TRIGGER POPUP - TRIGRPOP^ORPRF
 Returns 1 if popup flag display should be triggered for given patient upon
 patient selection. If not, returns 0. Does not require clean-up after
 calling it since it does not set arrays or globals.
 PARAMETERS
  PTDFN
   TYPE:LITERAL
   IEN in Patient file of given patient.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns 1 if popup flag display should be triggered for given patient upon
 EXTERNAL ROUTINES:
  $$GETACT^DGPFAPI

ORWCIRN HDRON - HDRON^ORWCIRN
 Get parameter value for ORWRP HDR ON
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

XUPS PERSONQUERY - EN1^XUPSQRY
 PARAMETERS
  XUPSLNAM
   TYPE:LITERAL
   Required if lookup by name.
  XUPSFNAM
   TYPE:LITERAL
  XUPSSSN
   TYPE:LITERAL
  XUPSPROV
   TYPE:LITERAL
  XUPSSTN
   TYPE:LITERAL
  XUPSMNM
   TYPE:LITERAL
  XUPSDATE
   TYPE:LITERAL
  XUPSVPID
   TYPE:LITERAL
   Required if lookup by VPID.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Output data stored in a global array:
 EXTERNAL ROUTINES:
  NOW^%DTC,$$FMDATE^HLFNC,$$IEN^XUPS

DGRR PATIENT LOOKUP SEARCH - SEARCH^DGRRLU
 This rpc is set to return an xml document via VistaLink that contains
 the display data for a gui patient lookup.  
  
 PARAMETERS
  PARAM
   TYPE:LIST
   Input PARAM("SEARCH TYPE") = type of search requested
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document with list of patients found based on search type and 
 EXTERNAL ROUTINES:
  BYFILTER^DGRRLU0,PRVLUP^DGRRLU5,BYNAME^DGRRLU6,$$CHARCHK^DGRRUTL,$$PRODST1^DGR
RUTL,$$PRODST2^DGRRUTL,$$SITENAM^DGRRUTL,$$SITENO^DGRRUTL,$$XMLHDR^DGRRUTL,DT^DI
CRW,$$IENS^DILF,CLEAN^DILF,GETS^DIQ,$$UP^XLFSTR,$$KSP^XUPARAM

DGRR GET PTLK BUSINESS DATA - BUS^DGRRLU1
 Returns XML document containing data needed to perform business logic
 checks on patient lookup.
 PARAMETERS
  PARAM
   TYPE:LIST
   PARAM("PatientId_Type") = DFN (default) or ICN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ADD^DGRRLU,DT^DICRW

DGRR SET SENSITIVE ACCESS LOG - NOTICE^DGRRLU2
 This Remote Procedure Call (RPC) will add an entry to the DG SECURITY LOG
 (#38.1) file and/or generate the sensitive record access bulletin
 depending on the value in ACTION input parameter.  If ACTION parameter not
 defined, defaults to update DG Security Log file and generate Sensitive
 Record Access mail message.
 PARAMETERS
  ACTION
   TYPE:LITERAL
   ACTION = 1 - Set DG Security Log entry
  DFN
   TYPE:LITERAL
   DFN = Patient (#2) file DFN
  DGOPT
   TYPE:LITERAL
   DGOPT = Option Name
 RETURN VALUE
  TYPE: SINGLE VALUE
  RESULT=1 - successfully added entry and/or generated sensitive record
 EXTERNAL ROUTINES:
  

DGRR GET LOOKUP TYPE LIST - GETLIST^DGRRLU3
 Returns an XML document containing a list of wards or a list of
 clinics (depending on what was requested)
 PARAMETERS
  PARAM
   TYPE:LIST
   PARAM("TYPE")="ward" returns a list of wards
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$XMLHDR^DGRRUTL,ADD^DGRRUTL,DT^DICRW,$$UP^XLFSTR

DGRR PATIENT LKUP PREFERENCES - START^DGRRLU4
 This remote procedure call returns an xml document containing the division
 or package preferences.  
 PARAMETERS
  PARAM
   TYPE:LIST
   PARAM("stationNumber") = station number for institution.  If not 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns xml document containing a list of preferences:
 EXTERNAL ROUTINES:
  $$CHARCHK^DGRRUTL,$$XMLHDR^DGRRUTL,ADD^DGRRUTL,$$GET^XPAR,$$IEN^XUAF4

DGRR SET PTLK PREFERENCES - UPDATE^DGRRLU4
 This remote procedure call updates the division/institutional preferences 
 passed to the call. It returns an xml document containing the station
 number and status.  If update was successful, status is returned as
 true.  If errors were encountered during the update, false is returned
 with an error message.
 PARAMETERS
  PARAMS
   TYPE:LIST
   PARAMS("stationNumber")=station number for division/institution
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML file documenting error condition or successful update.
 EXTERNAL ROUTINES:
  EN^XPAR,$$IEN^XUAF4

DGRR CANCEL SEARCH - CANCEL^DGRRLU
 The DGRR CANCEL SEARCH RPC will cancel a patient search in VistA.
 PARAMETERS
  JOB
   TYPE:LITERAL
   JOB = A unique JOB ID used to cancel a VistA search.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$FMADD^XLFDT

DGRR GET PATIENT SERVICES DATA - PATIENT^DGRRPSGT
 This RPC will return an XML via VistaLink containing Patient Service
 Demographic information for any given Patient ICN
 PARAMETERS
  PARAM
   TYPE:LIST
   Input Parameters:   (Rq) Required parameter  (Op) Optional parameter
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  <XML schema doc>
 EXTERNAL ROUTINES:
  

XOBV TEST MULTIPLE SUBSCRIPTS - MSUBS^XOBVLT
 This RPC receives an array set up by a client. The client code indicates
 that the array should be presented to the RPC as multiple M subscripts
 (ex: DATA("TEXT",1,0) and not the usual DATA(1).
  
 It sets the array into a local array and returns the local array
 information back to the client.
  
 This RPC is used as part of the test and learning application distributed 
 as part of VistALink.
 PARAMETERS
  ARRAY
   TYPE:LIST
   An array of information.
 RETURN VALUE
  TYPE: ARRAY
  Returns the input array information returned to the client after being 
 EXTERNAL ROUTINES:
  

XOBV TEST MULT ARRAY PARAMS - MARRAYS^XOBVLT
 This RPC receives 3 arrays set up by a client. This tests the capability
 of VistaLink to support multiple array-type RPC parameters.
  
 It sets each of the three arrays into a local array, sequentially, and
 returns the local array back to the client.
  
 This RPC is used as part of the test and learning application distributed
 part of VistALink.
 PARAMETERS
  ARRAY
   TYPE:LIST
   An array of information.
  ARRAY2
   TYPE:LIST
   An array of information.
  ARRAY3
   TYPE:LIST
   An array of information.
 RETURN VALUE
  TYPE: ARRAY
  The input array information returned to the client after being placed in a
 EXTERNAL ROUTINES:
  

XOBV SYSTEMINFO - RPC^XOBVSYSI
 Returns name^value pairs of system information about the M system.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

XUS KAAJEE GET USER INFO - USERINFO^XUSKAAJ
 Returns a variety of information needed for the KAAJEE logon.
 PARAMETERS
  CLIENT-IP
   TYPE:LITERAL
   IP address of the client workstation, used for logging (signon log)
  SERVER-NM
   TYPE:LITERAL
   Identifying name for the calling application or server,
 RETURN VALUE
  TYPE: ARRAY
  OUTPUT:
 EXTERNAL ROUTINES:
  GETS^DIQ,$$PRNT^XUAF4,$$STA^XUAF4,$$KSP^XUPARAM,$$SIGNLOG^XUSKAAJ,DIVGET^XUSRB
2,USERINFO^XUSRB2

XUS KAAJEE LOGOUT - SIGNOFF^XUSKAAJ
 This RPC calls the LOUT^XUSCLEAN tag to mark a KAAJEE-signed-on user's
 entry in the sign-on log as signed off.
 PARAMETERS
  SIGNON-LOG-DA
   TYPE:LITERAL
   The DA (IEN) of the user's signon log entry.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns 1. The return value has no significance.
 EXTERNAL ROUTINES:
  LOUT^XUSCLEAN

MAG CFIND QUERY - FIND^MAGDQR01
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC performs a DICOM C-FIND request.
  
 A request is executed through a TaskMan process,
 which stores the results in temporary storage (^MAGDQR(2006.5732)).
  
 Subsequent calls to this same RPC will retrieve the
 results from the result-set to the client.
  
 A final call to this RPC will clean up the temporary storage.
 PARAMETERS
  TAGS
   TYPE:LIST
   This parameter is an array. Each element in this array
  RESULT
   TYPE:LITERAL
   The value of this parameter is an integer number that
  OFFSET
   TYPE:LITERAL
   The value of this parameter is an integer number.
  MAX
   TYPE:LITERAL
   The value of this parameter is an integer number.
 RETURN VALUE
  TYPE: ARRAY
  The return parameter of this RPC is an array.
 EXTERNAL ROUTINES:
  HOME^%ZIS,^%ZTLOAD,STAT^%ZTLOAD,$$NOW^XLFDT

MAG DICOM CORRECT VALIDATE - VALIDATE^MAGDLBV
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This Remote Procedure validates the structure of the table
 that contains information about images that are "to be corrected".
  
 Any inconsistencies are corrected, any pointers to obsolete
 information are removed, all cross-references are rebuilt.
 PARAMETERS
  MENU
   TYPE:LITERAL
   The value of this parameter is a numeric value. This value indicates
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number. This value
 EXTERNAL ROUTINES:
  

MAG STUDY UID QUERY - STUDY^MAGDQR04
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC returns information about the images that were
 acquired for a specific study.
 PARAMETERS
  UID
   TYPE:LITERAL
   The value of this parameter is a string.
 RETURN VALUE
  TYPE: ARRAY
  The return parameter of this RPC is an array.
 EXTERNAL ROUTINES:
  

MAG VISTA CHECKSUMS - GATEWAY^MAGVCHK
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC queues up a TaskMan task that calculates the checksums
 of all Imaging routines and that e-mails the result to the
 central database in Silver Spring.
 PARAMETERS
  MAGDBB
   TYPE:LITERAL
   The value of this paramater is a string. This string is the
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is an integer number.
 EXTERNAL ROUTINES:
  HOME^%ZIS,^%ZTLOAD

MAGJ USER DATA - RPCIN^MAGJPRF1
   +---------------------------------------------------------------+
   | Property of the US Government.                                |
   | No permission to copy or redistribute this software is given. |
   | Use of unreleased versions of this software requires the user |
   | to execute a written test agreement with the VistA Imaging    |
   | Development Office of the Department of Veterans Affairs,     |
   | telephone (301) 734-0100.                                     |
   |                                                               |
   | The Food and Drug Administration classifies this software as  |
   | a medical device.  As such, it may not be changed in any way. |
   | Modifications to this software may result in an adulterated   |
   | medical device under 21CFR820, the use of which is considered |
   | to be a violation of US Federal Statutes.                     |
   +---------------------------------------------------------------+
  
 Store/retrieve Vistarad USer preferences, including hanging protocols, etc.
 PARAMETERS
  PARAMS
   TYPE:LITERAL
   TXID 
  DATA
   TYPE:WORD PROCESSING
   Optional Block of text sent from the client side; has structure as follows
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  DATA returned varies according to the TXID, but generally is a block
 EXTERNAL ROUTINES:
  DT^DICRW

MAGJ RADSTATUSCHECK - STATCHK^MAGJUTL4
   +---------------------------------------------------------------+
   | Property of the US Government.                                |
   | No permission to copy or redistribute this software is given. |
   | Use of unreleased versions of this software requires the user |
   | to execute a written test agreement with the VistA Imaging    |
   | Development Office of the Department of Veterans Affairs,     |
   | telephone (301) 734-0100.                                     |
   |                                                               |
   | The Food and Drug Administration classifies this software as  |
   | a medical device.  As such, it may not be changed in any way. |
   | Modifications to this software may result in an adulterated   |
   | medical device under 21CFR820, the use of which is considered |
   | to be a violation of US Federal Statutes.                     |
   +---------------------------------------------------------------+
  
 Function to determine if the exam has been Tech-Verified (at least).
 Images are assumed to be verified if Exam Status is Examined, or higher status
 PARAMETERS
  DATA
   TYPE:LITERAL
   String consisting: RADFN
 RETURN VALUE
  TYPE: SINGLE VALUE
  Code^Description
 EXTERNAL ROUTINES:
  DT^DICRW

MAGJ RADCASELOCKS - CASLOCK^MAGJEX1A
   +---------------------------------------------------------------+
   | Property of the US Government.                                |
   | No permission to copy or redistribute this software is given. |
   | Use of unreleased versions of this software requires the user |
   | to execute a written test agreement with the VistA Imaging    |
   | Development Office of the Department of Veterans Affairs,     |
   | telephone (301) 734-0100.                                     |
   |                                                               |
   | The Food and Drug Administration classifies this software as  |
   | a medical device.  As such, it may not be changed in any way. |
   | Modifications to this software may result in an adulterated   |
   | medical device under 21CFR820, the use of which is considered |
   | to be a violation of US Federal Statutes.                     |
   +---------------------------------------------------------------+
  
 Manage Exam Reserve/Lock interactions.
 PARAMETERS
  DATA
   TYPE:LITERAL
   Input string = OPEN FLAG 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns string = Count ^ CODE ~ RESULT | RADFN ^ RADTI ^ RACNI ^ RARPT
 EXTERNAL ROUTINES:
  DT^DICRW,LOG^MAGJUTL3

MAGJ HISTORYLIST - HIST^MAGJLS4
   +---------------------------------------------------------------+
   | Property of the US Government.                                |
   | No permission to copy or redistribute this software is given. |
   | Use of unreleased versions of this software requires the user |
   | to execute a written test agreement with the VistA Imaging    |
   | Development Office of the Department of Veterans Affairs,     |
   | telephone (301) 734-0100.                                     |
   |                                                               |
   | The Food and Drug Administration classifies this software as  |
   | a medical device.  As such, it may not be changed in any way. |
   | Modifications to this software may result in an adulterated   |
   | medical device under 21CFR820, the use of which is considered |
   | to be a violation of US Federal Statutes.                     |
   +---------------------------------------------------------------+
  
 Functions for maintaining and displaying the Vistarad Exam History List
 PARAMETERS
  PARAMS
   TYPE:LITERAL
   TXID 
  DATA
   TYPE:LIST
   Exam ID "|" Display data
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^%DT,DT^DICRW,$$STATN^MAGJEX1,ACTIVE^MAGJLS2,$$RISTISME^MAGJLS2B,LSTOUT^MAGJLS
2B,PARAMS^MAGJLS2B,$$RIST^MAGJUTL1,IMGINFO^MAGJUTL2,$$USERINF^MAGJUTL3,$$FMTH^XL
FDT,$$HTFM^XLFDT

MAGJ STUDY_DATA - RPCIN^MAGJEX3
   +---------------------------------------------------------------+
   | Property of the US Government.                                |
   | No permission to copy or redistribute this software is given. |
   | Use of unreleased versions of this software requires the user |
   | to execute a written test agreement with the VistA Imaging    |
   | Development Office of the Department of Veterans Affairs,     |
   | telephone (301) 734-0100.                                     |
   |                                                               |
   | The Food and Drug Administration classifies this software as  |
   | a medical device.  As such, it may not be changed in any way. |
   | Modifications to this software may result in an adulterated   |
   | medical device under 21CFR820, the use of which is considered |
   | to be a violation of US Federal Statutes.                     |
   +---------------------------------------------------------------+
  
 This rpc is used to obtain various study and/or image data.  The data
 is stored in blocks of free-text (word-processing) in XML format created
 by the Vistarad Client.
 Current data items include: Key Images; Presentation State data.
 PARAMETERS
  PARAMS
   TYPE:LITERAL
   TXID 
  DATA
   TYPE:LIST
   List of image identifiers with optional Presentation State UIDs
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array containing Key Image and/or Image Presentation State data,
 EXTERNAL ROUTINES:
  DT^DICRW,$$GETRPT^MAGJUPD2,$$STUDYID^MAGJUPD2

MAGJ USER2 - USERINF2^MAGJUTL3
   +---------------------------------------------------------------+
   | Property of the US Government.                                |
   | No permission to copy or redistribute this software is given. |
   | Use of unreleased versions of this software requires the user |
   | to execute a written test agreement with the VistA Imaging    |
   | Development Office of the Department of Veterans Affairs,     |
   | telephone (301) 734-0100.                                     |
   |                                                               |
   | The Food and Drug Administration classifies this software as  |
   | a medical device.  As such, it may not be changed in any way. |
   | Modifications to this software may result in an adulterated   |
   | medical device under 21CFR820, the use of which is considered |
   | to be a violation of US Federal Statutes.                     |
   +---------------------------------------------------------------+
  
 Returns info about user, and site settings.
 PARAMETERS
  MAGWRKID
   TYPE:LITERAL
   Workstation ID
 RETURN VALUE
  TYPE: ARRAY
   = DUZ ^ FULL NAME  ^ INITIALS ^ REQ_FLAG ^ Network UserName ^ PassWord
 EXTERNAL ROUTINES:
  $$GET1^DIQ,CHKVER^MAGJUTL5,$$SITE^VASITE

MAGJ CPTMATCH - CPTGRP^MAGJUTL4
   +---------------------------------------------------------------+
   | Property of the US Government.                                |
   | No permission to copy or redistribute this software is given. |
   | Use of unreleased versions of this software requires the user |
   | to execute a written test agreement with the VistA Imaging    |
   | Development Office of the Department of Veterans Affairs,     |
   | telephone (301) 734-0100.                                     |
   |                                                               |
   | The Food and Drug Administration classifies this software as  |
   | a medical device.  As such, it may not be changed in any way. |
   | Modifications to this software may result in an adulterated   |
   | medical device under 21CFR820, the use of which is considered |
   | to be a violation of US Federal Statutes.                     |
   +---------------------------------------------------------------+
 Imaging Vistarad RPC for finding related procedures based on CPT
 matching table (file #2006.67 -- MAG RAD CPT MATCHING FILE).
 PARAMETERS
  DATA
   TYPE:LITERAL
   CPT Code 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  List of results; each result consists of:
 EXTERNAL ROUTINES:
  DT^DICRW,$$CPT^ICPTCOD

MAGJ REMOTESCREEN - REMSCRN^MAGJUTL4
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 VistARad client calls this to set/clear flag to show/not show remote
 exams only when displaying exam lists for a routing/remote read user.
 PARAMETERS
  DATA
   TYPE:LITERAL
   Input is 1 or 0;  1=screen for remote only; 0=no screen applied
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return: Reply^Code~msg
 EXTERNAL ROUTINES:
  DT^DICRW

DSIC DPT GET ID - ID^DSICDPT
 This returns the patient's identifier based upon their eligibility code.  
 For the VA, this will be the SSN (dashed) ^ last 4 of SSN.  For non-VA 
 systems this will be that systems ID.
 PARAMETERS
  PAT
   TYPE:LITERAL
   This is the patient's name, IFN, or any other acceptable lookup value.
  ISSSN
   TYPE:LITERAL
   This is a Boolean flag (1 or 0).  If 1 then the lookup value in the PAT 
  VAPTYP
   TYPE:LITERAL
   This is a pointer value to the Eligibility file (#8).
 RETURN VALUE
  TYPE: SINGLE VALUE
  If problems, return -1^message
 EXTERNAL ROUTINES:
  

DSIC DPT TEST PATIENT - TEST^DSICDPT
 This will return a Boolean value indicating whether or not the patient 
 record is a test patient or a real patient.
 PARAMETERS
  PAT
   TYPE:LITERAL
   This is any lookup value for a patient (name, SSN, DFN, etc.)
  ISSSN
   TYPE:LITERAL
   This is a Boolean flag.  If 1, then the PAT lookup value is the patient's 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return 1 if the patient is a test patient
 EXTERNAL ROUTINES:
  

DSIC ACTIVE CPRS PROVIDER - PROV^DSICDUZ
 This will determine if a user is an active CPRS provider.  The logic 
 steps for this determination flows as follows:
  
   Provider  Condition
   --------  --------------------------------------------------
  1    NO    User DUZ value passed is not valid
  2   YES    User has an ACCESS CODE: A provider
  3    NO    User is terminated and does not own the XUORES key
  4   YES    User owns the XUORES key
  5   YES    User is a visitor and the RDV flag was passed
  6    NO    User is not a provider
 PARAMETERS
  XDUZ
   TYPE:LITERAL
   This is a pointer to the NEW PERSON file.
  RDV
   TYPE:LITERAL
   This is a Boolean flag (1 or 0) indicating whether or not remote data 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return: 3, 2, 1, 0, or -1^message
 EXTERNAL ROUTINES:
  

MAGQ COQ - FOQUE^MAGQBUT
 The QUEUE types: "JUKEBOX","JBTOHD","PREFET","IMPORT","GCC","DELETE"
 are purged that are in the failed queue partion of the queue file. 
 The partition is designated by the position in the queue file (#2006.03)
 by the queue pointer from the Queue pointer file (#2006.031).
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the queue type.
 EXTERNAL ROUTINES:
  

MAG DICOM GET ICN - GETICN^MAGDRPC9
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 Returns the ICN (with checksum) for a given DFN, if it exists.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient pointer.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Integration Control Number for the given DFN.
 EXTERNAL ROUTINES:
  $$GETICN^MPIF001

MAG NEW SOP INSTANCE UID - NEWUID^MAGDRPC9
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC stores a new SOP Instance UID in the Image File (#2005)
 for corrected images that are to be exported.
  
 This RPC stores a new SOP Instance UID in the Image File (#2005)
 for corrected images that are to be exported.
 PARAMETERS
  OLD
   TYPE:LITERAL
   The value of this parameter is a string.
  NEW
   TYPE:LITERAL
   The value of this parameter is a string.
  IMAGE
   TYPE:LITERAL
   The value of this parameter is a
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of this parameter is one of several possible strings:
 EXTERNAL ROUTINES:
  $$HTFM^XLFDT

MAG RAD GET NEXT RPT BY DATE - NEXT^MAGDRPC9
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This RPC looks for the next radiology report,
 while traversing the "AR" cross-reference on
 the Radiology Patient file.
  
 This RPC looks for the next radiology report,
 while traversing the "AR" cross-reference on
 the Radiology Patient file.
 PARAMETERS
  SEED
   TYPE:LITERAL
   The value of this parameter is a string that consists of three
  DIR
   TYPE:LITERAL
   The value of this parameter is a string that indicates the direction
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of the output parameter is a string that consists of up
 EXTERNAL ROUTINES:
  

MAG RAD GET NEXT RPT BY PT - NXTPTRPT^MAGDRPC9
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 Returns the next ^RARPT entry for the patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient pointer.
  RARPT1
   TYPE:LITERAL
   
  DIR
   TYPE:LITERAL
   Direction to transverse 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the next or previous ^RARPT pointer for the patient.
 EXTERNAL ROUTINES:
  

MHV LOG ON - LOGON^MHVUL1
 Turns on MHV application logging.
 PARAMETERS
  DTM
   TYPE:LITERAL
   Purge Date/Time.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Success flag ^ Purge Date/Time ^ Created Date/Time
 EXTERNAL ROUTINES:
  

MHV LOG OFF - LOGOFF^MHVUL1
 Turns off MHV application logging.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Success Flag ^ Purge Date/Time
 EXTERNAL ROUTINES:
  

MHV LOG PURGE - LOGPRG^MHVUL1
 Purge MHV application log.
 PARAMETERS
  DTM
   TYPE:LITERAL
   Purge Date/Time.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Success Flag ^ Purge Date/Time
 EXTERNAL ROUTINES:
  ^%DT,$$HTFM^XLFDT

MHV LOG INFO - LOGINFO^MHVUL1
 Returns information on MHV application logging settings.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  RESULT("HEAD") - Zero node of log XTMP
 EXTERNAL ROUTINES:
  

MHV LOG SIZE - LOGSIZE^MHVUL1
 Returns information on size of MHV application log.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  RESULT("ENTRY COUNT") - number of entries in the log
 EXTERNAL ROUTINES:
  

MHV LOG SUMMARY - LOGSUM^MHVUL2
 Retrieve MHV application log summary.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RESULT - Global Root of Result Array
 EXTERNAL ROUTINES:
  

MHV LOG DETAIL - LOGDET^MHVUL2
 Retrieve an MHV application log entry.
 PARAMETERS
  DTM
   TYPE:LITERAL
   Negative Date/Time of entry in Fileman format.
  JOB
   TYPE:LITERAL
   Job number of log entry.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RESULT - Global Root of Result Array
 EXTERNAL ROUTINES:
  

MHV LOG CONFIG - LOGSET^MHVUL1
 Configure MHV application logging parameters.
 PARAMETERS
  UPDATE
   TYPE:LIST
   Configuration parameters to update
 RETURN VALUE
  TYPE: SINGLE VALUE
  RESULT - success flag ^ state ^ purge date/time ^ created date/time ^ 
 EXTERNAL ROUTINES:
  ^%DT,$$HTFM^XLFDT

PSB UTL XSTATUS SRCH - FNDACTV^PSBVDLU3
 RESULTS(0)=returned line count
 RESULTS(1)=patients location during activity
 RESULTS(2)=medication^ordernumber
 RESULTS(3)= action fileman date&time
 RESULTS(4)= scheduled administration fileman date&time
 PARAMETERS
  RESULTS
   TYPE:REFERENCE
   RESULTS array (ref)
  PARAMS
   TYPE:LITERAL
   
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NOW^%DTC,$$GET1^DIQ,EN^PSJBCMA1,$$FMADD^XLFDT

XUS SET VISITOR - SETVISIT^XUSBSE1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XUESSO1,$$ENCRYP^XUSRB1,$$HANDLE^XUSRB4

XUS GET VISITOR - GETVISIT^XUSBSE1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$DECRYP^XUSRB1

DSIR ADD/DEL SENSITIVE PROV - ADDPROV^DSIROI8
 This RPC will add or delete entries in file 19620.94 (DSIR SENSITIVE 
 PROVIDERS)
 PARAMETERS
  PROV
   TYPE:LITERAL
   This is the internal entry number of the New Person file (#200) of the 
  DEL
   TYPE:LITERAL
   This is a flag that if true will delete the record pointed to by 
 RETURN VALUE
  TYPE: SINGLE VALUE
  -1 ^ Missing Provider Pointer!
 EXTERNAL ROUTINES:
  

DSIR GET SENSITIVE PROVIDERS - PROVLIST^DSIROI8
 This RPC returns a list of all persons flagged as sensitive in the ROI 
 package.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Array '^' delimited
 EXTERNAL ROUTINES:
  

DSIR LIST FOIA OFFSETS - IENSFOIA^DSIROI8
 This RPC gets IENS for 19620.3 and returns them through areferenced local 
 array along with the fiscal year end date and the division: 
 IEN^ENDDATE^DIVISION
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Return Array Contains Pointers to file 19620.3
 EXTERNAL ROUTINES:
  

DSIR GET FOIA OFFSETS - GETFOIA^DSIROI8
 GIVEN IEN (FISCAL YEAR END) THIS SUBROUTINE LOOKS UP THE RECORD AND 
 RETURNS THE REPORT HISTORY DETAILS AND REPORT COUNT VALUES.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number - Required
 RETURN VALUE
  TYPE: ARRAY
  ARRAY FORMATTED AS FOLLOWS:
 EXTERNAL ROUTINES:
  

DSIR UPDATE FOIA OFFSETS - MANUFOIA^DSIROI8
 This RPC updates the manually entered offsets for the annual FOIA report.
 PARAMETERS
  FOIA
   TYPE:LITERAL
   This is the internal number from file 19620.3.
  DATA
   TYPE:LIST
   This is an array '
 RETURN VALUE
  TYPE: SINGLE VALUE
  Successful Filing
 EXTERNAL ROUTINES:
  

DSIR SET LOCKED STATUS - LOCKFOIA^DSIROI8
 This RPC sets/resets the lock on the annual FOIA report add in numbers.
 PARAMETERS
  EDDT
   TYPE:LITERAL
   This is the internal number of the entry in 19620.3
  LSTAT
   TYPE:LITERAL
   This is the lock status 0 = Unlock, 1 = Lock
  IEN
   TYPE:LITERAL
   Internal Entry Number - Required
 RETURN VALUE
  TYPE: SINGLE VALUE
   IEN POINTER TO FILE 19620.3 PLUS THE END DATE AND DIVISION (IEN^EDDT^DIV)
 EXTERNAL ROUTINES:
  

XOBE ESIG GET CODE - GETCODE^XOBESIG
 Returns the electronic signature code for the user from the NEW PERSON
 file.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$ENCRYP^XUSRB1

XOBE ESIG SET CODE - SETCODE^XOBESIG
 Saves the user's electronic signature code in the NEW PERSON file.
 PARAMETERS
  ESIG
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^DIE,$$GET1^DIQ,HASH^XUSHSHP,$$DECRYP^XUSRB1

XOBE ESIG GET DATA - GETDATA^XOBESIG
 Returns the data for the electronic signature block-related  fields from 
 the NEW PERSON file.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETS^DIQ

XOBE ESIG SET DATA - SETDATA^XOBESIG
 Saves the electronic signature block-related data in the NEW PERSON file.
 PARAMETERS
  VALUES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FILE^DIE

XOBE ESIG IS DEFINED - ISDEF^XOBESIG
 Returns whether the user currently has an Electronic Signature Code 
 defined. Returns 0 if the e-sig code is null, 1 otherwise.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ

ANRVJ1_RPC_MAIN - RPC^ANRVJ1
 This is the main entry point for calling line tags in routine ANRVJ1.  
 The format is:
         Parameter 1 = OPTION (name of the line tag to call)
         Parameter 2 = DFN (value being passed in)
         Parameter 3 = DATA (any additional values to be passed in)
 PARAMETERS
  OPTION
   TYPE:LITERAL
   Routine Line tag you wish to call.
  DFN
   TYPE:LITERAL
   Parameter variable to be passed into routine tag.
  DATA
   TYPE:LITERAL
   Any additional parameters to be passed into the routine line tag.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Results are a global array.
 EXTERNAL ROUTINES:
  CLEAN^DILF

ANRV CREATE ENCOUNTER - ENCNTR^ANRVJ1
 Create an encounter.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ANRV PROBLEM LIST - LIST^ORQQPL
 PARAMETERS
  STATUS
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LIST^GMPLUTL2,$$STATCHK^ICDAPIU,$$DETAIL^ORWCV1,$$PATCH^XPDUTL

ANRV GET PN TITLES - NOTES^TIUSRVD
 This API returns a list of Progress Notes Titles, including a SHORT LIST 
 or preferred titles as defined by the user, and a LONG LIST of all titles 
 defined at the site.  This has been added to the Blind Rehab software to 
 allow the lookup of TIU Document Definitions to set as site parameters 
 for the current institution.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

SCMC PCMM CHECK FTEE - FTEECHK^SCMCTSK1
 Determine if provider has exceeded 1.0 FTEE
 PARAMETERS
  SCPATCH
   TYPE:LITERAL
   PatchVersion 
  TPIEN
   TYPE:LITERAL
   POSITION ASSIGNMENT HISTORY IEN 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Zero if OK otherwise 1^current FTEE
 EXTERNAL ROUTINES:
  

SC EXTEND BUILD LIST - EXTEND^SCMCTSK1
 Return list of patients by position that will be inactive in next 60 days
 PARAMETERS
  TEAM
   TYPE:LITERAL
   Internal Team Number
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^%DT,DT^DICRW

SC EXTEND FILE LIST - FILE^SCMCTSK1
 File FTEE value
 PARAMETERS
  DATA
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^DIE

SCMC FILE INACTIVATION END - FILEIN^SCMCTSK3
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FILE^DIE

SC GET ASSOCIATE CLINICS - GETASC^SCMCTSK2
 Get list of clinics that this position is associated to.
 PARAMETERS
  PARAMETER LIST
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

SC FILE ASSOCIATE CLINICS - SETASC^SCMCTSK7
 File Associate clinics to the team position
 PARAMETERS
  DATA
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DICN,^DIK

SC POSITION RESIDENT ROLE - ROLE^SCMCWAIT
 Send provider entry return 1 or zero if eligible to be Primary Care
 PARAMETERS
  PROV
   TYPE:LITERAL
   Internal file 200 provider entry
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

SCMC POSITION PC CHECK - POSCHK^SCMCTSK1
 On position setup check if consistent assignment
 PARAMETERS
  TPIEN
   TYPE:LITERAL
   TEAM POSITION ENTRY
 RETURN VALUE
  TYPE: SINGLE VALUE
  Zero if OK otherwise 1^current FTEE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$DATES^SCAPMCU1,POSCHK^SCMCTSK4,$$GET^XUA4A72

SC CHECK FOR ENROLLMENT - CHKENR^SCMCTSK1
 Check Whether patient is enrolled in the position associated clincs
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

SCMC ROLE - ROLE^SCMCTSK2
 Determine boxes based on Role
 PARAMETERS
  SCPATCH
   TYPE:LITERAL
   PatchVersion 
  ROLE
   TYPE:LITERAL
   ROLE
 RETURN VALUE
  TYPE: ARRAY
  STANDARD POSITION PC^PRECEPTOR^PRECEPTEE
 EXTERNAL ROUTINES:
  $$DATES^SCAPMCU1

DENTV GET COVER PAGE INFO - CP^DENTVTP0
 Returns demographic, case management and recent dental activity data for 
 the Cover Page in DRM Plus.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Contains the patient dfn.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of demographic and additional data:  
 EXTERNAL ROUTINES:
  

DENTV TP GET LAST STATUS - LST^DENTVTP5
 Sends back the status of the last, non-deleted, encounter.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Contains the patient dfn (ien).
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns: 1-4 for In Progress, Completed, Terminated or Maintenance.
 EXTERNAL ROUTINES:
  

PRPF DATABASE DIAG - RPC^PRPFDR3
 PARAMETERS
  PRPFRPC
   TYPE:REFERENCE
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  SETUP^PRPFDR2,KILLIT^PRPFDR4

PRPF DATABASE EXTR - RPC^PRPFMR1
 THIS USED FOR J2EE MIGRATION
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

RG PRIMARY VIEW REJECT - PVREJ^MPIRPC
 This remote procedure call will return the Primary View Reject report for 
 a particular station, ICN, and date range.  The date range will be from 
 the date of the exception to the current date.
 PARAMETERS
  SITE
   TYPE:LITERAL
   This is the requesting site's station number.
  ICN
   TYPE:LITERAL
   This is the Integration Control Number of the patient for whom data is 
  EXCEPTION DATE
   TYPE:LITERAL
   The date/time of the exception will be used as the begin date for the 
 RETURN VALUE
  TYPE: ARRAY
  This Remote Procedure Call will return the Primary View Rejection Report 
 EXTERNAL ROUTINES:
  

RMPR CHECK PROS PATIENT - EN1^RMPR9CPP
  
 PARAMETERS
  IEN
   TYPE:LITERAL
    
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  

RMPR CREATE WORK ORDER - CR^RMPR29GU
  
 PARAMETERS
  RMPR9DA
   TYPE:LITERAL
   IEN OF 664.1
  SCR
   TYPE:LITERAL
   Source of Procurement
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  

RMPR OWL SUSPENSE ACTIONS - EN^RMPR29CA
 Remote Procedure  for Work Order Actions.  The first 2 will be:
 Post complete note
 Post initial action
 PARAMETERS
  RMPRTXT
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

RMPR OWL WORK ORDER LIST - EN^RMPR29WO
 GUI Order controll processing.  Returns the list of all open pending 
 Work Orders from file 664.1.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The array format:
 EXTERNAL ROUTINES:
  

RMPR OWL PC PRINT - PRT^RMPR29RG
 Purchase Order Information to be printed from a PC Device Fax/Printer
  
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR OWL ITEM LIST - EN^RMPR29W1
 GUI Order controll processing.  Returns the list of all open pending 
 Work Orders from file 664.1.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The array format:
 EXTERNAL ROUTINES:
  

RMPR PURCHASE ORDER CONTROL - EN^RMPR9PU
 GUI Order controll processing.  Returns the list of all open pending 
 consults from file 668.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the list of all open pending consults from file 668.
 EXTERNAL ROUTINES:
  

RMPR OWL ADD ON LIST - EN^RMPR29W2
 GUI Order controll processing.  Returns Add On's from material multiple 
 of 664.2.
 .
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The array format:
 EXTERNAL ROUTINES:
  

RMPR OWL ENTER/EDIT ADD ON - EN^RMPR29MG
 GUI Order controll processing.  ENTER/EDIT
 Add On's from material multiple
 of 664.2.
 .
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR OWL ENTER/EDIT HCPCS CODE - EN^RMPR29BG
 GUI Order controll processing.  ENTER/EDIT
 Primary Items Base Codes multiple
 of 664.1.
 .
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

RMPR OWL ENTER/EDIT HRS/RATE - EN2^RMPR29MG
 GUI Order controll processing.  ENTER/EDIT
 Technisions, Rate of Labor and Hours to 664.3 for the associated work 
 order.
 .
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR OWL TECH/HOUR/RATE LIST - EN^RMPR29L2
 GUI Order controll processing.  Returns Technision, Hours, Rate,664.2 
 IEN,DUZ from file# 664.3. .
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The array format:
 EXTERNAL ROUTINES:
  

RMPR OWL VISTA PRINT - PRT^RMPR29RG
 Purchase Order Information to be printed from a PC Device Fax/Printer
  
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

RMPR OWL LOCK FILE - OWLL^RMPRGULK
  
 PARAMETERS
  IEN
   TYPE:LITERAL
    
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  

QACI DELETE ALL LISTS - ENDELALL^QACI2C
 This RPC deletes the lists of legacy table data and Contact (ROC) numbers
 that have been migrated from the old Patient Representative files to the
 new PATS Oracle Tables. It is called from a Java routine after the
 migrated data has been deleted from the Oracle tables. This is done ONLY
 if for some reason a site has decided that they need to completely restart
 the data migration to PATS.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a number set to 1 to indicate success.
 EXTERNAL ROUTINES:
  

QACI LOAD REFERENCE TABLES - EN^QACI3
 This RPC assumes that the user has previously run the option QACI 
 MIGRATION DATA BUILD to build the lists of reference table data for all
 entries referenced by at least one CONSUMER CONTACT record.
  
 You must set up separate code to load each table, because the FLAG 
 parameter will be different for each table. The order in which the tables 
 are updated is not important. Each table update can call the RPC multiple
 times in a loop. When all of the data for a single table has been
 processed, the output array is returned empty. Exit the loop for that 
 table and go on to process the next table.
  
 The first time the RPC is called (based on an input parameter) two checks 
 are done. If there is no data to migrate in any of the tables, the RPC
 returns 0 in the 0th entry of the array. If the 'ready to migrate' flag
 has not been set, the RPC returns 1 in the 0th entry of the array 
 indicating that the user has not yet flagged the data ready for migration.
  
 So you would do the following in the Java calling code:
 1) Set the flag to indicate the table you wish to update, then call the
 RPC using VistALink. On the first call, the input array will be empty, 
 and the input parameter indicating whether this is the first call should 
 be set to 1.
 2) Check to make sure the 0 entry of the array is not set to 1 or 0. If
 it is, generate an appropriate message and quit.
 3) Check the output list from the RPC. If empty, return to step 1 to
 process the next table.
 4) Otherwise, pass the list returned by the RPC to the appropriate Oracle
 procedure to update the current table.
 5) Move the output from the Oracle procedure into the array that will be 
 used as input to the next RPC call, then return to step 1, still
 processing the same table.
  
 Each entry in the output list from this RPC contains up-arrow delimited
 strings of reference table data, each one containing all the data to
 update a single entry on the Oracle table indicated by the flag parameter.
 PARAMETERS
  PATSNO
   TYPE:LITERAL
   Number of entries to be returned in one call to the RPC. If set to 0 or 
  PATSLIST
   TYPE:LIST
   If defined, contains a list of VistA_IEN
  PATSFLAG
   TYPE:LITERAL
   Must be set to the following, to indicate what type of data is to be 
  PATSFRST
   TYPE:LITERAL
   This boolean value indicates whether this RPC is being called the first 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an M global which is an array of up-arrow delimited strings.
 EXTERNAL ROUTINES:
  

QACI LOAD ROC - EN^QACI4
 This RPC assumes that the user has previously run the option QACI 
 MIGRATION DATA BUILD to build the list of data to be migrated.
  
 You will call this RPC multiple times in a loop. You can tell when all of 
 the ROCs have been processed when the output list comes back empty.
  
 So you would do the following in the Java calling code:
 1) Call the RPC using VistALink. (On the first call, the input array will
 be empty).
 2) Check the output list from the RPC. If empty, you're done.
 3) Otherwise, pass the list returned by the RPC to the Oracle procedure to
 update the ROCs.
 4) Move the output from the Oracle procedure into the array that will be 
 used as input to the next RPC call, then return to step 1.
  
 Each entry in the output list from this RPC contains up-arrow delimited
 strings of ROC data. The data tells the procedure both what ROC number it 
 belongs to, and the type of data. The data for the main table comes first,
 followed by the issue text entries, the resolution text entries, and the
 method-of-contact entries.
 PARAMETERS
  PATSLIST
   TYPE:LIST
   If defined, contains a list of ROC numbers for the previous group of ROCs
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an M global which is an array of up-arrow delimited strings.
 EXTERNAL ROUTINES:
  

QACV PERSON LOOKUP VLH - EN^QACVEMPX
 Pass the name of an employee formatted as "last_name,first_name". 
  
 The routine does a lister call on the VistA NEW PERSON file (200) to find
 the next set of records that match the name. Partial name lookup is
 supported. For example, "Sm" will find all "Smiths" and Smurfs, "Sm,J"
 will find "Smith,Joe", and "Smurf,Jimmy".
  
 The routine returns the IEN, name components, title and mail code for the
 person(s) who match the lookup value, in XML format. In addition, the XML
 data contains a flag indicating whether there are more matching records to
 return. If it is set to 1, then the caller can make another call to get
 the next 'N' records. The XML data also contains a 'next name' and 'next
 IEN' value. This is used to tell the FileMan Lister where to start looking
 on subsequent calls, in order to return the next N records. These two
 'from' values must be passed as input parameters to subsequent calls.
 PARAMETERS
  EMPNAME
   TYPE:LITERAL
   Employee's name with last name first. Ex: Smith,Joe
  PATSROWS
   TYPE:LITERAL
   Number of employees to return in each call. If not passed, the default
  PATSFRM0
   TYPE:LITERAL
   On the first call to this RPC, this parameter should be set to the empty
  PATSFRM1
   TYPE:LITERAL
   On the first call to this RPC, this parameter should be set to the empty
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an M global which contains employee data in XML format.
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$SYMENC^MXMLUTL,EN^QACVKHLD,$$HLNAME^XLFNAME,$$FORMAT^XLFNAME7,$$S
TA^XUAF4

QACV KEY HOLDERS VLH - EN^QACVEMPX
 Pass a list of SECURITY KEY names. The routine returns the next 'n' 
 persons who have been granted access to one or more of the keys in the 
 list.
  
 The routine returns the IEN, name components, title and mail code for the
 person(s) who match the lookup value, in XML format. In addition, the XML
 header contains a flag indicating whether there are more matching records
 to return. If it is set to 1, then the caller can make another call to get
 the next 'N' records. The XML header also contains a 'next name' and 'next
 IEN' value. These values are used like the FROM array in a FileMan Lister 
 call LIST^DIC. They are used to tell the routine where to start looking on
 subsequent calls, in order to return the next N records. These two 'from'
 values must be passed as input parameters to subsequent calls.
 PARAMETERS
  KEYLIST
   TYPE:LIST
   An array containing names of one or more SECURITY KEYS in the VistA 
  PATSROWS
   TYPE:LITERAL
   Number of employees to return in each call. If not passed, the default
  PATSFRM0
   TYPE:LITERAL
   On the first call to this RPC, this parameter should be set to the empty
  PATSFRM1
   TYPE:LITERAL
   On the first call to this RPC, this parameter should be set to the empty
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an M global which contains employee data in XML format.
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$SYMENC^MXMLUTL,EN^QACVKHLD,$$HLNAME^XLFNAME,$$FORMAT^XLFNAME7,$$S
TA^XUAF4

QACI NATL INSTITUTION LIST - ENLDSTA^QACI2
 This RPC receives a list of station numbers from the Standard Data 
 Services institution table std_institution. The list contains all station 
 numbers that begin with the 3 character computing facility station number.
  
 The list is stored in the ^XTMP array, and is used in the pre-migration
 data cleanup option to make sure that any data references only valid
 station numbers.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a number set to 1 to indicate success, 0 to indicate failure.
 EXTERNAL ROUTINES:
  $$DT^XLFDT,$$FMADD^XLFDT

PRCHL LIST - EN^PRCHL4
 PARAMETERS
  DATE1
   TYPE:LITERAL
   The Fileman date to start the query.  The beginning date.
  DATE2
   TYPE:LITERAL
   The Fileman date to end the query.  The ending date.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

PRCHL LIST X - EN^PRCHL5
 GUI REMOTE PROCEDURE, LIST DATA
  
         ;RESULTS passed to broker in ^TMP($J,
         ;delimited by "^"
         ;piece 1 = DATA TO DISPLAY
         ;piece 2 = FIELD NUMBER
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

PRCHL ITEM DET - EN^PRCHL6
 A         ;piece 1 - line item number
          ;piece 2 - Item Master number
          ;piece 3 - qty
          ;piece 4 - unit of purchase
          ;piece 5 - BOC
          ;piece 6 - contract BOA
          ;piece 7 - actual unit cost
          ;piece 8 - fed supply classification
          ;piece 9 - vendor stock number
          ;piece 10 - unit conversion factor
          ;piece 11 - total cost
          ;piece 12 - nif number
          ;piece 13 - item master short description 441- .05
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  

RG VIEW VISTA EXCEPTIONS - EN^RGRPC
 This RPC will allow the MPI IMDQ staff to view VistA exceptions for a 
 given patient logged during a specific date range.
 PARAMETERS
  ICN
   TYPE:LITERAL
   Integration Control Number for patient exceptions are being requested 
  SSN
   TYPE:LITERAL
   Social Security Number for patient exceptions are being requested 
  DFN
   TYPE:LITERAL
   Internal Entry Number for patient, in the PATIENT (#2) file, exceptions
  BRANGE
   TYPE:LITERAL
   Beginning Date Range for exceptions to be in.
  ERANGE
   TYPE:LITERAL
   Ending Date Range for Exceptions to have been logged in.
 RETURN VALUE
  TYPE: ARRAY
  Exceptions found for the patient in the given date range.  Fields 
 EXTERNAL ROUTINES:
  DD^%DT,NOTICE^DGSEC4,PTSEC^DGSEC4,^DIC,$$GETDFN^MPIF001,$$GETICNS^MPIF002,$$SI
TE^VASITE

RG PRIMARY VIEW FROM MPI - MPIPV^MPIRPC
 This remote procedure call will return the MPI Patient Data Inquiry [MPI 
 DATA MGT PDAT MPI] (PDAT) report for a requested ICN.
 PARAMETERS
  ICN
   TYPE:LITERAL
   This is the Integration Control Number of the patient for whom data is 
 RETURN VALUE
  TYPE: ARRAY
  This Remote Procedure Call will return the MPI Patient Data Inquiry 
 EXTERNAL ROUTINES:
  

YTQ TSLIST - TSLIST^YTQAPI
 Returns a list of tests and surveys from 601.71.
 PARAMETERS
  none
   TYPE:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  TEST NAME = LAST EDIT DATE^OPERATIONAL^REQUIRES LISCENCE
 EXTERNAL ROUTINES:
  FIELD^DID,$$GET1^DIQ

YTQ TSLIST1 - TSLIST1^YTQAPI
 Returns a delimited list, one field per line of all fields in 601.71 for 
 a specified entry.
 FIELD LABEL ^ FIELD VALUE
 PARAMETERS
  CODE
   TYPE:
   .01 entry IN 601.71
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIELD^DID,$$GET1^DIQ

YTQ QUESTALL - QUESTALL^YTQAPI3
 Retuns Item text, Intro, Choicetypes and Display information for all 
 Questions in a Specified Instrument.
  
 Input: YS("CODE"):As test name
  
 Output: YSDATA(1)=[DATA] or [ERROR]
         YSDATA(2)="NUMBER OF QUESTIONS="_N3
         YSDATA(3)=QUESTION NUMBER1=ien for MH Question^QUESTION 
                   SEQUENCE^DESIGNATOR 
         YSDATA(4)=QUESTION TEXT1=fIRST line of text
         YSDATA(5)=additional text lines as needed
         YSDATA(6)=INTRO TEXT1=IEN FOR MH INTRO^First intro line
         YSDATA(7)=additional intro lines as needed
         YSDATA(8)=DESC1=Respone Type^CHOICETYPE^MIN^MAX^IS REQUIRED
                 ^HINT^CHOICEIDENTIFIER 
         YSDATA(9)=QDISPLAY1=DisplayId^FontName^FontBold^FontItalic
                   ^FontUnderlined ^ Fontsize^FontColor ^Alignment
                   ^left^Mask^Colums^Component (for question text)
         YSDATA(10)=IDISPLAY1=DisplayId^FontName^FontBold^FontItalic
                   ^FontUnderlined ^Fontsize^FontColor^Alignment
                   ^left^Mask^Colums^Component (for intro text)
         YSDATA(11)=CDISPLAY1=DisplayId^FontName^FontBold^FontItalic
                    ^FontUnderlined ^Fontsize^FontColor^Alignment
                    ^left^Mask^Colums^Component (for choice)
         :
         Repeat for each item in test
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

YTQ CHOICES - CHOICES^YTQAPI
 Returns Choice all for an instrument.
  
  
 ;input: CODE as test name
         ;output: 601.75(1) CHOICETYPE ID^SEQUENCE^CHOICE IFN^CHOICE TEXT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTQ BATTC - BATTC^YTQAPI3
 Return: Battery Name^ Instrument
 ordered Battery Name and then by sequence.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

YTQ SKIP - SKIPPED^YTQAPI
 INPUT: CODE as MH TEST SURVEY name
 OUTPUT: QuestionID^SkippedQuestionID
 ordered by QuestionID,SkippedQuestionID
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTQ SECTION - SECTION^YTQAPI
 INPUT: CODE as instrument NAME
 OUTPUT: FirstQuestionId^TabCaption^SectionCaption
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DISPEXT^YTQAPI5

YTQ SAVE - EDAD^YTQAPI1
 Generic proceedure to add or edit a MH file entry
  
  
 Input: YS("FILEN")=File Number
           (i.e. the file# for administrations would be 601.84)
         YS("IEN")= : the internal number of the record you want to edit.
 Leave blank if creating a new record. If creating a new record you must
 send .01^NEW for those MH files using the New input transform.
         YS(1)=FIELD #^Value^[3rd piece is 1 if you need to bypass
              validation (use only if approved by developer)
         :
         :
         YS(x)=YS(1)=FIELD #^Value^[3rd piece]
  
 Output: YSDATA(1)=[DATA] or [ERROR]
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  UPDATE^DIE,VAL^DIE

YTQ RULES - RULES^YTQAPI1
 Returns all the Rules for a specified Instrument
  
 Input: YS("CODE")= test name
  
 Output:
         YSDATA(1)=[DATA]
         YSDATA(x): RULE ID= IndexQuestion^IndexValue^ IndexValueDataType
                   ^IndexOperator^BoolOperator^TargetQuestion
         YSDATA(x+1):TargetValue^TargetValueDataType^ TargeOperator
         YSDATA(X+2):MessageText^IsConsistencyCheck
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTQ GETANS - GETANS^YTQAPI1
 Returns answers to an MH TESTS AND SURVEYS
  
 Input:  AD= Administration number
         QN=Question Number
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTQ CAPIE - CAPIE^YTQAPI1
 Returns array of data from specified file and IENS
 INPUT: FILEN as number
        FIELDS "**" or a field Number
        IENS as internal record number (no comma)
 OUTPUT: Field #(;subfield)^ Field label ^ internal data ^ [external data] if
 different
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DID,$$VFIELD^DILFD,$$VFILE^DILFD,GETS^DIQ

YTQ WP FILER - WPED^YTQAPI1
 Files single Word Processing Field.
 It REPLACES previous text if any with current text.
  
 Input:
    FILEN= fileman file Number
    IEN= internal record number (cannot create a new record)
    FIELD= field to be modified (must be a WP field)
    YS(1)= TEXT line 1
    ...
    YS(X)=TEXT line X
  
 Output:
    [DATA] if no errors VS [ERROR]
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  WP^DIE,$$VFIELD^DILFD

YTQ GENERIC LISTER - LISTER^YTQAPI2
 Returns a lists of all entries in a file for a specified field. 
  
 Input: FIELN: file or subfile Number
        FIELD: filed number
  
     optionals
        FLAG: 'I' returns internal format, 'B' backwards sort
               defaul= external, forward
        NUMBER: number of entries requested default=500
        FROM: last ien already retrieved  default= start
        INDEX: index to sort on   default=  regular cross-ref on IEN
  
 Output: [DATA]
         # of entries returned^#requested (often 500)^any more (0 or 1)
         IEN^Data requested
         .
         .
         IEN^Data requested
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC,$$VFIELD^DILFD,$$VFILE^DILFD

YTQ ALL ANSWERS - ALLANS^YTQAPI2
 Returns all the answers given to a particular MH administration
  
  
 input: AD = ADMINISTRATION #
  
 output: [DATA]
         ADMINISTRATION ID^DFN^INSTRUMENT^DATE GIVEN^IS COMPLETE
         QUESTION #^seq^ANSWER
         .
         .
         .
         QUESTION #^seq^ANSWER
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

YTQ SET ANSWER - SETANS^YTQAPI2
 Save an answer to a specified MH Question of a specified MH 
 Administration.
  
 Input: AD as MH adminisration ID
        QN as MH Question ID
        YS(1) as Answer 1
        .
        .
        .
        YS(N) as Answer N
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$NEW^YTQLIB

YTQ GET ADMINISTRATIONS - ADMINS^YTQAPI2
 Returns all MH Administrations for a specified patient.
  
  
 input : DFN
  
 output:AdministrationID=InstrumentName^DateGiven^DateSaved^OrderedBy^Admin
 isteredBy^Signed^IsComplete^NumberOfQuestionsAnswered
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

YTQ ALL CHOICES - CCALL^YTQAPI2
 No input needed returns all choice id^sequnce^chice ifn^choice text.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTQ GET SCALES - SCALEG^YTQAPI3
 Returns a list of scale for a given test in order of their scale groups.
  
 Input: CODE: alphabetic 601.71 entry
 Output: [DATA] vs [Error]
  GroupX= SCALEGROUP ID^INSTRUMENT NAME^SCALEGROUP NAME^
        GROUP SEQUENCE^ORDINATE TITLE^MIN^INCREMENT^MAX^GRID1^GRID2^GRID3
           Scalex= SCALE ID^SCALEGROUP ID^SCALE SEQUENCE^SCALE NAME^XLABEL 
  
  
 Output is sorted by Scale Group Sequence and Scale Sequence
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

YTQ FIRST WP - FIRSTWP^YTQAPI3
 Returns the first line only of a WP field
         ;Input: FILEN(file number), FIELD (WP filed #)
         ;Ouput IEN^WP Text line 1
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$VFIELD^DILFD,$$VFILE^DILFD

YTQ PURGE - PURGE^YTQAPI3
 Deletes a specific record from a specific file. Works only at top level 
 and does not check pointers or del node.
  
 Take care using this API
  
  
 Input: FILEN (file #)
        IEN (internal record #)
  
  
 Output: conformation only
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK,$$ROOT^DILFD,$$VFILE^DILFD

YTQ CHOICE ADD - ADDCH^YTQAPI4
 This API is to be used to enter a new MH CHOICE 601.75. It searches for 
 already present choices and if available returns that 601.75 ien.
  
 Also checked are non-case sensitive matches.
  
 Input: TEXT as text of the choice
         FORCE: set as Y to force an add when there is a non case 
 sensitive match
  
 Output: error and message or
         601.75 ien added
         Question Force returned when Force not equal Y and non case 
 sensitive match found.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  IX1^DIK,$$NEW^YTQLIB

YTQ CHOICETYPE ADD - CTADD^YTQAPI4
 Use this API to enter a new choicetype (MH CHOICETYPE 601.751). A 
 choicetype is a collection of choices (MH CHOICE 601.75) and
 their sequence.
  
         input: list of choice iens in numbered sequence ex 
 YS(1)=3,YS(2)=22
         output NEW choice type number
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  IX1^DIK,$$NEW^YTQLIB

YTQ CHOICETYPE DELETE - CTDEL^YTQAPI4
 This API will safely delete all 601.751 enteries of the choicetype 
 presented.
  
 This API will not allow deletions of Choicetypes referrefd to in the MH 
 Question file (601.72)
  
         Input: CHOICETYPE
         Output: DELETED if sucessful
                 LIST OF question iens if in use
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

YTQ CHOICETYPE DESCRIBE - CTDESC^YTQAPI4
 This API lists the properites of a specified CHOICETYPE.
  
         input; CHOICETYPE
         output: CHOICETYPE^choicetype ien^sequence^choice ien^choice text
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTQ CHOICETYPE ORPHAN DELETE - ORPHCT^YTQAPI4
 This API will safely remove all CHOICETYPES (601.751) that have no 
 question (601.72) referncing them.
  
         INPUT: none
         OUTPUT: list of choicetypes deleted
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

YTQ CHOICE ORPHAN DELETE - ORPHCH^YTQAPI4
 This API will remove all choices (601.75) that are not part of a 
 CHOICETYPE (601.751)
  
 It is suggested that API YTQ CHOICETYPE ORPHAN DELETE will be run before 
 the API.
  
  
         INPUT none
         OUTPUT list of choices deleted
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

YTQ DISPLAY - DISPLAY^YTQAPI5
 Returns all display data in internal format
 Input: list of DisplayIDs
         YS(1)=DisplayId1
         YS(2)=DisplayId2
         :
         :
         YS(x)=DisplayId(x)
  
 Output: YSDATA(1)=[DATA]
         
 YSDATA(2)=DisplayId^FontName^FontBold^FontItalic^FontUnderlined^Fontsize^F
 ontColor^Alignment^left^Mask^Colums^Component
 :
 :
 YSDATA(x)=DisplayId^FontName^FontBold^FontItalic^FontUnderlined^Fontsize^F
 ontColor^Alignment^left^Mask^Colums^Component
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DISPEXT^YTQAPI5

YTQ GAF HX - GAFRET^YTQAPI6
 Returns all GAF diagnosis for a specified Patient
  
 Input: YS("DFN")= Pt DFN
        YS("END")- Date of last GAF requested [optional]
        YS("BEGIN") : Date of first GAF requested [optional]
         YS("LIMIT"): To limit output to the last x diagnosis
  
 Output:
         YSDATA(1): [DATA] or [ERROR]
         YSDATA(X): 627.8 IEN = external date of dx^GAF^rater DUZ^Rater 
                    name^error msg
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTQ ADMINS BOTH - ADMINS^YTQAPI5
  
 Returns all testing administrations for a specified patient.Returns data 
 from 601.84, 601.2 and 601.4. This is new and legacy data.
  
  
 input : DFN
         COMPLETE: Y for all completed admins, N for all incompletes 
                   (Reqiured)
  
 output: Administration ID D^Instrument Name^Date Given^Date Saved
         ^Orderer^Admin.By^Signed^# Answers^R_Privl
         ^Is Legacy^INSTRUMENT id 601.71^Test IENS 601^Is copyright
         ^Location IENS
  
         This does NOT return ASI or GAF data.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

YTQ TEST ADD - TESTADD^YTQAPI4
 Use this API to add a new instrument to the MH TESTS and SURVEYS file 
 601.71
  
  
 Input: CODE as name of test
 OUTPUT: new ien^added
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  IX1^DIK,$$NEW^YTQLIB

YTQ CHOICEIDENT - IDENTAE^YTQAPI4
 Add enter choiceIdentifiers
  
 IN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  IX1^DIK,$$NEW^YTQLIB

YTQ SCALEGROUP - SCALEGRP^YTQAPI8
 Returns all information from file MH SCALEGROUPS (601.86) for a specified 
 instrument
  
    input: CODE as instrument name
    output: SCALEGROUP ID^INSTRUMENT ID^SCALEGROUP NAME^GROUP SEQUENCE^  
    ORDINATE TITLE^ORDINATEMIN^ORDINATEINCREMENT^ORDINATEMAX^GRID1^GRID2^  
    GRID3
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

YTQ SCORE ADMIN - GETSCORE^YTQAPI8
 Returns scoring for all scales for a specified Administration in 
 Scalegroup and Scale Sequence order.
  
  
 Input: AD as ien for MH Administrations
  
  (required for full legacy only): CODE as Instrument Name
                                   DFN  as pt IEN
                                   ADATE as SAVE DATE in FM format
  
 output: Scale name=Raw Score
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,SCALEG^YTQAPI3

YTQ LEGACY REPORT - LEGACY^YTQAPI8
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,INTRMNT^YTRPWRP

YTQ DELETE SCALES AND GROUP - DELSG^YTQAPI8
 ****Use with Care***
 Deletes a ScaleGroup and ALL its scales!
  
  
 Input : ID as ien of MH Scalegroups (601.86)
 Output: Data vs Error
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

YTQ KEYS - KEY^YTQAPI7
 Get all keys for a specified test
            input: CODE as TEST name
            output:SCALE=ScaleName^scale Id    
                     KEY=Question ID^Target^Value^Key Ien 
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  SCALEG^YTQAPI3

YTQ VERSRV - VERSRV^YTQAPI7
 This procedure allows version checking by using the Option (19) menu 
 text.
  
 Input: YSB as option name to be checked.
 Output: [DATA] vs [ERROR]
        2= mha3 version
        3= CR dll version
        4= mh dll version
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC

YTQ RULEDEL - RULEDEL^YTQAPI7
 Deletes a rule and all associated skips and instrument rules
    Input: IEN as ien of file 601.82
    Output Data vs Error
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

YTQ TEST ORDER - SNDBUL^YTQAPI7
 Send message to psych test ordering clinician
  
 Input: DFN as patient ien 
      : ORD as ordered for (in duz form)
      : TEST1 as name of test ordered (required;string)
      :TEST2-TEST10 as name of other tests ordered (optional but in
        order;string)
  
 Output: [DATA] VS [ERROR]     
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIC,EN^XMB

YTQ BATTDEL - BATDEL^YTQAPI7
 Deletes a battery and all associated MH Battery COntents and MH Battery 
 Users
  
     Input: IEN as ien of file 601.77
     Output Data vs Error
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

YTQ PATIENT INFO - PATSEL^YTQAPI9
 Patient demographic and eligibility information
  
         Input DFN as ien of file 2
         Output
         ; YSDATA(2)= name
         ; YSDATA(3)=ssn
         ; YSDATA(4)=dob
         ; YSDATA(5)=age
         ; YSDATA(6)=sex
         ; YSDATA(7)=date of death
         ; YSDATA(8)=0 NCS/ 1 SC^%^service connected
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  2^VADPT

YTQ USERQ - USERQ^YTQAPI9
 Returns name of current user and optionally checks a security Key
        
        Input  DUZ as internal ien file 200 for user to check [optional 
               default is current user]
               KEY as name of security key to check [optional]
  
  
        Output YSDATA(2)= name of user^DUZ 
               YSDATA(3) if key sent 1^holds VS 0^lacks KEY
               YSDATA(4)= Institution file pointer^Institution name^station
                          number with suffix^new name of medical centers
                          that have integrated
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DDEFIEN^TIUFLF7,REQCOS^TIUSRVA,$$NAME^VASITE,$$SITE^VASITE,OWNSKEY^XUSRB

YTQ SET NATIONAL - NATSET^YTQAPI9
 Allows Psychological test editor to save test data in IENS under 100000
 for national distribution.
  
         input: NATIONAL as Yes or No
         output: YSPROG=1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTQ WP ALL - FULLWP^YTQAPI11
 Returns any Word processing field data for any file. Used to return
 intoductions as an example.
  
 Input: FILEN as the nimber of the file
         FIELD; as the field number
 Ouput: IEN of the entry^line of text
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$VFIELD^DILFD,$$VFILE^DILFD

YTQ DELETE TEST - DELETEME^YTQAPI6
 Deletes a test, quiz or survey. Only removes the top level entry (601.71) 
 and entires in MH Instrument Content (601.76).
  
 Will not remove a test that HAS BEEN OPERATIONAL (ie has answers entered 
 while OPERATIONAL is set).
  
  
       input: CODE as test name
       output: DATA vs ERROR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

YTQ COPY TEST - COPY^YTQAPI10
 Copies a test to a new name. Used when design for one test is based on 
 another. Questions, Intros, Content, Sections, Scales, Rule and Keys are 
 all duplicated.
  
 Input: ORIGINAL: As name of test to be copied. ie 'MH Survey'
         New: Name of new test ie 'MH Survey Copy'
         NATIIONAL : optional if test is to be distributed nationally. 
                     Available only to MH developers.
  
 Output: DATA vs Error
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  RULES^YTQAPI11,SCALES^YTQAPI11

YTQ SCORE SAVE - SCORSAVE^YTQAPI11
 Save results to MH Results (601.92). Use only for completed tests.
  
      Input: AD as administration ID
    Output : DATA vs ERROR     
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  HOME^%ZIS,^%ZTLOAD

YTQ EXPORT - EXPORT^YTQAPI13
 Exports a test to a Mailman message for sharing over the network.
  
 Input: Code as name of test to be exported
 Output: DATA vs ERROR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

YTQ IMPORT - IMPORT^YTQAPI12
 Used to import a test description into the VISTA database from
 a mailman message created by the export function.
  
 Input: Message as message number from file 3.9
 Output: DATA vs ERROR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

YTQ EXPORTED MAIL - MLIST^YTQAPI12
 Returns a list of mail created by the export utility in reverse date order.
  
 Input: NONE
 Output: DATA vs EROR
        1)Message #^Subject line^date
        .
        .
        x)Message #^Subject line^date
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  LISTMSGS^XMXAPIB

YTQ PATIENT LOOKUP - FINDP^YTQAPI11
 Patient lookup utility.                                               
        ; input:                                                               
        ;   VALUE = value to lookup
        ;   NUMBER= maximum number to find [optional]
        ;     Lookup uses multiple index lookup of File #2                     
        ; output:                                                              
        ;   [DATA]^number of records returned                                  
        ;    DFN^patient name^DOB^PID (ssn)^Gender
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  FIND^DIC,CLEAN^DILF,$$DOB^DPTLK1,$$SSN^DPTLK1

YTQ ASI LISTER - LISTASI^YTQAPI12
 API returns a list of ASI administrations for a single patient.
  
 Input: DFN as ien of Pateint file
 Output:
 [DATA]^# of admins returned vs [ERROR]
 IEN=
 (#.05) DATE OF INTERVIEW^ 
 (#.04) CLASS^
 (#.11) SPECIAL^
 (#.51) ELECTRONICALLY SIGNED [1S]^
 (#.09) INTERVIEWER (external)^
 (#.09) INTERVIEWER (internal) 
 1
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$FMTE^XLFDT

YTQ PN CREATE - PCREATE^YTQTIU
 API creates a progress note representation of the narrative report for 
 an administration.
  
 Input AD AS ien of 601.84 mh administration
       HOSP: as ien of hospital location
       YS(1...X) as text of note
 Output: DATA vs ERROR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$DATA2PCE^PXAPI,$$WHATITLE^TIUPUTU,REQCOS^TIUSRVA,MAKE^TIUSRVP,DEM
^VADPT,PID^VADPT

YTQ GET REPORT - MHREPORT^YTQAPI9
 Gets a report format from MH REPORTS file (#601.93)
         Input: CODE as instrument name
         Output:[DATA]^IENS of 601.93 vs [ERROR] 
                 LINE# ^ line text
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

YTQ ASI SIGNOK - SIGNOK^YTQAPI14
 This API evaluates wheher one of 3 conditions is meet for the stored ASI 
 in file Addiction Severity Index (#604).
  
  
  Input: IENS as iens for 604
  Output: 1^OK TO SIGN
          0^MISSING REQUIRED FIELDS
          2^A G12 RECORD
  
  
 Missing fields are listed in YSDATA(3...x)
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

YTQ HL7 - HL7^YTQHL7
 Sends HL7 Message to national database.
 PARAMETERS
  AD 
   TYPE:LITERAL
   IEN of MH Administration file 601.84
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIE,HL7^YTQHL7

YTQ LEGCR - LEGCR^YTQAPI9
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DEM^VADPT,PID^VADPT,PARSE^YTAPI,SAVEIT^YTAPI1,SCOREIT^YTQAPI14,SCALES^YTQPXRM5
,$$UCASE^YTQPXRM6,INTRMNT^YTRPWRP

YTQ ALLKEYS - ALLKEYS^YTQPXRM5
 Returns all security keys for a specified user.
  
 input IEN as internal of file 200 [optional/DUZ]  
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

EAS ESR MESSAGING - TAG^EAS1071A
 This is a stub RPC to trigger dual messaging changes on Vista Sites
 PARAMETERS
  MODE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
  The RPC will return error if the Vista process is unable to perform the 
 EXTERNAL ROUTINES:
  EN^EAS1071B,RESET^EAS1071B

MDK GET VISTA DATA - RPC^MDKRPC1
 PARAMETERS
  OPTION
   TYPE:LITERAL
   This is the routine tag that will be called to retrieve the data.
  DATA
   TYPE:LITERAL
   This is whatever data is needed by the subroutine to process the request 
 RETURN VALUE
  TYPE: ARRAY
  Returns an array.
 EXTERNAL ROUTINES:
  

MD TMDWIDGET - RPC^MDRPCOW
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF

MDK UTILITY - RPC^MDKUTLR
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF

MDK GET/SET RENAL DATA - RPC^MDKRPC2
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

MD TMDNOTE - RPC^MDRPCNT
 This remote procedure call does the following:
 Accepts the following Inputs:
    RESULTS - Both (Input and Output) - Passed in as the array to return
              results in.
  
    OPTION - NEWDOC = Add additional new document to the Hemodialysis
                      study.
  
             NOTELIST = Returns a list of documents associated with the
                       study.  The pieces returned are: Note IEN, Note
                       title, Date/Time Creation, Author, and Hospital
                       Location.
  
             VIEWTIU = Return the text lines of a document from NOTELST.
  
    MDSID - Study internal Entry Number.
  
    MDTIU - TIU Document Internal Entry Number.
  
    MDDTE - Date/Time of Document Creation.
  
    MDAUTH - Author of document.
  
    MDESIG - Encrypted Electronic Signature.
  
    MDTXT - Text of the new document in an array.
  
  
 Return Results are the following:
  
 OPTION = NEWDOC
  
 > D RPC^MDRPCNT(.RESULTS,"NEWDOC",904,"",3050524.0915,679,74RHLld;flk,MDTXT)
  
 > D ^%G
  
 Global ^TMP("MDKUTL",$J
         TMP("MDKUTL",$J
 ^TMP("MDKUTL",538992716,0) = Note internal entry number   or -1^Error Message
   
 OPTION  = NOTELIST
          
 > D RPC^MDRPCNT(.RESULTS,"NOTELST",476)
  
 > D ^%G
  
 Global ^TMP("MDKUTL",$J
         TMP("MDKUTL",$J
 ^TMP("MDKUTL",538992716,1) = 968^PROCEDURE NOTE^OCT 10, 2001@17:08:36
 ^MDPROVIDER,ONE ^PROSTHETICS
 ^TMP("MDKUTL",538992716,2) = 969^PROCEDURE NOTE^OCT 10, 2001@17:10:44^^PROSTHET
I
 CS
 ^TMP("MDKUTL",538992716,3) = 970^PROCEDURE NOTE^OCT 10, 2001@17:11:50^^PROSTHET
I
 CS
 ^TMP("MDKUTL",538992716,4) = 971^PROCEDURE NOTE^OCT 10, 2001@17:15:45^^PROSTHET
I
 CS
 ^TMP("MDKUTL",538992716,5) = 972^PROCEDURE NOTE^OCT 10, 2001@17:16:34^^PROSTHET
I
 CS
 ^TMP("MDKUTL",538992716,6) = 974^PROCEDURE NOTE^OCT 11, 2001@10:56:03^^PROSTHET
I
 CS
 ^TMP("MDKUTL",538992716,7) = 975^PROCEDURE NOTE^OCT 11, 2001@12:50:29^^PROSTHET
I
 CS
 Global ^
  
 OPTION = VIEWTIU
                   
 > D RPC^MDRPCNT(.RESULTS,"VIEWTIU",476,968)
  
 > D ^%G
  
 Global ^TMP("TIUVIEW",$J
         TMP("TIUVIEW",$J
 ^TMP("TIUVIEW",538992716,1) =        TITLE: PROCEDURE NOTE                     
 
                      
 ^TMP("TIUVIEW",538992716,2) = DATE OF NOTE: OCT 10, 2001@17:08:36  ENTRY DATE: 
O
 CT 10, 2001@17:08:36      
 ^TMP("TIUVIEW",538992716,3) =       AUTHOR: MDPROVIDER,ONE   EXP COSIGNER:
                          
 ^TMP("TIUVIEW",538992716,4) =      URGENCY:                            STATUS: 
C
 OMPLETED                     
 ^TMP("TIUVIEW",538992716,5) = 
 ^TMP("TIUVIEW",538992716,6) = PROCEDURE SUMMARY CODE: Abnormal                 
 
     
 ^TMP("TIUVIEW",538992716,7) = DATE/TIME PERFORMED: OCT 15, 2001        
 ^TMP("TIUVIEW",538992716,8) = 
 ^TMP("TIUVIEW",538992716,9) =    *** PROCEDURE NOTE Has ADDENDA ***
 ^TMP("TIUVIEW",538992716,10) = 
 ^TMP("TIUVIEW",538992716,11) = Complete consult 1104. 6 attached images. 
 ^TMP("TIUVIEW",538992716,12) =  
 ^TMP("TIUVIEW",538992716,13) = /es/ MDPROVIDER,ONE
 ^TMP("TIUVIEW",538992716,14) = 
 ^TMP("TIUVIEW",538992716,15) = Signed: 10/15/2001 13:02
 ^TMP("TIUVIEW",538992716,16) = 
 ^TMP("TIUVIEW",538992716,17) = 10/15/2001 ADDENDUM                      STATUS:
 
 COMPLETED
 ^TMP("TIUVIEW",538992716,18) = aDDENDUM LA LA LA 
 ^TMP("TIUVIEW",538992716,19) = LA LA LA
 ^TMP("TIUVIEW",538992716,20) =  
 ^TMP("TIUVIEW",538992716,21) = /es/ MDPROVIDER,ONE
 ^TMP("TIUVIEW",538992716,22) = 
 ^TMP("TIUVIEW",538992716,23) = Signed: 10/15/2001 13:04
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  CLEAN^DILF

MD TMDCIDC - RPC^MDRPCW
 This RPC will do the following:
   Input Parameter: RESULTS - (Both Input/Output) Passed in as the array to
                               return the results.
                    OPTION  - (Input) PROC - obtain a list of Procedures
                                             defined for a clinic.
                                      DIAG - obtain a list of diagnosis
                                             defined for a clinic.
                                      SCDISP - Obtain the patient's service
                                               connection and rated disability.
                    DFN     - (Input) Patient internal entry number
                    MDSTUD   - (Input) CP Study internal entry number
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  > D RPC^MDRPCW(.RESULTS,"PROC",162,212)
 EXTERNAL ROUTINES:
  CLEAN^DILF

MD TMDLEX - LEX^MDRPCW1
 This RPC will return a list of CPT or ICD for a search typed in.
 PARAMETERS
  MDSRCH
   TYPE:REFERENCE
   This is the text typed in for the look-up.
  MDAPP
   TYPE:REFERENCE
   This is the application indicator.  It is either "CPT" or "ICD".
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP("MDLEX",$J,#)=P1 - CPT/ICD Code
 EXTERNAL ROUTINES:
  LOOK^LEXA,CONFIG^LEXSET,$$CPCONE^LEXU,$$CPTONE^LEXU,$$ICDONE^LEXU

MD TMDENCOUNTER - GETENC^MDRPCW1
 This remote procedure will return the existing data in an encounter.
 PARAMETERS
  STUDY
   TYPE:REFERENCE
   This is the CP Study internal entry number.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The result is returned in ^TMP("MDENC",$J) global.
 EXTERNAL ROUTINES:
  NOW^%DTC,$$GET1^DIQ,$$ICDDX^ICDCODE,$$CPT^ICPTCOD,CICNV^MDHL7U3,$$GETVSTR^MDRP
COT1,CPTLEX^MDRPCWU,$$GETENC^PXAPI,ENCEVENT^PXAPI,SCCOND^PXUTLSCC

MD TMDSUBMITU - RPC^MDRPCOWU
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

MAG DICOM CON GET TELE READER - GETREAD^MAGDTR06
 Return the sites and diagnostic specialties for the tele reader.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

MAG DICOM CON SET TELE READER - SETREAD^MAGDTR06
 This allows the user to select/deselect an item from his/her site
 and specialty list.
 PARAMETERS
  SELECT
   TYPE:LITERAL
   User selection preference - 1=select, 0=ignore
  IENPARAM
   TYPE:LITERAL
   Pointer to User Parameter file 2006.5843
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

MAG DICOM CON UNREAD ACQ SITES - GETSITES^MAGDTR06
 This RPC returns the list of acquisition sites that
 are defined for the reading site.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Three fields
 EXTERNAL ROUTINES:
  

MAG DICOM CON UNREADLIST GET - LOOKUP^MAGDTR05
 PARAMETERS
  ACQSITE
   TYPE:LITERAL
   ACQUISITION SITE
  SPECIALITY INDEX
   TYPE:LITERAL
   INDEX TO SPECIALTY (FILE 2006.84)
  PROCEDURE INDEX
   TYPE:LITERAL
   INDEX TO PROCEDURE (FILE 2006.85)
  TIMESTAMP
   TYPE:LITERAL
   DATE AND TIME OF LAST EVENT IN UNLIST LIST
  DUZ
   TYPE:LITERAL
   POINTER TO FILE 200 FOR THE READER
  READER SITE
   TYPE:LITERAL
   LOCATION OF THE READING SITE - POINTER TO FILE 4
  LOCKTIME
   TYPE:LITERAL
   AMOUNT OF TIME A READ LOCK CAN BE HELD BEFORE TIMING OUT.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PTSEC^DGSEC4,$$GET1^DIQ,$$UP^MAGDFCNV,$$ACQSITE^MAGDTR06,$$GETICN^MPIF001,DEM^
VADPT,$$FMDIFF^XLFDT

MAG DICOM CON UNREADLIST LOCK - LOCK^MAGDTR04
 PARAMETERS
  UNREAD LIST POINTER
   TYPE:LITERAL
   POINTER TO THE ENTRY IN THE UNREAD LIST (FILE 2006.5849)
  LOCK FLAG
   TYPE:LITERAL
   LOCK FLAG = 1 TO CREATE THE LOCK
  FULL NAME
   TYPE:LITERAL
   FULL NAME OF READER (LAST,FIRST FORMAT)
  NAME ABBREVIATION
   TYPE:LITERAL
   INITIALS FOR THE READER
  DUZ
   TYPE:LITERAL
   POINTER TO FILE 200 FOR THE READER
  READER SITE
   TYPE:LITERAL
   LOCATION OF THE READING SITE - POINTER TO FILE 4
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$TIMESTMP^MAGDTR02

MAGD CT PARAMS - RPCIN^MAGDCTP
 Returns history of Modality.dic settings for CT modalities for the site.
 PARAMETERS
  SITE
   TYPE:LITERAL
   Site code
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  List of CT settings in format:
 EXTERNAL ROUTINES:
  DT^DICRW

MAGD CR PARAMS - RPCIN^MAGDCRP
 Returns list of CR processing rules for Pixel Spacing calculations.
 PARAMETERS
  SITE
   TYPE:LITERAL
   Site code
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Site_Code|Manufacturer|Model|Software Version|Use Old Pixel Spacing?
 EXTERNAL ROUTINES:
  DT^DICRW

MAGQ VOK - VOKR^MAGQBUT4
 This procedure checks the 2nd line of the routine MAGQBUT4 for
 the latest version number.  It will return 1 if the version
 matches the input "version" parameter and 0 if there is no
 match.
 PARAMETERS
  Version
   TYPE:LITERAL
   This version number is expect to be the VistA Imaging major release number (x
.x)
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

CRHD SAVE TEMP FLD - TEMPDATA^CRHD2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$NOW^XLFDT,$$UP^XLFSTR

CRHD PAT DEMO - PATDEMO^CRHD
 Returns:
 NAME^SSN^DOB^AGE^SEX^ROOM/BED^TREATING_SPECIALTY^ATTENDING^
 PRIMARY_CARE_PROVIDER^WARD_LOCATION
 ADMISSION_DATE^DAY_WITHIN_ADMISSION^ADMISSION_DIAGNOSIS
 PARAMETERS
  STR
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  PATDEMO^CRHDUT2

CRHD PAT ALLERGIES - ALG^CRHD
 PARAMETERS
  STR
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ALG^CRHDUT

CRHD PAT ACTMEDS - ACTMED^CRHD
 PARAMETERS
  STR
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ACTMED^CRHDUT

CRHD PAT CODESTS - CODESTS^CRHD
 PARAMETERS
  STR
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  CODESTS^CRHD2

CRHD GET TEMP FLD - GTEMPTXT^CRHD3
 PARAMETERS
  FLDNAME
   TYPE:LITERAL
  USER
   TYPE:LITERAL
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

CRHD GET PAT LIST - GETPTLST^CRHD3
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$UP^XLFSTR

CRHD ALL USER PARAMETERS - GETALLP^CRHD4
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

CRHD GET ONE PARAMETER - GETONEP^CRHD4
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  USERDIV^CRHD5,LOOKUP^XPAREDIT

CRHD GET CONSULT - CONSULT^CRHDUT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  AGET^ORWORR

CRHD GET IMAGING - IMAGING^CRHDUT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  AGET^ORWORR

CRHD GET LABS - LABS^CRHDUT
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  AGET^ORWORR

CRHD SAVE PARAMETERS - SAVEPARM^CRHD4
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

CRHD LIST SERVICES - SRV^CRHD5
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

CRHD LIST DIVISIONS - DIV^CRHD5
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,DIV4^XUSER

CRHD SAVE DNR TITLES - SAVEP^CRHD6
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DELALL^CRHD5,SET^CRHD5,GETLST^XPAR

CRHD GET DNR TITLES - GETDNRT^CRHD4
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DNRPARM^CRHDDNR

CRHD ADDITIONAL USER INFO - AUSRINFO^CRHDUT2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$GET^XPAR

CRHD GET PREFERENCES - GETP^CRHD6
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GET^CRHD5,USERDIV^CRHD5,DNRPARM^CRHDDR,$$GET^XPAR,GETLST^XPAR,LOOKUP^XPAREDIT

CRHD GET TEAM PHONE NUMBERS - TEAMMEM^CRHD7
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DISP^CRHDUD,TEAMPROV^ORQPTQ1,$$GET^XPAR

CRHD USER PHONE INFO - DISPEMP^CRHDUD
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

CRHD IS RECORD LOCKED - LOCK^CRHD2
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$UP^XLFSTR

CRHD MGR - MGR^CRHD7
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$FIND1^DIC,GETS^DIQ

CRHD SERVICE INFO - SRV^CRHDUD
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACTIVE^XUSER

CRHD SPECIALTY INFO - SPEC^CRHDUD
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$ACTIVE^XUSER

CRHD SORT PRINT LIST - SORT^CRHD8
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  PATDEMO^CRHDUT2

CRHD GET USER DIVISIONS - USERDIV^CRHD5
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  DIV4^XUSER

CRHD HOT TEAM LIST - HOLIST^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DT^XLFDT

CRHD HOT PATIENT LIST - HOPLIST^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIE,IN5^VADPT

CRHD HOT PROVIDER LIST - HODLIST^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIE,$$GET1^DIQ,$$ACTIVE^XUSER

CRHD HOT CAN EDIT - CANEDIT^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  HOTMMGR^CRHD1,$$GET1^DIQ

CRHD HOT MODIFY LIST - MOD^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UPDATE^DIE

CRHD HOT PRV INFO - PRVINFO^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MGR^CRHD7,$$GET1^DIQ

CRHD HOT TEAM SAVE - HOTMSAVE^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UPDATE^DIE

CRHD HOT DELETE TEAM LIST - HOTMDEL^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DIK

CRHD HOT PATPRV - PATPRV^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ

CRHD HOT DELETE PAT/PRV - DELENTS^CRHD1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DIK

CRHD HOT PROVIDER LIST2 - HOTMMEM^CRHD1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  HODLIST^CRHD9

CRHD HOT PROVIDER BY CLASS - HOTMMEMS^CRHD1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

CRHD HOT PROVIDER PATIENTS - HOTPRVPT^CRHD1
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  HOPLIST^CRHD9

CRHD USER PHONE NUMBERS - USERPHPG^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ

CRHD HOT TEAM PHONE INFO - HOTEAM^CRHDUD
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

CRHD SAVE XPAR PARAMETERS - SAVEP2^CRHD6
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DELALL^CRHD5,SET^CRHD5,GETLST^XPAR

CRHD GET XPAR VALUES - GETPAR2^CRHD6
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR

CRHD MOD TM PROVIDERS - TMMOD^CRHD10
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UPDATE^DIE

CRHD TM PRV LIST - TMLIST^CRHD10
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

CRHD TM PRV INFO - TMPRVINF^CRHD10
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ

CRHD GET USER PARAMETERS - GETIT^CRHD11
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

CRHD AVAILABLE PARAMETERS - GETALLPL^CRHD11
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  MGR^CRHD7,$$GET1^DIQ,TEAMS^ORWTPT,$$SITE^VASITE,LOOKUP^XPAREDIT

CRHD DEFAULT PREFERENCE - DEFPREF^CRHD11
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$GET^XPAR,NDEL^XPAR

CRHD GET ORDERABLE ITEMS - LORDITM^CRHDDR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DT^XLFDT

CRHD DELETE A PREFERENCE - DELPREF^CRHD5
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DELALL^CRHD5,GETLST^XPAR

CRHD COMB TM LIST - TMCOMB^CRHD10
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ

CRHD INPT LIST - LISTINPT^CRHD3
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

CRHD HOT TEAM MGR - HOTMMGR^CRHD1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$FIND1^DIC,GETS^DIQ

CRHD GET TEAM FILENAME - FILENGET^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$FIND1^DIC,$$GET1^DIQ

CRHD SAVE TEAM FILENAME - FILENSAV^CRHD9
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^DIE,UPDATE^DIE

MAG3 TIU NEW - NEW^MAGGNTI1
 RPC Call to create a New Note 
   and Optionally :  
            Electronically Sign the Note.
            Administratively Close the Note.
            Add Text to the Note.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   DFN of the Patient.
  MAGTITLE
   TYPE:LITERAL
   IEN of TIU DOCUMENT DEFINITION entry in file 
  MAGADCL
   TYPE:LITERAL
     1 = Mark this Note as Administratively Closed
  MAGMODE
   TYPE:LITERAL
   Mode of Admin Closure:
  MAGES
   TYPE:LITERAL
    The encrypted Electronic Signature
  MAGESBY
   TYPE:LITERAL
    The DUZ of the Signer (Defaults to DUZ)
  MAGLOC
   TYPE:LITERAL
   IEN in Hospital Location File #44, Global 
  MAGTEXT
   TYPE:LIST
   Array of Text to add to the New Note.
  MAGDATE
   TYPE:LITERAL
   Date of the Note. For New Notes.
  MAGCNSLT
   TYPE:LITERAL
   DA of Consult to Link this note to.
 RETURN VALUE
  TYPE: SINGLE VALUE
  If success : result = "1^Note was created."
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$VALDATA^MAGGNTI2,$$VALES^MAGGNTI2,ADMNCLOS^MAGGNTI2,SIGN^MAGGNTI3
,$$VALID^MAGGSIV1,ISCNSLT^TIUCNSLT,$$CANENTR^TIULP,MAKE^TIUSRVP,MAKEADD^TIUSRVP,
UPDATE^TIUSRVP,$$NOW^XLFDT

MAG3 TIU LONG LIST OF TITLES - LIST^MAGGNTI2
 For the Document Class that is input,
  get a list of Progress Note titles
 PARAMETERS
  CLASS
   TYPE:LITERAL
   "," Delimited list of Classes to get the list of Note Titles for.
  MYLIST
   TYPE:LITERAL
   If '1', then return list of 'Users' TIU Titles.
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of Note Titles for the class.
 EXTERNAL ROUTINES:
  CPCLASS^TIUCP,CNSLCLAS^TIUSRVD,LONGLIST^TIUSRVD,PERSLIST^TIUSRVD,SURGCLAS^TIUS
RVD

MAG3 TIU CREATE ADDENDUM - NEWADD^MAGGNTI1
 Creates a TIU Addendum to a document.
   RPC call to create an Addendum to a Note
   and Optionally :  
            Electronically Sign the Addendum
            Administratively Close the Addendum
            Add Text to the Addendum
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   DFN of the Patient.
  MAGTIUDA
   TYPE:LITERAL
   This is the IEN of the Note in file 
  MAGADCL
   TYPE:LITERAL
    1 = Mark this Note as Administratively Closed
  MAGMODE
   TYPE:LITERAL
   Mode of Admin Closure:
  MAGES
   TYPE:LITERAL
   The encrypted Electronic Signature
  MAGESBY
   TYPE:LITERAL
    The DUZ of the Signer (Defaults to DUZ)
  MAGTEXT
   TYPE:LIST
   Array of Text to add to the New Note.
  MAGDATE
   TYPE:LITERAL
   The Date of the New TIU Note/Addendum
 RETURN VALUE
  TYPE: SINGLE VALUE
  If success :
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$VALDATA^MAGGNTI2,ADMNCLOS^MAGGNTI2,SIGN^MAGGNTI3,$$VALID^MAGGSIV1
,MAKEADD^TIUSRVP,UPDATE^TIUSRVP

MAG3 TIU SIGN RECORD - SIGN^MAGGNTI1
 Calls TIU API : SIGN^TIUSRVP
 If the call succeeds the Note will be changed to 'completed'
 If the call fails, the Note status will not be changed.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   Patient DFN
  MAGTIUDA
   TYPE:LITERAL
   The TIU Document IEN from File 
  MAGES
   TYPE:LITERAL
   The users encrypted Electronic Signature.
  MAGESBY
   TYPE:LITERAL
   The DUZ of the Signer (defaults to Partition Variable: DUZ)
 RETURN VALUE
  TYPE: SINGLE VALUE
  If success the result is:  "1^Success: Note has been Signed."
 EXTERNAL ROUTINES:
  SIGN^MAGGNTI3

MAG3 TIU MODIFY NOTE - MOD^MAGGNTI1
 Modify an Existing Note. 
 Change it's status from unsigned to administrative closure
 or to signed.
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   DFN of the Patient.
  MAGTIUDA
   TYPE:LITERAL
   This is the IEN of the Note in file 
  MAGADCL
   TYPE:LITERAL
    1 = Mark this Note as Administratively Closed
  MAGMODE
   TYPE:LITERAL
   Mode of Admin Closure:
  MAGES
   TYPE:LITERAL
   The encrypted Electronic Signature
  MAGESBY
   TYPE:LITERAL
    The DUZ of the Signer (Defaults to DUZ)
  MAGTEXT
   TYPE:LIST
   Array of Text to add to the Note.
 RETURN VALUE
  TYPE: SINGLE VALUE
  If success :
 EXTERNAL ROUTINES:
  MOD^MAGGNTI3

MAG4 VERSION STATUS - VERSTAT^MAGGTU4
 RPC to evaluate the status of an Imaging Version.
 PARAMETERS
  MAGVER
   TYPE:LITERAL
   The Imaging Version to be checked.  In the format
 RETURN VALUE
  TYPE: SINGLE VALUE
  String
 EXTERNAL ROUTINES:
  $$FIND1^DIC,$$GET1^DIQ

MAGG IS DOC CLASS - ISDOCCL^MAGGNTI
 Checks to see if IEN of TIU Files 8925 or 8925.1 is of a certain Doc Class
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number in the TIUFILE
  TIUFILE
   TYPE:LITERAL
    IS - 8925   if we need to see if a Note is of a Document Class
  CLASS
   TYPE:LITERAL
   Text Name of the Document Class   example: "ADVANCE DIRECTIVE"
 RETURN VALUE
  TYPE: SINGLE VALUE
  MAGRY= Return String  
 EXTERNAL ROUTINES:
  FIND^DIC,$$GET1^DIQ,$$ISA^TIULX

DSIR GET SELECTION ITEMS - GETSELS^DSIROIAH
 THIS ROUTINE PROVIDES THE DATA FOR POPULATING ALL THE DROP DOWN COMBO AND
 LIST BOXES WITH FIELD NAMES FOR THE AD HOC REPORTING SCREEN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
   ARRAY:
 EXTERNAL ROUTINES:
  

DSIR GET AD HOC REPORT - GETRPT^DSIROIAH
 Returns all of the definition parameters for a selected report. 
 PARAMETERS
  RPT
   TYPE:LITERAL
   THIS IS REPORT IEN YOU WANT TO RETRIEVE.
 RETURN VALUE
  TYPE: ARRAY
   ;Return Value
 EXTERNAL ROUTINES:
  

DSIR GET REPORT LIST - RPTLIST^DSIROIAH
 RETURNS A LIST OR REPORT NAMES AND THEIR IENS OR A SINGLE REPORT AND IT'S 
 IEN IF A REPORT NAME IS PASSED IN THE OPTIONAL PARAMETER.
 PARAMETERS
  RNAME
   TYPE:LITERAL
   RNAME - (OPTIONAL) REPORT NAME FOR A SPECIFIC REPORT
 RETURN VALUE
  TYPE: ARRAY
   ;RETURN VALUE - ARRAY
 EXTERNAL ROUTINES:
  

DSIR GET AD HOC DATA - RPTDATA^DSIROIA2
 GET DATA FOR AN AD HOC REPORT
 PARAMETERS
  INARRAY
   TYPE:LIST
   Input Parameter(s) - ARRAY AS FOLLOWS:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Value
 EXTERNAL ROUTINES:
  

DSIR GET REQUESTORS - GTREQSTR^DSIROI3
 THIS RPC WILL RETURN ALL REQUESTORS THAT MEET ONE OF THE FOLLOWING 
 CRITERIA:
  
 THE REQUESTORS LAST NAME STARTS WITH THE CHARACTERS IN THE FIRST INPUT 
 PARAMETER AND THE SECOND PARAMETER IS AN "L"
  
 OR 
  
 THE REQUESTORS CORPORATE NAME STARTS WITH THE CHARACTERS IN THE FIRST
 INPUT PARAMETER AND THE SECOND PARAMETER IS A "C"L"
 PARAMETERS
  PREF
   TYPE:LITERAL
   PREF - FIRST PART OF THE REQUESTOR NAME(S) BEING SEARCHED FOR
  STYP
   TYPE:LITERAL
   STYP - "L" - USE THE "AC" INDEX FOR LAST NAME  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RETURNS:
 EXTERNAL ROUTINES:
  

DSIC XPAR CHG WP - CHGWP^DSICXPR
 This will change an instance of a System Parameter that is of the Word 
 Processing type.
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA - required - p1~p2~p3
  ARRAY
   TYPE:LIST
   This is an array of the text to be stored in the parameter.
 RETURN VALUE
  TYPE: ARRAY
  RET(0) = Code^Description     where
 EXTERNAL ROUTINES:
  

DSIC XPD INSTALL LIST - INSLIST^DSICXPDU
 This will return a list of all the entries in the INSTALL file.  You pass 
 in either a KIDS Build name or the name portion of the Build name (a 
 Build name without the version number or patch number).  All Installs 
 matching that name will be returned in reverse chronological order (the 
 newest first).
 PARAMETERS
  DSIKID
   TYPE:LITERAL
   This value will be used to do a Fileman lookup on the INSTALL file .01 
  DSIALL
   TYPE:LITERAL
   This parameter will only be used if the DSIKID input value is a patch 
  DSISTAT
   TYPE:LITERAL
   This is a string of numbers which can be 0,1,2,3,4
 RETURN VALUE
  TYPE: ARRAY
  Return List[n] := p1^p2^p3  for n=1,2,3,4,...  where
 EXTERNAL ROUTINES:
  

DSIC FM PULL LIST - PULL^DSICFM
 Returns values to populate a list box of choices for a field that is
 SET OF CODES or POINTER or VARIABLE POINTER type.
 VARIABLE POINTER.
 PARAMETERS
  FILE
   TYPE:LITERAL
   File or subfile number (canonic).
  FIELD
   TYPE:LITERAL
   Field number (canonic) of field for which choices are desired.
  START
   TYPE:LITERAL
   This parameter is optional and applies only to POINTER and VARIABLE
  MAX
   TYPE:LITERAL
   The maximum number of values to return.  The default is 200.
  MASK
   TYPE:LITERAL
   An optional mask that constrains the values to be returned.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Global array of values in the format IEN^NAME[^FILE], where the
 EXTERNAL ROUTINES:
  

DSIC XPAR ADD WP - ADDWP^DSICXPR
 This RPC will allow the addition of a new Word-processing type system 
 parameter.
 PARAMETERS
  DATA
   TYPE:LITERAL
   DATA - required - p1~p2~p3
  ARRAY
   TYPE:LIST
   Array of text to add to the parameter where:
 RETURN VALUE
  TYPE: SINGLE VALUE
  RET= Code^Description
 EXTERNAL ROUTINES:
  

DENTV TP CODE CHECKS - CK^DENTVCK
 Processes coding compliance checks for ADA codes entered by the user.  
 PARAMETERS
  DFN
   TYPE:LITERAL
   Contains patient dfn.
  ECODE
   TYPE:LITERAL
   Contains the internal, or external ADA Code (e.g. 100268, or D0120) 
  VISDT
   TYPE:LITERAL
   Contains the visit date to be used to look back for codes.  A visit 
  PROV
   TYPE:LITERAL
   Contains the provider (DUZ) to be used to check compliance.
  DATA
   TYPE:LIST
   Contains an array of the current session's completed procedures as 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns 0^OK or -1^W:flag:Warning message
 EXTERNAL ROUTINES:
  

DENTV UPDATE PCE - UPD^DENTVTPE
 Deletes procedures, diagnosis and providers from PCE when users delete 
 transactions from DRM Plus.
 PARAMETERS
  DATA
   TYPE:LIST
   Contains a list of transaction ids deleted from DRM Plus in the format:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns array -1^error or list of visits that were updated:
 EXTERNAL ROUTINES:
  

DENTV UPDATE PCE DX - UDX^DENTVTPF
 Updates the PCE Visit to set the Primary Diagnosis and/or Primary 
 Provider if they are no longer defined because of deleting procedures.
 PARAMETERS
  DATA
   TYPE:LIST
   Contains a list with the PCE Visit and Primary Dx and/or Provider defined:
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns 0^OK or -1^error
 EXTERNAL ROUTINES:
  

DSIC USER ID - ID^DSICDUZ
 For a given user DUZ value, return all IDs for that individual.  These 
 IDs include SSN, NPI, and the local alternate identifiers if they exist.
 PARAMETERS
  VDUZ
   TYPE:LITERAL
   This is the user's internal entry number (DUZ) number from file 200
  FLAGS
   TYPE:LITERAL
   A string of characters indicating which identifiers you want returned.  
 RETURN VALUE
  TYPE: ARRAY
  If errors, return DSIC(1)=-1^message
 EXTERNAL ROUTINES:
  

DSIC FM MULTIPLE FILER - MFILE^DSICFM
 Calls DSIC FM FILER remote procedure code as often as necessary
 to process multiple file or subfile x IENS combinations.
 PARAMETERS
  INPUT
   TYPE:LIST
    ;         LIST[#] = p1
 RETURN VALUE
  TYPE: ARRAY
  RESULT -     return array where
 EXTERNAL ROUTINES:
  

TIU IS USER A USR PROVIDER - USRPROV^TIUSRVP1
 This Boolean RPC returns TRUE if the user was a member of USR CLASS 
 PROVIDER on the date specified.
 PARAMETERS
  USER
   TYPE:LITERAL
   This is the IEN of the user in the NEW PERSON FILE 200.  If no user is 
  DATE
   TYPE:LITERAL
   This is the date in internal FILEMAN format for which the user's 
 RETURN VALUE
  TYPE: SINGLE VALUE
  TRUE is returned if user is an active member of USR CLASS PROVIDER on 
 EXTERNAL ROUTINES:
  $$ISA^USRLM

ORWDX2 DCREASON - DCREASON^ORWDX2
 RPC to return a list of valid discontinuation reasons.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWDX1 DCORIG - DCORIG^ORWDX1
 PARAMETERS
  ORIEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDX1 UNDCORIG - UNDCORIG^ORWDX1
 PARAMETERS
  ORYARR
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORCDLR2 CHECK ONE LC TO WC - KIDS^ORCDLR2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^%DT,$$IMMCOLL^ORCDLR1,$$LABCOLL^ORCDLR1,GETIMES^ORCDLR1,AM^ORCSAVE2,NEXT^ORCS
AVE2,$$VALUE^ORX8

ORCDLR2 CHECK ALL LC TO WC - GUI^ORCDLR2
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORALWORD ALLWORD - ALLWORD^ORALWORD
 PARAMETERS
  DFN
   TYPE:LITERAL
  OROI
   TYPE:LITERAL
  ORX
   TYPE:LITERAL
  ORTYPE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DATE^ORU,$$DEA^XUSER,$$CL^YSCLTST2,$$OVERRIDE^YSCLTST2

ORWDX1 ORDMATCH - ORDMATCH^ORWDX1
 This RPC will accept a list of orders and each order status, if one of 
 the order does not have a status it will return a false value.
 PARAMETERS
  DFN
   TYPE:LITERAL
  ORYARR
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXVB SUBCHK - SUBCHK^ORWDXVB
 Check to see if selected test is a Blood Component or a Diagnostic Test.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORDDPAPI ADMTIME - ADMTIME^ORDDPAPI
 PARAMETERS
 RETURN VALUE
  TYPE: WORD PROCESSING
  Returns the text of the OR ADMIN TIME HELP TEXT parameter.
 EXTERNAL ROUTINES:
  GETWP^XPAR

ORWU PARAMS - PARAMS^ORWU
 Simple call to return a list of parameter values such as:
  
         INST1^VALUE1
         INST2^VALUE2
         ...
         INSTN^VALUEN
  
 The call assumes the current user, 'defaultable' entities and multiple 
 instances.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWDPS1 DOWSCH - DOWSCH^ORWDPS1
 This RPC returns a list of schedule that have a frequency defined and the 
 frequency is less then or equal to 1440 minutes
 PARAMETERS
  DFN
   TYPE:LITERAL
  LOCIEN
   TYPE:LITERAL
   This is the Location IEN from file 44
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$WARDIEN^ORWDPS32,SCHED^PSS51P1,ZERO^PSS51P1

ORDDPAPI CLOZMSG - CLOZMSG^ORDDPAPI
 PARAMETERS
 RETURN VALUE
  TYPE: WORD PROCESSING
  Returns the text of the OR CLOZ INPT MSG parameter used to display to the 
 EXTERNAL ROUTINES:
  GETWP^XPAR

ORWDPS33 COMPLOC - COMPLOC^ORWDPS33
 This RPC will return a 0 if the patient location is the same location as 
 the original order. It will return a 1 if the location is different.
 PARAMETERS
  ORID
   TYPE:LITERAL
   This is the IEN of the original order from file 100
  LOC
   TYPE:LITERAL
   This is the encounter location the order is being written for.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWGRPC FASTITEM - FASTITEM^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  FASTITEM^ORWGAPI

ORWGRPC FASTDATA - FASTDATA^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  FASTDATA^ORWGAPI

ORWGRPC FASTTASK - FASTTASK^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FASTTASK^ORWGAPI

ORWGRPC FASTLABS - FASTLABS^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  FASTLABS^ORWGAPI

ORWDPS1 QOMEDALT - QOMEDALT^ORWDPS1
 PARAMETERS
  ODIEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ

ORWGRPC ALLVIEWS - ALLVIEWS^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ALLVIEWS^ORWGAPI

ORWGRPC TESTING - TESTING^ORWGRPC
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  TESTING^ORWGAPI

ORQQPXRM MHDLL - MHDLL^ORQQPXRM
 PARAMETERS
  DFN
   TYPE:LITERAL
  INPUTS
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  MHDLL^PXRMDRSG,$$GET^XPAR,$$PATCH^XPDUTL

ORWDLR33 LC TO WC - LCTOWC^ORWDLR33
 PARAMETERS
  LOCATION
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWU2 COSIGNER - COSIGNER^ORWU2
 Returns a set of New Person file entries for use in a long list box.
 The set is limited to USR PROVIDERS who do not require cosignature.
 PARAMETERS
  ORDATE
   TYPE:LITERAL
   Fileman date that the user will be required to be active on. (optional)
  ORDIR
   TYPE:LITERAL
   Direction to move through the #200 x-ref with $O.
  ORFROM
   TYPE:LITERAL
   Starting name for this set.
  ORTIUTYP
   TYPE:LITERAL
   is + of the 0 node of the 8925 docmt
  ORTIUDA
   TYPE:LITERAL
   This is the record # of the TIU Document in file 8925.
 RETURN VALUE
  TYPE: ARRAY
  ORY is a an array or list to user names 
 EXTERNAL ROUTINES:
  $$ISA^USRLM,$$ALL^VASITE,$$PROVIDER^XUSER

ORWDXVB NURSADMN - NURSADMN^ORWDXVB
 This procedure checks the parameter OR VBECS SUPPRESS NURS ADMIN to see
 if the Nursing Administration Order prompt/pop-up should be supressed
 after a VBECS Blood Bank order has been created.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORQQPXRM MHDLLDMS - MHDLLDMS^ORQQPXRM
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  This RPC returns a value to determine if the MH dll is missing from the 
 EXTERNAL ROUTINES:
  $$GET^XPAR,$$PATCH^XPDUTL

ORWDPS32 ALLIVRTE - ALLIVRTE^ORWDPS32
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ALL^PSS51P2

ORWDPS33 IVDOSFRM - IVDOSFRM^ORWDPS33
 PARAMETERS
  ORDERIDS
   TYPE:LIST
  DEFAULTS
   TYPE:LITERAL
  ALLIV
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  START1^PSSJORDF

ORWDXM1 SVRPC - SVRPC^ORWDXM1
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXVB VBTNS - VBTNS^ORWDXVB
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

DSIR GET FULL STATUS TYPES - GETSTDSP^DSIROI6
 THIS RPC RETURNS THE CONTENTS OF THE STATUS CODE FILE (^DSIR(19620.41))
 PARAMETERS
  ACT
   TYPE:LITERAL
   ACT - INDICATED IF A STATUS IS ACTIVE (1) OR INACTIVE (0).
 RETURN VALUE
  TYPE: ARRAY
  RETURN ARRAY
 EXTERNAL ROUTINES:
  

DSIR RPT EXPEDITED PROCESSING - EXPRPT^DSIROIR
 THIS CALL PROVIDES DATA FOR THE EXPEDITED PROCESSING REPORT IN ROI
 PARAMETERS
  FRDT
   TYPE:LITERAL
   FRDT - From Date - FileMan Format - No time
  TODT
   TYPE:LITERAL
   TODT To Date - FileMan Format - No time
  DIV
   TYPE:LITERAL
   DIV - Division number/Location number - defaults to DUZ(2)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   Return Array ^ delimited
 EXTERNAL ROUTINES:
  

DSIR UPDATE FEE WAIVER - UPDATEFW^DSIRBIL0
 PARAMETERS
  IEN
   TYPE:LITERAL
   IEN FROM 19620 (ROI INSTANCE FILE)
  FWCLERK
   TYPE:LITERAL
   ID FROM FILE 200 (NEW PERSON FILE)
  FWRQST
   TYPE:LITERAL
   FEE WAIVER REQUESTED 0=TRUE, 1=FALSE
  FWRQSTDT
   TYPE:LITERAL
   FEE WAIVER REQUESTED DATE
  FWADJ
   TYPE:LITERAL
   FEE WAIVER ADJUDICATED 0=TRUE, 1=FALSE
  FWGRANT
   TYPE:LITERAL
   FEE WAIVER GRANTED 0=TRUE, 1=FALSE
  FWADJDT
   TYPE:LITERAL
   FEE WAIVER ADJUDICATED DATE
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

WII ADT - EN^WIIADT1
 This remote procedure is run ONLY at the central collection point.
 It generates a list of all admissions and discharges that have been
 transferred to the main collection point.  The RPC allows the user to
 select all entries that have not been sent to DEFAS or regenerate the list
 by a date.  Data is extracted from the WII ADT ALL SITES FILE (#987.7).
 PARAMETERS
  DATE
   TYPE:WORD PROCESSING
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  NOW^%DTC

PSB MAN SCAN FAILURE - SCANFAIL^PSBVDLU3
 SCANFAIL(RESULTS,PSBPARAM)      ;  TEJ 05/12/2006  BCMA-Managing Scanning Failu
res (MSF)
         ;       Process Scanning Failures
         ;               Parameters:
         ;               Input (via GUI):
         ;        Per Wristband  (0)      -       Pat IEN ^ ^ Failure Reason ^ U
ser's Comment ^ "W" ^-1 (keyed)
         ;                                       
         ;        Per Medication
         ;                       (0)      -       Pat IEN ^ Order Number ^ Failu
re Reason ^ User's Comment ^ "M" ^-1 (keyed)
         ;                       (1)      -       tag^ unique identifier
         ;
         ;          (example)    (1)      -       ADD^IEN of FAILED item
         ;                       
         ;               Output:
         ;                 Entry into database ^PSB(53.89)
         ;                 Electronic Mail - Message Data per Scan Failure
         ;                 
         ;                 RESULTS(0)=1
         ;                 RESULTS(1)= 1 (Success) or -1 (Nonsuccess)
         ;
 PARAMETERS
  PSBPARAM
   TYPE:LIST
   Data to initiate scanning failure process.  Input: Only
 RETURN VALUE
  TYPE: ARRAY
  RESULTS(0)=1
 EXTERNAL ROUTINES:
  DD^%DT,NOW^%DTC,CLEAN^DILF,$$GET1^DIQ,MSFMSG^PSBMLU

VBECS PATIENT LOOKUP - SEARCH^VBECLU
 This RPC returns XML containing a list of patient demographic data for 
 the purpose of inserting a new patient in the VBECS database for 
 when receiving an autologous or directed unit on a patient that is not 
 already defined in the VBECS Patient table.
  
 XML Mapping:
 count attribute =       Number of records found
 Number element =        Sequence number of records found
 VistaPatientId =        PATIENT file (#2) / NUMBER field (#.001)
 PatientLastName =       PATIENT file (#2) / first comma delimited piece 
                         of the NAME field (#.01)
 PatientFirstName =      PATIENT file (#2) / second comma delimited piece 
                         and first "space" delimited piece of the NAME
                         field (#.01)
 PatientMiddleName =     PATIENT file (#2) / second comma delimited piece
                         and second "space" delimited piece of the NAME
                         field (#.01)
 Sensitive =             DG SECURITY LOG file (#38.1) / SECURITY LEVEL 
                         field (#2)
 PatientDOB =            PATIENT file (#2) / DATE OF BIRTH field (#.03) in 
                         HL7 format
 PatientDOBCode =        Code derived from a missing day or month value in 
                         PatientDOB.
                         B = Both Day and Month is unknown.
                         M = Month is unknown.
                         D = Day is unknown
                         V = valid Day/Month/Year
 PatientSSN =            PATIENT file (#2) / SOCIAL SECURITY NUMBER field 
                         (#.09)
 PatientDeathDate =      PATIENT file (#2) / DATE OF DEATH field (#.351)
 Type =                  TYPE OF PATIENT file (#391) / NAME field (#.01)
 PrimaryEligibility =    MAS ELIGIBILITY CODE file (#8.1) / PRINT NAME 
                         field (#5)
 ServiceConnected =      PATIENT file (#2) / SERVICE CONNECTED? field 
                         (#.301)
 ScPercent =             PATIENT file (#2) / SERVICE CONNECTED PERCENTAGE 
                         field (#.302)
 PatientSexCode =        PATIENT file (#2) / SEX field (#.02)
 PatientICN =            PATIENT file (#2) / INTEGRATION CONTROL NUMBER 
                         field (#991.01)
 Veteran =               PATIENT file (#2) / VETERAN (Y/N)? field (#1901)
 PatientLocation =       PATIENT file (#2) / WARD LOCATION field (#.1)
 PatientRoomBed =        PATIENT file (#2) / ROOM-BED field (#.101)
  
  
 XML Example:
 <record count='1'>
     <Patient>
         <Number>1</Number>
         <VistaPatientID>1000</VistaPatientID>
         <PatientLastName>VBECSpatient</PatientLastName>
         <PatientFirstName>One</PatientFirstName>
         <PatientMiddleName>T</PatientMiddleName>
         <Sensitive>false</Sensitive>
         <PatientDOB>19291120</PatientDOB>
         <PatientDOBCode>V</PatientDOBCode>
         <PatientSSN>666000000</PatientSSN>
         <Type>SC VETERAN</Type>
         <PrimaryEligibility>SC, 50% TO 100%</PrimaryEligibility>
         <ServiceConnected>true</ServiceConnected>
         <ScPercent>50</ScPercent>
         <PatientSexCode>M</PatientSexCode>
         <PatientICN>1000000000V000000</PatientICN>
         <Veteran>true</Veteran>
         <PatientLocation></PatientLocation>
         <PatientRoomBed></PatientRoomBed>
     </Patient>
 </record>
 PARAMETERS
  PARAM
   TYPE:LITERAL
   Input PARAM("SEARCH TYPE") = type of search requested
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DT^DICRW,^DIM,BYFILTER^VBECLU0,$$UP^XLFSTR

VBECS HOSPITAL LOCATION LOOKUP - LOC^VBECRPCD
 This RPC returns XML containing a list of Hospital Locations from the 
 HOSPITAL LOCATION file (#44) of either Ward or Clinic Type for use in 
 VBECS when issuing units to a location other than the Blood Bank.
  
 XML Mapping:
 LocationName element = HOSPITAL LOCATION file (#44) / NAME field (#.01)
 LocationIEN element =  HOSPITAL LOCATION file (#44) / NUMBER field (#.001)
 LocationType element = HOSPITAL LOCATION file (#44) / TYPE field (#2)
  
 XML Example:
 <HospitalLocations>
     <Location>
         <LocationName>6W REHAB-KC</LocationName>
         <LocationIEN>503</LocationIEN>
         <LocationType>W</LocationType>
     </Location>
     <Location>
         <LocationName>7E PCUS-KC</LocationName>
         <LocationIEN>504</LocationIEN>
         <LocationType>W</LocationType>
     </Location>
     <Location>
         <LocationName>KC-GI RESEARCH</LocationName>
         <LocationIEN>511</LocationIEN>
         <LocationType>C</LocationType>
     </Location>
 </HospitalLocations>
 PARAMETERS
  DIV
   TYPE:LITERAL
   Input DIV = DIVISION Name
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document with a list of Hospital Location found based on input value
 EXTERNAL ROUTINES:
  ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC

VBECS PROVIDER LOOKUP - PROVIDER^VBECRPCE
 This RPC returns XML containing a list of physicians in the NEW PERSON 
 file (#200) that hold the PROVIDER Security Key and do not have a 
 TERMINATION DATE value prior to the current date, and has a matching 
 division from the DIV input parameter whose last name starts with the 
 DATA input parameter.
  
 XML Mapping:
 count attribute =       Number of records found
 ProviderIEN element =   NEW PERSON file (#200) / NUMBER field (#.001)
 ProviderName element =  NEW PERSON file (#200) / NAME field (#.01)
  
 XML Example:
 <Providers>
     <Record count='5'>
         <Provider>
             <ProviderIEN>7650</ProviderIEN>
             <ProviderName>VBECSprovider,One</ProviderName>
         </Provider>
         <Provider>
             <ProviderIEN>53304</ProviderIEN>
             <ProviderName>VBECSprovider,Two</ProviderName>
         </Provider>
         <Provider>
             <ProviderIEN>14909</ProviderIEN>
             <ProviderName>VBECSprovider,Three</ProviderName>
         </Provider>
         <Provider>
             <ProviderIEN>8190</ProviderIEN>
             <ProviderName>VBECSprovider,Four</ProviderName>
         </Provider>
         <Provider>
             <ProviderIEN>10574</ProviderIEN>
             <ProviderName>VBECSprovider,Five</ProviderName>
         </Provider>
     </Record>
 </Providers>
 PARAMETERS
  DIV
   TYPE:LITERAL
   Input DIV = DIVISION (Station Number)
  DATA
   TYPE:LITERAL
   Input DATA = Name of provider used to perform search in file 200.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document with a list of users from the New Person file #200 that hold
 EXTERNAL ROUTINES:
  $$FIND1^DIC,ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC,ERROR^VBECRPC

VBECS LABORATORY TEST LOOKUP - LABTEST^VBECRPCA
 This RPC returns XML containing a list of Laboratory tests from the 
 LABORATORY TEST file (#60).
  
 XML Mapping:
 Name element =          LABORATORY TEST file (#60) / NAME field (#.01)
 IEN element =           LABORATORY TEST file (#60) / NUMBER field (#.001)
 Specimen element =      LABORATORY TEST file (#60) / SITE/SPECIMEN 
                         sub-file (#60.01) / SITE/SPECIMEN field (#.01)
                         pointer to TOPOGRAPHY FIELD FILE (#61)
  
 XML Example:
 <LabTests>
     <LabTest>
         <Name>HEMATOCRIT - BODY FLUID-KC</Name>
         <IEN>1125</IEN>
         <Specimen>BODY FLUID,NOS</Specimen>
     </LabTest>
     <LabTest>
         <Name>HCT i-STAT</Name>
         <IEN>5742</IEN>
         <Specimen>BLOOD</Specimen>
     </LabTest>
     <LabTest>
         <Name>HCT(BLOOD GAS)</Name>
         <IEN>2244</IEN>
         <Specimen>ARTERIAL BLOOD</Specimen>
     </LabTest>
 </LabTests>
 PARAMETERS
  DATA
   TYPE:LITERAL
   The DATA input parameter represents a Lab Test name used to search for potent
ial matches in file 60.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document with a list of Laboratory Tests and associated Lab test data base
d on the search input parameter.
 EXTERNAL ROUTINES:
  FIND^DIC,ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC,$$CHARCHK^XOBVLIB

VBECS DIVISION LOOKUP - DIV^VBECRPCM
 This RPC returns XML containing a list of active VAMC divisions associated
 with a Medical Center.
  
 XML Mapping:
 DivisionId element =   INSTITUTION file (#4) / STATION NUMBER field (#99)
 DivisionName element = INSTITUTION file (#4) / NAME field (#.01)
  
 XML Example:
 <Divisions>
     <Division>
         <DivisionId>589</DivisionId>
         <DivisionName>VA HEARTLAND - WEST, VISN 15</DivisionName>
     </Division>
     <Division>
         <DivisionId>589A4</DivisionId>
         <DivisionName>COLUMBIA, MO VAMC</DivisionName>
     </Division>
     <Division>
         <DivisionId>589A5</DivisionId>
         <DivisionName>TOPEKA, KS VAMC</DivisionName>
     </Division>
     <Division>
         <DivisionId>589A6</DivisionId>
         <DivisionName>LEAVENWORTH VAMC</DivisionName>
     </Division>
     <Division>
         <DivisionId>589A7</DivisionId>
         <DivisionName>WICHITA VAMC</DivisionName>
     </Division>
 </Divisions>
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document with a list of active divisions from the Institution file #4 
 EXTERNAL ROUTINES:
  GETS^DIQ,ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC,$$CHARCHK^XOBVLIB,$$DIV4^
XUSER

VBECS BLOOD BANK USER LOOKUP - BBUSER^VBECRPCM
 This RPC returns XML containing a list of users from the New Person file
 #200 that hold the Security Keys associated with Blood Bank.
  
 XML Mapping:
 count attribute =        Number of records found
 userName attribute =     NEW PERSON file (#200) / NAME field (#.01)
 userDuz attribute =      NEW PERSON file (#200) / IEN field (#.001)
 userInitials attribute = NEW PERSON file (#200) / INITIAL field (#1)
 divisionCode attribute = INSTITUTION file (#4) / STATION NUMBER field 
 (#99)
  
 XML Example:
 <BloodBankUsers>
     <Record count="1">
         <BloodBankUser userName="BLOODBANK,USER" userDUZ="5000" 
 userInitials="BBU">
             <Divisions>
                 <Division divisionCode="589" />
                 <Division divisionCode="589A4" />
                 <Division divisionCode="589A5" />
                 <Division divisionCode="589A6" />
                 <Division divisionCode="589A7" />
             </Divisions>
         </BloodBankUser>
     </Record>
 </BloodBankUsers>
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document containing a list of users from the New Person file that 
 EXTERNAL ROUTINES:
  ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC,$$CHARCHK^XOBVLIB,$$ACTIVE^XUSER

VBECS WORKLOAD CODES LOOKUP - WKLD^VBECRPCW
 This RPC returns XML containing a list of Workload Codes from the WKLD
 CODE file (#64) with a WORKLOAD CODE LAB SECTION of "Blood Bank" to VBECS.
  
 XML Mapping:
 LMIP element =             WKLD CODE file (#64) / WKLD CODE field (#1)
 Procedure element =        WKLD CODE file (#64) / PROCEDURE field (#.01)
 Cost element =             WKLD CODE file (#64) / COST field (#7)
 WeightMultiplier element = WKLD CODE file (#64) / WKLD UNIT WEIGHT field 
                            (#2)
 CPTCode element =          WKLD CODE file (#64) / CODE sub-file (#64.018) 
                            / CODE field (#.01)
  
  
 XML Example:
 <Workload>
     <Code>
         <LMIP>86272.0000</LMIP>
         <Procedure>Cryoprecipitate Thawing</Procedure>
         <Cost>2.50</Cost>
         <WeightMultiplier>3</WeightMultiplier>
         <CPTCode>88399</CPTCode>
     </Code>
     <Code>
         <LMIP>86403.0000</LMIP>
         <Procedure>Decontamination of Lymphocyte</Procedure>
         <Cost></Cost>
         <WeightMultiplier>2</WeightMultiplier>
         <CPTCode>88399</CPTCode>
     </Code>
 </Workload>
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document containing a list of Blood Bank WORKLOAD CODE LAB SECTION 
 EXTERNAL ROUTINES:
  ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC,$$CHARCHK^XOBVLIB

VBECS HCPCS CODES LOOKUP - HCPCS^VBECRPCH
 This RPC returns XML containing a list of active HCPCS codes from the CPT
 file with a CPT Category of Pathology and Laboratory Services for use in
 VBECS.
  
 XML Mapping:
 Code element = CPT file (#81) / CODE field (#.01)
 Name element = CPT file (#81) / SHORT NAME field (#2)
  
 XML Example:
 <Root>
     <HCPCS>
         <Code>P2028</Code>
         <Name>Cephalin floculation test</Name>
     </HCPCS>
     <HCPCS>
         <Code>P2029</Code>
         <Name>Congo red blood test</Name>
     </HCPCS>
     <HCPCS>
         <Code>P2031</Code>
         <Name>Hair analysis</Name>
     </HCPCS>
 </Root>
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document containing a list of HCPCS codes for the Pathology and
 EXTERNAL ROUTINES:
  $$FIND1^DIC,LIST^DIC,$$CPT^ICPTCOD,ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC
,ERROR^VBECRPC

VBECS MED PROFILE LOOKUP - RX^VBECRPCP
 This RPC returns XML containing a list of medications for a patient from 
 the Pharmacy package within a given date range.
  
 The patient demographic data is provided by the VistA API DEM^VADPT in 
 the VADM array.
  
 The medication related data is provided by the Pharmacy API OCL^PSOORRL in
 the ^TMP("PS",$J global array in the following format.
  
 ^TMP("PS",$J,D0,0)=ORDER #_File;PKG^DRUG^INFUSION RATE^STOP DATE^REFILLS
 REMAINING^TOTAL DOSE^UNITS PER DOSE^PLACER #^STATUS^LAST FILLDATE^DAYS
 SUPPLY^QUANTITY^NOT TO BE GIVEN^PENDING RENEWAL (1 or 0)^ISSUE
 DATE(Outpatient) or START DATE(Inpatient)^LAST RELEASE DATE/TIME^LAST FILL
 DAY SUPPLY
  
 XML Mapping:
 PatientName element =          VADM(1)
 PatientSsn element =           VADM(2)
 PatientDob element =           VADM(3) in HL7 format
 BeginningSearchDate element =  SDATE input parameter in HL7 format
 EndingSearchDate element =     EDATE input parameter in HL7 format
 OrderNumber element =          ORDER #
 DrugName element =             DRUG
 IssueStartDate element =       ISSUE DATE(Outpatient) or START 
                                DATE(Inpatient)
 Status element =               STATUS
 InpatientOutpatientIndicator = PKG
  
 XML Example:
 <MedicationProfile>
     <PatientName>VBECSpatient,One</PatientName>
     <PatientSsn>666-66-6666</PatientSsn>
     <PatientDob>Jan 01, 1900</PatientDob>
     <BeginningSearchDate>Oct 01, 2002</BeginningSearchDate>
     <EndingSearchDate>Jul 31, 2003</EndingSearchDate>
     <Order>
         <OrderNumber>4863015</OrderNumber>
         <DrugName>ACETAMINOPHEN 500MG TAB</DrugName>
         <IssueStartDate>Apr 08, 2002</IssueStartDate>
         <Status>EXPIRED</Status>
         <InpatientOutpatientIndicator>O</InpatientOutpatientIndicator>
     </Order>
 </MedicationProfile>
 PARAMETERS
  SDATE
   TYPE:LITERAL
   The SDATE input parameters represents the start date required by the Pharmacy
 API OCL
  EDATE
   TYPE:LITERAL
   The EDATE input parameter represents the end date required by the Pharmacy AP
I OCL
  DFN
   TYPE:LITERAL
   The VistA Patient file (#2) Internal Entry Number.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document with a list of medications prescribed for the patient during the 
specified dates in the input parameters.
 EXTERNAL ROUTINES:
  ^%DT,C^%DTC,OCL^PSOORRL,DEM^VADPT,$$STRIPL3^VBECRPC,ADD^VBECRPC,BEGROOT^VBECRP
C,ENDROOT^VBECRPC,$$FMTHL7^XLFDT,$$HL7TFM^XLFDT,$$CHARCHK^XOBVLIB

VBECS LAB ACCESSION UID LOOKUP - ORDNUM^VBECRPCB
 This RPC returns XML containing a list of Laboratory tests and 
 associated data based on a Lab Order number. The data is used in VBECS to 
 validate an order and associated a specimen UID with the Blood Bank 
 request.
  
 XML Mapping:
 PatientName element =     PATIENT file (#2) / NAME field (#.01)
 VistaPatientId element =  PATIENT file (#2) / NUMBER field (#.001)
 LabOrderNumber element =  LAB ORDER ENTRY file (#69) / SPECIMEN sub-file 
                           (#69.01) / ORDER# field (#9.5)
 LabTestId element =       LAB ORDER ENTRY file (#69) / SPECIMEN sub-file 
                           (#69.01) / TEST/PROCEDURE field (#.01)
 LabTestName element =     LABORATORY TEST file (#60) / NAME field (#.01)
 SpecimenAccessionNumber = ACCESSION file (#68) / ACCESSION NUMBER 
                           sub-file (#68.02) / ACCESSION field (#15)
 SpecimenUid =             LAB ORDER ENTRY file (#69) / SPECIMEN sub-file 
                           (#69.01) / TEST sub-file (#69.03) / UID field
                           (#16)
 CollectionDateTime =      ACCESSION file (#68) / ACCESSION NUMBER 
                           sub-file (#68.02) / DRAW TIME field (#9)
  
 XML Example:
 <UIDLookup>
     <LabTests>
         <LabTest>
             <PatientName>VBECSpatient,One</PatientName>
             <VistaPatientId>308</VistaPatientId>
             <LabOrderNumber>11465</LabOrderNumber>
             <LabTestID>6479</LabTestID>
             <LabTestName>VBECS RED BLOOD CELLS</LabTestName>
             <SpecimenAccessionNumber>2942360003</SpecimenAccessionNumber>
             <SpecimenUID>2942360003</SpecimenUID>
             <CollectionDateTime>20040823103630-0600</CollectionDateTime>
         </LabTest>
     </LabTests>
 </UIDLookup>
 PARAMETERS
  VBLRO
   TYPE:LITERAL
   Input VBLRO = The Lab Order number received in Blood Bank with an order
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document containing the patient name, DFN, accession number, lab
 EXTERNAL ROUTINES:
  $$GET1^DIQ,ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC,ERROR^VBECRPC,$$FMTHL7^
XLFDT,$$CHARCHK^XOBVLIB

VBECS LAB TEST RESULTS LOOKUP - TSTRSLT^VBECRPCA
 This RPC returns XML containing a list of Laboratory test results for a 
 patient within a given date range.
  
 The data returned is provided by the Lab API RR^LR7OR1 in the 
 ^TMP("LRRR" global array in the following format.
  
 ^TMP("LRRR",$J,DFN,SUB,inverse d/t,sequence #)  = Test^result^L/N flag^
 units^reference range^result status^^^Nat'l Code^Name^System^Verified b 
 y^^Therapeutic flag^Print Name^Accession^Order#
  
 XML Mapping:
 VistaPatientId element =  DFN
 LabTestId element =       Test
 TestPrintName element =   Print Name
 TestResult element =      result
 TestDate element =        inverse d/t (Converted to HL7 format)
  
  
 XML Example:
 <LabTests>
     <LabTest>
         <VistaPatientId>378793</VistaPatientId>
         <LabTestId>3</LabTestId>
         <TestPrintName>HGB</TestPrintName>
         <TestResult>14.1</TestResult>
         <TestDate>20010910122446-0600</TestDate>
     </LabTest>
     <LabTest>
          <VistaPatientId>378793</VistaPatientId>
          <LabTestId>3</LabTestId>
          <TestPrintName>HGB</TestPrintName>
          <TestResult>14.4</TestResult>
          <TestDate>20010430115535-0600</TestDate>
     </LabTest>
 </LabTests>
 PARAMETERS
  SDATE
   TYPE:LITERAL
   The SDATE input parameter represents the start date used to search for 
  EDATE
   TYPE:LITERAL
   The EDATE input parameter represents the end date to search for 
  DIV
   TYPE:LITERAL
   The DIV input parameter representd the Division (Station Number) where 
  TESTS
   TYPE:LITERAL
   An array of Laboratory Test IENs used to search for results.
  PATS
   TYPE:LITERAL
   An array of Patient IENs used to search for Lab test results.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document with a list of patient related laboratory test results 
 EXTERNAL ROUTINES:
  RR^LR7OR1,BEGROOT^VBECRPC,ENDROOT^VBECRPC,$$HL7TFM^XLFDT

VBECS ACCESSION AREA LOOKUP - ACNAREA^VBECRPCM
 This RPC returns XML containing a list of Lab Blood Bank Accession Areas
 from the ACCESSION file (#68) where the LR SUBSCRIPT field .02 is set to
 BLOOD BANK for use in the gov.va.med.vbecs rehosted Blood Bank
 application.
  
 XML Mapping:
 AccessionAreaName element = ACCESSION file (#68) / ACCESSION AREA field 
 (#.01)
 AccessionAreaId element =   ACCESSION file (#68) / IEN field (#.001)
  
 XML Example:
 <AccessionAreas>
     <AccessionArea>
         <AccessionAreaName>BLOOD BANK</AccessionAreaName>
         <AccessionAreaId>29</AccessionAreaId>
     </AccessionArea>
     <AccessionArea>
         <AccessionAreaName>COBLOOD BANK</AccessionAreaName>
         <AccessionAreaId>60</AccessionAreaId>
     </AccessionArea>
     <AccessionArea>
         <AccessionAreaName>LEBLOOD BANK</AccessionAreaName>
         <AccessionAreaId>87</AccessionAreaId>
     </AccessionArea>
     <AccessionArea>
         <AccessionAreaName>TOBLOOD BANK</AccessionAreaName>
         <AccessionAreaId>91</AccessionAreaId>
     </AccessionArea>
     <AccessionArea>
         <AccessionAreaName>WIBLOOD BANK</AccessionAreaName>
         <AccessionAreaId>146</AccessionAreaId>
     </AccessionArea>
 </AccessionAreas>
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document containing a list of Blood Bank Accession Areas from the 
 EXTERNAL ROUTINES:
  ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC,$$CHARCHK^XOBVLIB

VBECS LAB ORDER LOOKUP BY UID - ORDER^VBECRPCB
  
 This RPC returns XML containing a list of laboratory tests and associated 
 data based on a Specimen UID. The data is used in VBECS to identify an 
 existing VBECS order based on the Lab Order number provided by CPRS.
  
  XML Mapping:
  PatientName element =     PATIENT file (#2) / NAME field (#.01)
  VistaPatientId element =  PATIENT file (#2) / NUMBER field (#.001)
  LabOrderNumber element =  LAB ORDER ENTRY file (#69) / SPECIMEN sub-file
                            (#69.01) / ORDER# field (#9.5)
  LabTestId element =       LAB ORDER ENTRY file (#69) / SPECIMEN sub-file
                            (#69.01) / TEST/PROCEDURE field (#.01)
  LabTestName element =     LABORATORY TEST file (#60) / NAME field (#.01)
  SpecimenAccessionNumber = ACCESSION file (#68) / ACCESSION NUMBER
                            sub-file (#68.02) / ACCESSION field (#15)
  SpecimenUid =             LAB ORDER ENTRY file (#69) / SPECIMEN sub-file
                            (#69.01) / TEST sub-file (#69.03) / UID field
                            (#16)
  CollectionDateTime =      ACCESSION file (#68) / ACCESSION NUMBER
                            sub-file (#68.02) / DRAW TIME field (#9)
  
  XML Example:
  <UIDLookup>
      <PatientName>VBECSpatient,One</PatientName>
      <VistaPatientId>1000</VistaPatientId>
      <SpecimenAccessionNumber>BB0401-01</SpecimenAccessionNumber>
      <LabOrderNumber>25000</LabOrderNumber>
      <SpecimenUID>29500000000</SpecimenUID>
      <CollectionDateTime>304010800</CollectionDateTime>
      <LabTests>
          <LabTest>
              <LabTestID>2400</LabTestID>
              <LabTestName>VBECS ANTIBODY SCREEN</LabTestName>
          </LabTest>
      </LabTests>
  </UIDLookup>
 PARAMETERS
  VBUID
   TYPE:LITERAL
   Input VBUID = The specimen UID received in Blood Bank associated with a
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  XML document containing the patient name, DFN, accession number, lab
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$CHECKUID^LRWU4,ADD^VBECRPC,BEGROOT^VBECRPC,ENDROOT^VBECRPC,ERROR^
VBECRPC,$$FMTHL7^XLFDT,$$CHARCHK^XOBVLIB

VBECS DSS EXTRACT - EN^VBECDSS
 This RPC inserts or updates post transfusion related data in the VBECS DSS
 EXTRACT file (#6002.03). The data is passed into the VBECDSS routine 
 through the input parameters and a success indicator is returned to the 
 Blood Bank medical device.
 PARAMETERS
  PARAMS
   TYPE:LITERAL
   PARAMS("TRANSACTION ID") = Unique record identifier
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This RPC returns and XML document containing a SuccessIndicator element 
 EXTERNAL ROUTINES:
  $$FIND1^DIC,DT^DICRW,FILE^DIE,UPDATE^DIE,$$NOW^XLFDT

ROR LIST REGISTRY DRUGS - RORGEN^RORRP017
 The ROR LIST REGISTRY DRUGS RPC returns a list of drugs from file 799.5
 based on input of a beginning NAME value
 PARAMETERS
  PART
   TYPE:LITERAL
   The partial match restriction
  FLAGS
   TYPE:LITERAL
   1 equals HEPC Registry 2 equals HIV Registry
  NUMBER
   TYPE:LITERAL
   DEPRECATED
  FROM
   TYPE:LITERAL
   DEPRECATED
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  A list of drugs based on the input of PART
 EXTERNAL ROUTINES:
  CLEAR^RORERR,$$ALLOC^RORTMP

ROR LIST INVESTIGATIONAL DRUGS - RORINV^RORRP017
 [ROR LIST INVESTIGATIONAL DRUGS] returns a list of drugs that are
 classified as investigational in file ^PS(50.605 and have a drug class
 of IN140 for HEPC or IN150 for HIV
 PARAMETERS
  PART
   TYPE:LITERAL
   A string that is passed in to filter the number of drugs returned.
  FLAGS
   TYPE:LITERAL
   If equal to 1 this will work with the HEPC Registry.  If equal to 2 will
  NUMBER
   TYPE:LITERAL
   DEPRECATED
  FROM
   TYPE:LITERAL
   DEPRECATED
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  An array that consist of a zero node that holds the count of drugs and
 EXTERNAL ROUTINES:
  DATA^PSS50,NDF^PSS50,CLEAR^RORERR,$$ALLOC^RORTMP,FREE^RORTMP

DSIR TEST PEND CLARIFICATION - PENDCLR^DSIROI8
 PARAMETERS
  IEN
   TYPE:LITERAL
   INPUT PARAMETER - IEN = INTERNAL ENTRY NUMBER FOR FILE 19620
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURN
 EXTERNAL ROUTINES:
  

YTQ SET SCRATCH - SETSCR^YTQPXRM8
 api to set data to a scratch file for the MHA3 DLL.
 PARAMETERS
  DFN
   TYPE:LITERAL
   IEN of patient in file 2.
  CODE
   TYPE:LITERAL
   Name of Instrument from file 601.71
  HANDLE
   TYPE:LITERAL
   Unique identifer of the GUI session.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  NOW^%DTC,$$NEW^YTQLIB

YTQ GET SCRATCH - GETSCR^YTQPXRM8
 Returns data from the scratch file for thr MHA3 Clinical reminders DLL.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient DFN
  CODE
   TYPE:LITERAL
   Instrument Name from file 601.71
  HANDLE
   TYPE:LITERAL
   Unigue identifier of the GUI session.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  H^%DTC,NOW^%DTC

YTQ KILL SCRATCH - KILLSCR^YTQPXRM8
 Delete entires from the scratch file when a clinical reminder is saved.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient DFN
  CODE
   TYPE:LITERAL
   Name of instrument from file 601.71
  HANDLE
   TYPE:LITERAL
   Unique identifer of GIU session
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK

OR GET COMBAT VET - CV^ORMARKER
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$CVEDT^DGCV,KVA^VADPT,SVC^VADPT

ORWDX UNLKOTH - UNLKOTH^ORWDX
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

GMV CLOSEST READING - CLOSEST^GMVGETD
 This remote procedure call returns the observation date/time and reading 
 of the record closest to the date/time specified for the patient and vital
 type.
 PARAMETERS
  GMVDFN
   TYPE:LITERAL
   A pointer to the Patient (#2) file (i.e., DFN).
  GMVDT
   TYPE:LITERAL
   The date/time to search from. The default is NOW.
  GMVT
   TYPE:LITERAL
   The vital type abbreviation as it appears in FILE 120.51, Field 1 (e.g., 
  GMVFLAG
   TYPE:LITERAL
   A flag to indicate if the search should look before or after the date/time
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a string composed of two pieces. The first piece contains the 
 EXTERNAL ROUTINES:
  $$GETIEN^GMVGETVT,$$FMDIFF^XLFDT,$$NOW^XLFDT

DVBAB DOD REPORT - SENDRPT^DVBABDOD
 This remote procedure call returns a DOD report from the FHIE framework.  
 The RPC is designed specifically for the FHIE VistA server not the local 
 VAMC facilities.  It is distributed nationally with the CAPRI application 
 to keep the remote procedures and the DVBA CAPRI GUI option consistent on 
 all systems using CAPRI.  Please do not use.
  
 Input:  IEN       = Patient's DFN
         DATATYPE  = Type of data being requested
         BEGDATE   = Beginning search date
         ENDDATE   = Ending search date
         ORMAX     = Max number of entries for report 
 PARAMETERS
  IEN
   TYPE:LITERAL
  DATATYPE
   TYPE:LITERAL
  BEGDATE
   TYPE:LITERAL
  ENDDATE
   TYPE:LITERAL
  ORMAX
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GCPR^OMGCOAS1

DVBAB DOD INFO - INFOMSG^DVBABDOD
 This remote procedure call returns a message to be displayed in CAPRI.  
 The RPC is designed specifically for the FHIE VistA server not the local 
 VAMC facilities.  It is distributed nationally with the CAPRI application 
 to keep the remote procedures and the DVBA CAPRI GUI option consistent on 
 all systems using CAPRI.  Please do not use.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DVBAB FIND DFN BY ICN - ICN^DVBABDOD
 This remote procedure call returns the patient's DFN associated with the 
 ICN passed to the RPC.  The DFN is the internal entry number in the 
 Patient (#2) file.  The RPC is designed specifically for the FHIE VistA 
 server not the local VAMC facilities.  It is distributed nationally with 
 the CAPRI application to keep the remote procedures and the DVBA CAPRI 
 GUI option consistent on all systems using CAPRI.  Please do not use.
 PARAMETERS
  ICN
   TYPE:LITERAL
   INTEGRATION CONTROL NUMBER
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GETDFN^VAFCTFU1

DVBAB DOD REPORT TYPES - RPTTYPS^DVBABDOD
 This remote procedure call returns a list of available report types.  The 
 RPC is designed specifically for the FHIE VistA server not the local VAMC 
 facilities.  It is distributed nationally with the CAPRI application to 
 keep the remote procedures and the DVBA CAPRI GUI option consistent on 
 all systems using CAPRI.  Please do not use.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DVBAB CCOW - CCOW^DVBABFRM
 This remote procedure encapsulates the supported calls $$SITE^VASITE
 and $$PROD^XUPROD.
  
 Paramater TYPE
      1 = Pass back local station number ($$SITE^VASITE)
      2 = Pass back whether production account or not ($$PROD^XUPROD)
 PARAMETERS
  INFOTYPE
   TYPE:LITERAL
  TYPE
   TYPE:
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$SITE^VASITE,$$PROD^XUPROD

DVBAB RESTRICTED LIST PATIENTS - RSTLIST^DVBABFRM
 Returns a list of restricted patients for CAPRI when in remote mode.
 PARAMETERS
  DUZ
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DD^%DT

DENTV MONITOR QUEUE - QUE^DENTVM1
 Queues a TaskMan job to run patient dental (e.g.) Fluoride, Monitor(s).
 PARAMETERS
  DFN
   TYPE:LITERAL
   Contains the patient pointer (DFN).
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns -1^error message or Fluoride monitor value^other monitor (if we
 EXTERNAL ROUTINES:
  

DENTV MONITOR POLL - POLL^DENTVM1
 See if the monitor background job has finished and if so, get the
 results from the DENTAL PATIENT (#220) file.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Contains the patient pointer (DFN).
 RETURN VALUE
  TYPE: ARRAY
  Returns -1^error message or array with Fluoride Monitor in the following 
 EXTERNAL ROUTINES:
  

MAG DICOM CHECK AE TITLE - AETITLE^MAGDQR05
 This Remote Procedure checks whether an Application Entity
 is specified on a DICOM Gateway that has the specified name.
 PARAMETERS
  TITLE
   TYPE:LITERAL
   The value of this parameter is a string. This string is
  SERVICE
   TYPE:LITERAL
   The value of this parameter is a string. This string
  ROLE
   TYPE:LITERAL
   The value of this parameter is a string. This string should
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a string.
 RETURN VALUE
  TYPE: ARRAY
  The return parameter is an array. When the supplied title is
 EXTERNAL ROUTINES:
  

MAG DICOM GET GATEWAY INFO - GETINFO^MAGDQR05
 This Remote Procedure returns information about a
 DICOM Gateway.
 PARAMETERS
  HOSTNAME
   TYPE:LITERAL
   The value of this parameter is a string.
 RETURN VALUE
  TYPE: ARRAY
  The return information for this Remote Procedure is returned
 EXTERNAL ROUTINES:
  

MAG DICOM GET MACHINE ID - GETID^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This Remote Procedure returns the internal entry number of
 the entry for the specified computer in the table of registered
 DICOM Gateways.
 PARAMETERS
  HOSTNAME
   TYPE:LITERAL
   The value of this parameter is a string. This string is the
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of the return parameter is a string.
 EXTERNAL ROUTINES:
  

MAG DICOM GET UID ROOT - UIDROOT^MAGDRPC9
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This Remote Procedure returns the value of the DICOM root UID
 that is to be prefixed to all UIDs that are generated on this system
 and its client systems.
  
 The format and meaning of a DICOM UID is specified in the DICOM Standard.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value of this Remote Procedure is a string.
 EXTERNAL ROUTINES:
  

MAG DICOM GET UID TABLE - SERVER^MAGDUID3
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This Remote Procedure transmits the current content of the
 UID table from VistA to the DICOM Gateways.
 PARAMETERS
  OFFSET
   TYPE:LITERAL
   The value of this parameter is a string.
  MAX
   TYPE:LITERAL
   The value of this parameter is a positive integer number.
 RETURN VALUE
  TYPE: ARRAY
  The return parameter for this Remote Procedure is an array.
 EXTERNAL ROUTINES:
  

MAG DICOM STORE GATEWAY INFO - GWINFO^MAGDQR05
 This Remote Procedure stores information about a DICOM Gateway
 in the VistA system.
 PARAMETERS
  HOSTNAME
   TYPE:LITERAL
   The value of this parameter is a string.
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a pointer to the Institution file (#4).
  FILES
   TYPE:LIST
   This parameter is an array.
  VERSION
   TYPE:LIST
   This parameter is an array.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value for this procedure is a single value.
 EXTERNAL ROUTINES:
  

MAG DICOM VISTA AE TITLE - VATITLE^MAGDQR05
 This Remote Procedure returns a string that can be used
 as a DICOM Application Entity title for the purpose
 established by the parameters to this procedure.
 PARAMETERS
  SERVICE
   TYPE:LITERAL
   The value of this parameter is a string. This string
  ROLE
   TYPE:LITERAL
   The value of this parameter is a string. This string should
  LOCATION
   TYPE:LITERAL
   The value of this parameter is a string.  This string is compared to
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

MAG GET DICOM XMIT ORIGIN - LISTORIG^MAGDRPC1
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This Remote Procedure returns the list of locations for which
 currently images are queued to be transmitted using the DICOM
 protocol.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The return parameter of this remote procedure is an array.
 EXTERNAL ROUTINES:
  GETS^DIQ

MAG IMAGE CURRENT INFO - INFO^MAGDQR04
 This Remote Procedure returns current values for the various
 DICOM tags that are to be included in the header of an exported
 image.
 PARAMETERS
  IMAGE
   TYPE:LITERAL
   The value of this parameter is a number. This number is a pointer
 RETURN VALUE
  TYPE: ARRAY
  The return parameter for this Remote Procedure is an array.
 EXTERNAL ROUTINES:
  $$CPT^ICPTCOD,$$VA2DCM^MAGDQR01,$$QRNEWUID^MAGDRPC9,$$STYDESC^MAGUE001,$$GETIC
N^MPIF001,^VADPT,ADD^VADPT,INP^VADPT

MAG GET SOP CLASS METHOD - ^
 PARAMETERS
 RETURN VALUE
  TYPE: 

DSIR ADD/EDIT REQUESTOR - UPDRQSTR^DSIROI3
 This RPC will add or update an entry in the REQUESTOR FILE in ROI 
 (#19620.12)
 PARAMETERS
  DATA ARRAY
   TYPE:LIST
   DATA - ARRAY - This will be a multiple value parameter.
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURN VALUE
 EXTERNAL ROUTINES:
  

DSIR CHANGE PRIMARY ADDRESS - CHPRIADD^DSIROI6
 This RPC updates the pointer to the primary address for a given
 requestor.  The addresS is stored in the 5 node of 19620.12.
 PARAMETERS
  RQSTR
   TYPE:LITERAL
   RQSTR - Pointer to the requestor file (19620.12)
  ADDRPTR
   TYPE:LITERAL
   ADDRPTR - Pointer to the address file (19620.92)
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURN VALUES
 EXTERNAL ROUTINES:
  

DSIR ADD/EDIT ADDRESS - UPDTADDR^DSIROI6
 This RPC is ussed to add or update an address in the ROI ADDRESS file 
 (#19620.92).
 PARAMETERS
  DATA
   TYPE:LIST
   DATA - ARRAY - This will be a multiple value parameter.
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURN VALUE
 EXTERNAL ROUTINES:
  

DSIR SET ADDRESS INACTIVE - TOGLINAC^DSIROI6
 This RPC sets or resets the Address Inactive flag in the ROI Address file.
 PARAMETERS
  ADRPTR
   TYPE:LITERAL
   ADRPTR - IEN of ADDRESS (NUMERIC)
  FLAGVAL
   TYPE:LITERAL
   FLAGVAL - SET OF VALUES FOR THE INACTIVE FLAG.  ZERO(0) = ACTIVE AND ONE 
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURN VALUES
 EXTERNAL ROUTINES:
  

DSIR IS PATIENT REQUESTOR - ISREQSTR^DSIROI3
  TEST FOR AN ENTRY IN THE "DPATIENT" INDEX IN THE REQUESTOR FILE 
 (^DSIR(19620.12))
 PARAMETERS
  DFN
   TYPE:LITERAL
   FULLY QUALIFIED POINTER TO 
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURNS - IEN^LOOKUP NAME (.01 FIELD OF 19620.12)
 EXTERNAL ROUTINES:
  

DSIR SET LAB TYPE - STLABTYP^DSIROI1
 Routine for setting the requested lab type for a given request.
 PARAMETERS
  ROI
   TYPE:LITERAL
   INPUT PARAMETER 
  TYP
   TYPE:LITERAL
   INPUT PARAMETER
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURNS (ROI is the input parameter for selecting the IEN)
 EXTERNAL ROUTINES:
  

DSIR GET LAB TYPE - GTLABTYP^DSIROI1
 This routine returns the type of lab requested for a given request.  Note 
 that if no lab has been requested, this will contain a null or a zero.  
 In either case, this will be treated as a Cumulative Labs type.
 PARAMETERS
  ROI
   TYPE:LITERAL
   INPUT PARAMETER
 RETURN VALUE
  TYPE: SINGLE VALUE
   RETURNS 
 EXTERNAL ROUTINES:
  

DSIR GET LAB LIST - GTLABLST^DSIROI1
 This routine returns a list of labs that have been selected for a given 
 request.
 PARAMETERS
  ROI
   TYPE:LITERAL
    INPUT PARAMETER
 RETURN VALUE
  TYPE: ARRAY
  RETURNS 
 EXTERNAL ROUTINES:
  

DSIR SET LAB LIST - STLABLST^DSIROI1
 This routine sets the requested labs for a given request. 
  
 NOTE: the labs are deleted every time and then added
   based on the contents of DTLS.  If at any time
   an entry in DTLS contains an "@" the processing 
   stops.  This will allow an "@" in the first 
   entry in DTLS to cause all entries to be deleted.
 PARAMETERS
  ROI
   TYPE:LITERAL
   INPUT PARAMETER
  DTLS
   TYPE:LIST
    INPUT PARAMETER
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURNS 
 EXTERNAL ROUTINES:
  

DSIR LAB INTERIM - INTERIM^DSIROI1
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN - Patient Identifier
  DATE1
   TYPE:LITERAL
   DATE1 - Start Date
  DATE2
   TYPE:LITERAL
   DATE2 - End Date
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RETURN DATA
 EXTERNAL ROUTINES:
  

DSIR LAB INTERIMS - INTERIMS^DSIROI1
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN - Patient Identifier
  DATE1
   TYPE:LITERAL
   DATE1 - Start date in FILEMAN format
  DATE2
   TYPE:LITERAL
   DATE2 - End date in FILEMAN format
  ORTESTS
   TYPE:LIST
   ORTESTS - List of tests to look up
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RETURNS
 EXTERNAL ROUTINES:
  

DSIR DEFAULT EXAM SETTINGS - GETDEF^DSIROI1
 This RPC returns the default settings for the display of imaging exams on
 the reports tab.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  The format of the returned string is as follows (pieces separated by '^')
 EXTERNAL ROUTINES:
  

XDR ADD POTENTIAL PATIENT DUP - ADD^XDRDADDS
 Add a record to the VistA DUPLICATE RECORD file (#15), or find an existing
 record for the pair of potential duplicates passed to the RPC. This was
 written to allow MPI to add potential duplicate patients to the file, when
 potential duplicates are detected by the Person Service Identity
 Management (PSIM) probabilistic search.
 PARAMETERS
  FILE NUMBER
   TYPE:LITERAL
   File number for the file to which the potential duplicate records belong. 
  TO_IEN
   TYPE:LITERAL
   Internal Entry Number (IEN) of one of the potential duplicate records. 
  FROM_IEN
   TYPE:LITERAL
   Internal Entry Number (IEN) of one of the potential duplicate records. 
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURN =IEN from file 15 DUPLICATE RECORD FILE# - If no errors occur, and 
 EXTERNAL ROUTINES:
  UPDATE^DIE,$$GET1^DIQ

XDR UPD SUPPR EMAIL - EN^XDRDEFLG
 Used to remotely set the field SUPPRESS NEW DUP EMAIL (#99) on the
 DUPLICATE RESOLUTION file (#15.1).
  
 SUPPRESS NEW DUP EMAIL is set to 1 (Yes) to suppress the email that is
 normally sent when a new record is added to the DUPLICATE RECORD file by
 PSIM (i.e., by a call from routine XDRDADDS)
  
 If SUPPRESS NEW DUP EMAIL is set to 0 (No) or null, the email will be 
 sent.
 PARAMETERS
  FILE NUMBER
   TYPE:LITERAL
   File number for the file that is the .01 field of a record in the 
  VALUE
   TYPE:LITERAL
   Must be set to 1 or 0. This value will be put into the SUPPRESS NEW DUP 
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURN=0  -  if no errors occurred.
 EXTERNAL ROUTINES:
  FILE^DIE

MPIF DNL ADD UPD - DNLADD^MPIRPC
 This RPC has been established to allow the remote creation of records 
 into the MPI DO NOT LINK (#985.26) file.
 PARAMETERS
  SOURCEID
   TYPE:LITERAL
   The field is the ID of the record you want to add to the DO NOT LINK list.
  DNLSOURCEID
   TYPE:LITERAL
   The field contains the corresponding ID of the record you want to add to
  DNLIDENTIFIEDBY
   TYPE:LITERAL
   This is the person that identified the DO NOT LINK record.
  DNLEVENT
   TYPE:LITERAL
   This is the event that triggered this entry to get created.  The events 
  DNLSOURCEID
   TYPE:LITERAL
   The field contains the corresponding ID of the record you want to add to
  INACT
   TYPE:LITERAL
   This field will be used to pass whether the user/application wants the 
  DNLIDENTIFIEDBY
   TYPE:LITERAL
   This is the person that identified the DO NOT LINK record.
  DNLEVENT
   TYPE:LITERAL
   This is the event that triggered this entry to get created.  The events 
  DNLIDENTIFYINGLOCATION
   TYPE:LITERAL
   This field contains the station# of the person that identified/triggered 
  INACT
   TYPE:LITERAL
   This field will be used to pass whether the user/application wants the pair
 RETURN VALUE
  TYPE: ARRAY
  This RPC will return a positive (1) or negative response (-1) in 
 EXTERNAL ROUTINES:
  

MPIF EDAT REMOTE - MPIEDAT^MPIRPC
 MPI Extended Patient data inquiry for Display Only Query. ICN needs to be 
 passed in.
 PARAMETERS
  ICN
   TYPE:LITERAL
   ICN for patient requesting data on.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DSIV DM GET STATUS - STATUS^DSIVDM
 This RPC has been archived as of June 20, 2005.  No applications should 
 use this RPC after this date.  Please use the new RPC: DSIV DM GET STATUS1
 PARAMETERS
  TRANID
   TYPE:LITERAL
   This is the transaction ID that was passed to the VistA Imaging Import 
  WHICH
   TYPE:LITERAL
   This is a string of codes to determine which transaction statuses to 
  DEL
   TYPE:LITERAL
   This flag (0 or 1) will control whether or not the transaction record 
  APP
   TYPE:LITERAL
   This is the application code assigned to a DSS application.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  On error, return a single message:
 EXTERNAL ROUTINES:
  

DSIV DM ADD/DELETE QUEUE - UPD^DSIVDM
 This will allow you to add or delete an entry to file 19621.  When you 
 use the VistA Imaging import an image API, you are returned a queue 
 number.  This number means that VistA Imaging background processor 
 accepted your request and place it in a queue and will process it in due 
 time.  After you get this successful queue message you should immediately 
 file that data through this RPC.
  
 This file is to allow communication between the VistA Imaging background 
 processor and the DSS Document Management system.
 PARAMETERS
  ACT
   TYPE:LITERAL
   This is the action that should be taken.  The default value if not passed 
  TRANID
   TYPE:LITERAL
   This is the transaction ID you passed to the VistA Imaging import API.  
  QUEUE
   TYPE:LITERAL
   This is only required if you have successfully queued an import request 
  APP
   TYPE:LITERAL
   This is optional only for DocManager.  For all othr DSS applications, 
  TIU
   TYPE:LITERAL
   This field contains the pointer to the TIU DOCUMENT (#8925) file if the 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a string:
 EXTERNAL ROUTINES:
  

DSIV DM CHECK - IMPCK^DSIVDM
 This will check whether or not the current VistA system supports VistA 
 Imaging's import API.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  If VistA Imaging supports their import API, then return 1
 EXTERNAL ROUTINES:
  

DSIV DM GET STATUS1 - STAT^DSIVDM
 This will retrieve the statuses of the VistA Imaging import requests on a 
 per DSS application basis.  There are various input filters you can pass 
 to limit what will be returned.
 PARAMETERS
  DSIVDAT
   TYPE:LIST
   Note: TX equals transaction ID (19621 .01 field value)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  If problems or errors, return -1^error message
 EXTERNAL ROUTINES:
  

DSIV DM DEL QUEUE ENTRIES - DEL^DSIVDM
 This will allow for the deletion of one or more records from file 19621.
 PARAMETERS
  DSIVL
   TYPE:LIST
   This is a list of records to be deleted from file 19621.  The value of 
 RETURN VALUE
  TYPE: SINGLE VALUE
  If there are problems, return -1^message
 EXTERNAL ROUTINES:
  

DSIV ACCEPT BUFFER ENTRY - ACCEPT^DSIVICA
 Processes INSURANCE BUFFER file entry to insurance files
 and patient insurance type multiple.  Marks buffer entry
 STATUS=ACCEPTED.  This RPC should perform the same actions
 as the List Manager "Accept" action.
 PARAMETERS
  IBBUFDA
   TYPE:LITERAL
   INSURANCE BUFFER file IEN to be processed.
  DFN
   TYPE:LITERAL
   PATIENT file IEN.
  IBINSDA
   TYPE:LITERAL
   INSURANCE COMPANY file IEN if not adding a new entry.
  IBGRPDA
   TYPE:LITERAL
   GROUP INSURANCE PLAN file IEN if not adding a new entry.
  IBPOLDA
   TYPE:LITERAL
   IEN of INSURANCE TYPE sub-file (#2.312) of PATIENT file
  IBMVINS
   TYPE:LITERAL
   Flag indicating whether buffer data will 1=Merge, 2=Overwrite, 3=Replace
  IBMVGRP
   TYPE:LITERAL
   Flag indicating whether buffer data will 1=Merge, 2=Overwrite, 3=Replace
  IBMVPOL
   TYPE:LITERAL
   Flag indicating whether buffer data will 1=Merge, 2=Overwrite, 3=Replace
  IBNEWINS
   TYPE:LITERAL
   Flag indicating that a new entry should be created in the
  IBNEWGRP
   TYPE:LITERAL
   Flag indicating that a new entry should be created in the
  IBNEWPOL
   TYPE:LITERAL
   Flag indicating that a new entry should be created in the
  IVMREPTR
   TYPE:LITERAL
   Internal entry number in IVM REASONS FOR NOT UPLOADING INSURANCE
  DSIVAUDT
   TYPE:LITERAL
   Internal entry number in File #19625.  Used when filing COMMENT fields.
  IBDATA
   TYPE:LITERAL
   IBDATA array containts the following variables and data in an array
 RETURN VALUE
  TYPE: ARRAY
  RESULT(0)=0 (zero) means success or -1^<error message> means failure.
 EXTERNAL ROUTINES:
  

DSIV ADD BUFFER ENTRY - ADDBUF^DSIVIC
 Adds a new entry to the INSURANCE BUFFER file #355.33.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient internal entry number.
  TYPE
   TYPE:LITERAL
   "M" for Medicare, "X" for all other insurance (default).
  INSCO
   TYPE:LITERAL
   Insurance company name.  Required for non-Medicare insurance.
  DATA
   TYPE:LIST
   Array of keyword
 RETURN VALUE
  TYPE: SINGLE VALUE
  Single value, negative code means RPC error, 0-code means filing
 EXTERNAL ROUTINES:
  

DSIV ADD VIEWING AUDIT - AAUDIT^DSIVIC2
 Add "viewing" audit entry to 19625, with minimum data. This rpc verifies 
 that the user checked to see whether a buffer entry was needed for an 
 appt.  Buffer IEN will be set to 0.
  
 input is DATA("DFN") - required, pointer to the patient file
          DATA("LOC") - required, free text clinic location
          DATA("APDT")- required, appt date
  return -1^error message  or ien of entry
 PARAMETERS
  DATA
   TYPE:LIST
   DATA("DFN"), DATA("LOC") and DATA("APDT") are required.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns ien of audit file entry, or -1^error message.
 EXTERNAL ROUTINES:
  

DSIV EXCEPTION REPORT2 - RPTP^DSIVICR1
 Kicks off a background job to run the ICB Exception report (users who did 
 not enter buffer entries in a timely manner).
 PARAMETERS
  SDT
   TYPE:LITERAL
   Contains the start date for the report.
  EDT
   TYPE:LITERAL
   Contains the end date of the report.
  DSIVHNDL
   TYPE:LITERAL
   Contains the handle for the background job.  This is the 
  DSIVLOCS
   TYPE:LIST
   Contains a list of clinics to return for the report.  The exception 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns -1^error if there was a problem starting the background job, or 
 EXTERNAL ROUTINES:
  

DSIV FIND ENTRIES - FIND^DSIVIC
 Returns unprocessed INSURANCE BUFFER file entries for a given patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient internal entry number (in FILE #2).
  FLDS
   TYPE:LITERAL
   Contains the requested buffer entry fields that can be retrieved using 
 RETURN VALUE
  TYPE: ARRAY
  Returns INSURANCE BUFFER file entries for a specified patient.
 EXTERNAL ROUTINES:
  

DSIV GET ICB AUDIT - GETIEN^DSIVIC2
 PARAMETERS
  PATDFN
   TYPE:LITERAL
  BUFIEN
   TYPE:LITERAL
  DATE
   TYPE:LITERAL
   DATE ENTERED
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURNS A SINGLE VALUE INDICATING THE IEN OF THE AUDIT ENTRY OR -1^Error 
 EXTERNAL ROUTINES:
  

DSIV GETS - GETS^DSIVIC
 Returns details of INSURANCE BUFFER file entry.
 PARAMETERS
  IENS
   TYPE:LITERAL
   INSURANCE BUFFER file internal entry number or IENS.
  FIELDS
   TYPE:LITERAL
   Field list (optional).  Default is all top-level fields.
  FLAGS
   TYPE:LITERAL
   Flags (optional).  Default is external format, omit empty fields.
 RETURN VALUE
  TYPE: ARRAY
  Array of entry details in the format:
 EXTERNAL ROUTINES:
  

DSIV GROUP INSURANCE PLAN - GRPPOL^DSIVIC
 Looks up Group Insurance Plan name and returns match or matches
 or error message.
 PARAMETERS
  NAME
   TYPE:LITERAL
   Group Insurance Plan name to match.
  FIELDS
   TYPE:LITERAL
   Field list to return in standard FileMan format.  Defaults to
  VDT
   TYPE:LITERAL
   Visit Date.Time for policy limitations (coverage) data.
 RETURN VALUE
  TYPE: ARRAY
  Negative error code and message OR 0^No matches found OR array
 EXTERNAL ROUTINES:
  

DSIV INSURANCE COMPANY - INSCO^DSIVIC
 Looks up insurance company name and returns match or matches or error 
 message.
 PARAMETERS
  NAME
   TYPE:LITERAL
   Insurance company name to match.
 RETURN VALUE
  TYPE: ARRAY
  Negative error code and message OR 0^No matches found OR array of one or 
 EXTERNAL ROUTINES:
  

DSIV LIST ENTRIES2 - LIST^DSIVIC3
 Returns INSURANCE BUFFER file entries for specified date range.
  Each return value has the form -
  BUFFER IEN^DFN^ << requested fields >> ^SSN^FLAGS^SYMBOL^DIV^IMAGES^ERR
  where SSN is the full patient SSN,
  FLAGS are the "iIEYH" flags,
  SYMBOL is the IIV status (where the record is in electronic processing),
  DIV is the users default division, and
  IMAGES is field #2 IMAGES SCANNED from the DSIV AUDIT file (#19625)
  ERR is the one-line eIV error message (if applicable)
 PARAMETERS
  SDT
   TYPE:LITERAL
   Start date in FileMan internal format.
  EDT
   TYPE:LITERAL
   Inclusive end date in FileMan internal format (optional).
  FLDS
   TYPE:LITERAL
   Field list (optional).  If not specified .01I;.01 are returned.
  NUMS
   TYPE:LITERAL
    Contains the maximum number of entries to return per rpc call. If not
  MORE
   TYPE:LITERAL
    Used with the NUMS parameter, More=0 means first call to rpc, More'=0
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns INSURANCE BUFFER file entries for specified date range. Each
 EXTERNAL ROUTINES:
  

DSIV NO INSURANCE - NOI^DSIVIC2
 Allows ICB to set the NO COVERAGE VERIFICATION DATE in the Billing
  Patient (#354) file.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Contains the patient ien.
  DATA
   TYPE:LIST
   Contains the field and value to update for ICB file 354.  The format is
 RETURN VALUE
  TYPE: ARRAY
  Return RET(1)=DFN^Data filed successfully
 EXTERNAL ROUTINES:
  

DSIV ONE LOC APPOINTMENTS - REQONE^DSIVIC1
 Request all appointments for one hospital location, with insurance
 flag.
 PARAMETERS
  LOCIEN
   TYPE:LITERAL
   Hospital Location IEN.
  SDT
   TYPE:LITERAL
   FileMan start date.time (optional).
  EDT
   TYPE:LITERAL
   FileMan end date.time (optional).
  DAYS
   TYPE:LITERAL
   Number of days prior to today for last verified check (default=182).
  SCREEN
   TYPE:LITERAL
   Contains the type of appointment to screen out.  1=checked in (which also
  BUF
   TYPE:LITERAL
   This field can be set to 1 to screen out (not return) appointments if 
  NUMS
   TYPE:LITERAL
   Contains the number of records to return for each call.
  MORE
   TYPE:LITERAL
   Contains a 1 if this is a second call to the rpc to get more records.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   Global array.  Each node has 7 to 9 ^-pieces.  First 6 are described in
 EXTERNAL ROUTINES:
  

DSIV PATIENT INSURANCE CHECK - CKINS^DSIVIC1
 Checks insurance for a single patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient Internal Entry Number.
  DAYS
   TYPE:LITERAL
   Number of days prior to today for last verified check (default=182).
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return 1 if insurance check fails for any reason, 0 if check succeeds
 EXTERNAL ROUTINES:
  

DSIV PATIENT INSURANCE DATA - INSUR^DSIVIC3
 Wraps $$INSUR^IBBAPI to return insurance data for patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient internal entry number.
  FMDT
   TYPE:LITERAL
   Date insured (default is today).
  FILTER
   TYPE:LITERAL
   Status codes specifying results to be included or excluded.
  FIELDS
   TYPE:LITERAL
   List of fields to be returned (default is all).
 RETURN VALUE
  TYPE: ARRAY
  Array of insurance information: Insurer sequence <comma> field <up-arrow> 
 EXTERNAL ROUTINES:
  

DSIV POLL REPORT - POLL^DSIVICR1
 Used to check the status of the background job kicked off by the DSIV 
 EXCEPTION REPORT2 rpc, and to get the report data.
 PARAMETERS
  DSIVHNDL
   TYPE:LITERAL
   Contains the Handle returned by the kick-off rpc call DSIV EXCEPTION 
  CNT
   TYPE:LITERAL
   Contains the count (#) of records to return for each call to the rpc.
  MORE
   TYPE:LITERAL
   Contains a flag (MORE=1) when there were more records than parameter 2 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns -1^error, or 0^Results not ready, 
 EXTERNAL ROUTINES:
  

DSIV POLLED DATA - POLL^DSIVICR
 Used to check the status of the background job kicked off by the DSIV
  REPORT QUEUE rpc, and to get the report results.
 PARAMETERS
  DSIVHNDL
   TYPE:LITERAL
   Contains the handle returned by the kick-off rpc called DSIV REPORT 
  NUMS
   TYPE:LITERAL
   Contains the number of records to return for each call to the rpc.  If 
  MORE
   TYPE:LITERAL
   MORE=0 for the first call, MORE=1 for subsequent calls when there are 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns -1^error or 0^Status or report text.
 EXTERNAL ROUTINES:
  

DSIV PURGE AUDIT - PURGE^DSIVIC1
 Purge ICB AUDIT FILE entries through <date> or keeping <days>.
 PARAMETERS
  DSIV
   TYPE:LITERAL
   Either a FileMan internal date, specifying the last date to purge,
 RETURN VALUE
  TYPE: SINGLE VALUE
  0=OK or -1^Error message.
 EXTERNAL ROUTINES:
  

DSIV REJECT BUFFER ENTRY - REJECT^DSIVICR
 Processes INSURANCE BUFFER file entry to STATUS=REJECT.
 PARAMETERS
  IBBUFDA
   TYPE:LITERAL
   INSURANCE BUFFER file (#355.33) internal entry number to be
  IVMREPTR
   TYPE:LITERAL
   Internal entry number in IVM REASONS FOR NOT UPLOADING INSURANCE
 RETURN VALUE
  TYPE: SINGLE VALUE
  0=success or "-1^<error message>" for failure.
 EXTERNAL ROUTINES:
  

DSIV REPORT QUEUE - PRPT^DSIVICR
 Queues up the report data from file 19625 for billing reports.  
 PARAMETERS
  DSIVHNDL
   TYPE:LITERAL
   Contains the handle to "find" the report in the 
  DSIVRPT
   TYPE:LITERAL
   Contains the ICB report the user has requested.
  DATA
   TYPE:LIST
   Contains the parameters to search for data:
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns Taskman task#^Handle
 EXTERNAL ROUTINES:
  

DSIV UPDATE SUBFILE MULT - ADDUPD^DSIVIC2
 Allows editing of multiple entries in a FileMan multiple at one time.
 PARAMETERS
  FILE
   TYPE:LITERAL
   Contains the file# to add/edit data.
  IEN
   TYPE:LITERAL
   Contains the IEN of the entry to add/edit.
  DATA
   TYPE:LIST
   Array holding entries for adding:
  FLAG
   TYPE:LITERAL
   FLAG=0 to add entries to a multiple,
 RETURN VALUE
  TYPE: ARRAY
  Return array contains added/editing entries in RET(n)
 EXTERNAL ROUTINES:
  

DSIV EXCEPTION REPORT - RRPT^DSIVICR2
 Retrieves ICB Exception data from 19625.1.  A nightly job queued from 
 option DSIV NIGHTLY REPORT processes the report - this rpc now just 
 returns the data.
 PARAMETERS
  SDT
   TYPE:LITERAL
   Contains the start date for the report.  This is the report date in file 
  EDT
   TYPE:LITERAL
   Contains the end date for the report.  Defaults to current date if not 
  MORE
   TYPE:LITERAL
   Contains a flag to denote recursive calls to get the Exception Report 
  LOCS
   TYPE:LIST
   Contains an array of clinics to include or exclude from the report.  The 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the following global array data:
 EXTERNAL ROUTINES:
  

DSIV GET EIV REPORT - IIV^DSIVIC3
 Returns data from the IIV RESPONSE file (365) based on a buffer ien.
 PARAMETERS
  BUFFER
   TYPE:LITERAL
   Insurance Buffer IEN (file 355.33).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns -1^error message if no buffer ien, or if buffer ien is not in the 
 EXTERNAL ROUTINES:
  

DSIV REPORT DATA - RPT^DSIVICR
 Retrieves data from the audit file 19625 for billing report.
 PARAMETERS
  PARAM
   TYPE:LIST
   Contains the parameters to search for data:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   Returns -1^error message or
 EXTERNAL ROUTINES:
  

DSIV LIST ENTERED STATUS - ENST^DSIVIC4
 This RPC returns a list of IEN's and Date Entered in internal and 
 external format for entries in file 355.33 with a status of Entered.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  IEN (File 355.33) ^ Date Entered (I;E)
 EXTERNAL ROUTINES:
  

ORVW FACLIST - FACLIST^ORVW
 Wrapper for the TFL^VAFCTFU1 routine, which returns all the treating
 facilities for a given patient DFN.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient DFN
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  TFL^VAFCTFU1

ECOB FACTORY - FACTORY^ECOBUF
 An RPC to construct(get a handle to) or destroy VistA objects.
 PARAMETERS
  ARGUMENT
   TYPE:LITERAL
   Constructor Argument = Constructor.[class name].[namespace]
 RETURN VALUE
  TYPE: ARRAY
  For a constructor argument, will return a handle.
 EXTERNAL ROUTINES:
  $$GET^XPAR

ECOB METHOD - METHOD^ECOBUF
 An RPC to manipulate VistA objects.
 PARAMETERS
  ARGUMENT
   TYPE:LITERAL
   Argument = [handle].[method].[parameters]
 RETURN VALUE
  TYPE: ARRAY
  Returns the result of the method call in the array.
 EXTERNAL ROUTINES:
  METHOD^ECOBU

MAGJ MAGDATADUMP - DATADUMP^MAGJUTL4
   +---------------------------------------------------------------+
   | Property of the US Government.                                |
   | No permission to copy or redistribute this software is given. |
   | Use of unreleased versions of this software requires the user |
   | to execute a written test agreement with the VistA Imaging    |
   | Development Office of the Department of Veterans Affairs,     |
   | telephone (301) 734-0100.                                     |
   |                                                               |
   | The Food and Drug Administration classifies this software as  |
   | a medical device.  As such, it may not be changed in any way. |
   | Modifications to this software may result in an adulterated   |
   | medical device under 21CFR820, the use of which is considered |
   | to be a violation of US Federal Statutes.                     |
   +---------------------------------------------------------------+
 Imaging Vistarad RPC for displaying internal Imaging data
 PARAMETERS
  DATA
   TYPE:LITERAL
   'DATA' HAS THE FOLLOWING STRUCTURE: "REQUEST
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  THIS RPC RETURNS 1:N TEXT LINES, PER INPUT REQUEST:
 EXTERNAL ROUTINES:
  DT^DICRW

MAGG REASON LIST - LSTRSNS^MAGGA01
 This remote procedure returns the list of reasons for actions performed on
 images. This data is loaded from the MAG REASON file (#2005.88).
 PARAMETERS
  TYPE
   TYPE:LITERAL
   This parameter defines the type(s) of reasons that are returned by the 
  FLAGS
   TYPE:LITERAL
   Flags that control execution (can be combined):
  PART
   TYPE:LITERAL
   The partial match restriction (case sensitive). For example, a PART value
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Zero value of the first '^'-piece of the Results[0] indicates that an
 EXTERNAL ROUTINES:
  LIST^DIC,$$DBS^MAGUERR,$$ERROR^MAGUERR,$$IPVE^MAGUERR,CLEAR^MAGUERR,RPCERRS^MA
GUERR1,$$DT^XLFDT

MAG4 IMAGE LIST - GETIMGS^MAGSIXG1
 This remote procedure returns information about images that conform to 
 the provided criteria.
 PARAMETERS
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  FROMDATE
   TYPE:LITERAL
   Beginning of the date range for image selection. Date can be in internal
  TODATE
   TYPE:LITERAL
   End of the date range for image selection. Dates can be in internal or
  MISCPRMS
   TYPE:LIST
   Items of this list define various filter parameters. Each item has 3 or
  MAXNUM
   TYPE:LITERAL
   If this parameter is defined and greater than 0, then it determines the
 RETURN VALUE
  TYPE: ARRAY
  Zero value of the first '^'-piece of the Results[0] indicates that an
 EXTERNAL ROUTINES:
  $$QUERY^MAGGI13,NETPLCS^MAGGTU6,$$BLDHDR^MAGSIXG2,$$FLTDESC^MAGSIXG2,$$VALMISC
^MAGSIXG2,$$SUBSET^MAGSIXG4,$$ERROR^MAGUERR,CLEAR^MAGUERR,ERROR^MAGUERR,IPVE^MAG
UERR,$$LDMPDEFS^MAGUTL01,$$RPCMISC^MAGUTL02,$$DTRANGE^MAGUTL03,$$TRFLAGS^MAGUTL0
5,$$FMADD^XLFDT

MAGG IMAGE SET PROPERTIES - SETPROPS^MAGGA02
 This remote procedure updates one or more image properties (fields of the
 record of the IMAGE file (#2005)).
  
 If one of the following fields is updated in the parent or the child of a
 group that has only one image, then the changes are replicated to the
 child or parent respectively: SHORT DESCRIPTION (10), TYPE INDEX (42),
 PROC/EVENT INDEX (43), SPEC/SUBSPEC INDEX (44), ORIGIN INDEX (45),
 CREATION DATE (110), CONTROLLED IMAGE (112), STATUS (113), and STATUS
 REASON (113.3).
 PARAMETERS
  IMGIEN
   TYPE:LITERAL
   IEN of the image record in the IMAGE file (#2005).
  FLAGS
   TYPE:LITERAL
   Reserved for future use.
  PROPVALS
   TYPE:LIST
   Items of this list define new values of image properties. Each item has
 RETURN VALUE
  TYPE: ARRAY
  Zero value of the first '^'-piece of the Results[0] indicates that an
 EXTERNAL ROUTINES:
  FILE^DIE,LOCK^DILF,$$REPLIC^MAGGA02A,$$ISDEL^MAGGI11,$$ISVALID^MAGGI11,$$DBS^M
AGUERR,$$ERROR^MAGUERR,CLEAR^MAGUERR,SETDEFEH^MAGUERR,STORE^MAGUERR,RPCERRS^MAGU
ERR1,$$LDMPDEFS^MAGUTL01,$$RPCMISC^MAGUTL02

MAGG IMAGE GET PROPERTIES - GETPROPS^MAGGA02
 This remote procedure returns values of one or more image properties
 (fields of the record of the IMAGE (#2005) or IMAGE AUDIT (#2005.1) file).
  
 If a field is tracked (audited), then a previous value of this field on a 
 certain date/time can be requested (see the ADT parameter).
 PARAMETERS
  IMGIEN
   TYPE:LITERAL
   IEN of the image record in the IMAGE file (#2005).
  PROPLST
   TYPE:LITERAL
   Property names separated by semicolons or one of the following special
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  ADT
   TYPE:LITERAL
   Date/time (internal FileMan value) for retrieving previous values. By 
 RETURN VALUE
  TYPE: ARRAY
  Zero value of the first '^'-piece of the Results[0] indicates that an
 EXTERNAL ROUTINES:
  $$IXCLASS^MAGGA02A,$$ISDEL^MAGGI11,$$ISVALID^MAGGI11,$$DBS^MAGUERR,CLEAR^MAGUE
RR,STORE^MAGUERR,RPCERRS^MAGUERR1,$$LDMPDEFS^MAGUTL01,GETS^MAGUTL04,$$TRFLAGS^MA
GUTL05

MAGG REASON GET PROPERTIES - GET^MAGGA01
 This remote procedure returns the reason properties from the MAG REASON
 file (#2005.88)
 PARAMETERS
  RSNID
   TYPE:LITERAL
   Identifier of the reason: Internal Entry Number of the record in the MAG
  FLAGS
   TYPE:LITERAL
   Flags that control execution (can be combined):
 RETURN VALUE
  TYPE: ARRAY
  Zero value of the first '^'-piece of the Results[0] indicates that an
 EXTERNAL ROUTINES:
  CLEAR^MAGUERR,RPCERRS^MAGUERR1,$$GETRSN^MAGUTL10

MAGG IMAGE STATISTICS - IMGQUERY^MAGGA03
 The MAGG IMAGE STATISTICS remote procedure queries the image file(s) and 
 returns various statistics/summary data. Currently, 2 queries are 
 implemented:
  
   Counts of images captured in the provided date range 
   grouped by the image status codes.
  
   Counts of images captured in the provided date range
   grouped by users and image status codes.
 PARAMETERS
  FLAGS
   TYPE:LITERAL
   Flags that control the execution (can be combined):
  FROMDATE
   TYPE:LITERAL
   Beginning of the date range for image selection. Dates can be in internal
  TODATE
   TYPE:LITERAL
   End of the date range for image selection. Dates can be in internal or
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Zero value of the first '^'-piece of the Results[0] indicates that an
 EXTERNAL ROUTINES:
  $$QUERY^MAGGI13,CLEAR^MAGUERR,ERROR^MAGUERR,IPVE^MAGUERR,$$FIRSTERR^MAGUERR1,R
PCERRS^MAGUERR1,$$DTRANGE^MAGUTL03,$$TRFLAGS^MAGUTL05,$$FMADD^XLFDT

MAGG IMAGE LOCK - LOCKIMG^MAGGA04
 This remote procedure locks one or more images. If several images are 
 passed, then either all or none of them are locked.
 PARAMETERS
  FLAGS
   TYPE:LITERAL
   reserved
  IMGLST
   TYPE:LIST
   List of images that have to be locked. Images are referenced by their 
 RETURN VALUE
  TYPE: ARRAY
  Zero value of the first '^'-piece of the Results[0] indicates that an
 EXTERNAL ROUTINES:
  $$ERROR^MAGUERR,CLEAR^MAGUERR,RPCERRS^MAGUERR1,$$LOCKFM^MAGUTL07,$$TEXT^MAGUTL
07

MAGG IMAGE UNLOCK - UNLOCKIM^MAGGA04
 This remote procedure unlocks one or more images.
 PARAMETERS
  FLAGS
   TYPE:LITERAL
   reserved
  IMGLST
   TYPE:LIST
   List of images that have to be unlocked. Images are referenced by their 
 RETURN VALUE
  TYPE: ARRAY
  Zero value of the first '^'-piece of the Results[0] indicates that an
 EXTERNAL ROUTINES:
  CLEAR^MAGUERR,RPCERRS^MAGUERR1,$$UNLOCKFM^MAGUTL07

MAGG CAPTURE USERS - USERS^MAGGA03U
 This call will find users that have captured images in a date range.
 The list of users can be filtered by the FLAGS parameter
 The Flags Parameter can contain
 'C' for images captured on the Capture Workstation
   and/or
 'I' for images captured throught the Import API.
 PARAMETERS
  FLAGS
   TYPE:LITERAL
   The Flags Parameter can contain
  FROMDATE
   TYPE:LITERAL
   The earliest Date to search for users.
  TODATE
   TYPE:LITERAL
   The latest Date to search for users.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The resulting global array is structured as:
 EXTERNAL ROUTINES:
  ^%DT,$$FMADD^XLFDT

DSIF VERIFY FB - VER^DSIFENA1
 Used ot verify a Fee Basis patient is eligible.
 Pass in DFN, Output
 1 OR {0 = not verified} OR {-1 - error}^Dishonorable
 Discharge^Agent orange only
  
 1st piece codes: '1' VERIFIED PROCEED
                  '0' NOT VERIFED
                  '-1' ERROR^MESSAGE
 PARAMETERS
  DFN
   TYPE:LITERAL
   Pass in IEN of the Patient File (DFN)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Output String =
 EXTERNAL ROUTINES:
  

DSIF DEMOG - DEMOG^DSIFENA1
 Pass in IEN of Patient file, return a list of Patient Demographics.
  
 Returns an array of demographic data or -1^error message (usually "Invalid
  
 Patient selection")
 PARAMETERS
  DFN
   TYPE:LITERAL
   Pass in Patient File IEN (file #2) 
 RETURN VALUE
  TYPE: ARRAY
  Return=
 EXTERNAL ROUTINES:
  

DSIF AUTHLIST - AUTHLIST^DSIFENA2
 Pass in IEN (DFN), return list of current authorizations
  
 or -1^Not a valid patient
 PARAMETERS
  DFN
   TYPE:LITERAL
   Pass in Patient File IEN (file #2) 
  FLAG
   TYPE:LITERAL
       FLAG="" OR "0" Outpatient authorizations only (excludes Unauthorized)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns:
 EXTERNAL ROUTINES:
  

DSIF GET FB VALUES - GETVAL^DSIFENA1
 Used to return a list of possible entries for Autorizations in Fee Basis, 
 includes several files (Primary service area, Patient type,Type of Care, 
 Purpose of Visit and Evualation type)
  
 If array is not built it will return -1^error message
 PARAMETERS
  OUT
   TYPE:
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns:
 EXTERNAL ROUTINES:
  

DSIF DEL AUTH - DEL^DSIFENA3
 Used to delete an existing authorization in Fee Basis.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Pass in Patient File IEN (file #2) 
  AUTHIEN
   TYPE:LITERAL
   Authorization IEN to be deleted
 RETURN VALUE
  TYPE: SINGLE VALUE
  if successful:  "1^Authorization AUTHIEN deleted successfully"
 EXTERNAL ROUTINES:
  

DSIF ADD AUTH - ADD^DSIFENA3
 This RPC is used to pass in an array of values to add a new 
 Authorization.  It does verification for required data.
 PARAMETERS
  ARRAY
   TYPE:LIST
    ; DATA INPUT = ARRAY  (need fee program added)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Successful:  "1^Entry number #n added succesfully"
 EXTERNAL ROUTINES:
  

DSIF EDIT AUTH - EDIT^DSIFENA3
 Used to edit an existing authorization in Fee Basis.
 Returns 1^edit successful
 or
 -1^error message (Invalid patient, invalid authorization, etc)
 PARAMETERS
  ARRAY
   TYPE:LIST
   Pass in an array structred as follows for an authorization:
 RETURN VALUE
  TYPE: SINGLE VALUE
  Same as DSIF ADD AUTH
 EXTERNAL ROUTINES:
  

DSIF VENDOR LOOK - VENDOR^DSIFENA4
 Used to search for Fee Basis Vendors based on the input of last four 
 numbers, searches Tax ID for all matches
  
 on error returns
 -1^error message 
 PARAMETERS
  TAXID
   TYPE:LITERAL
   Pass in four numbers, these will be used to search for matches in the 
 RETURN VALUE
  TYPE: ARRAY
  Return(n)= Name^ID #^Street address^Street Address 2^City^State^Zip^Type 
 EXTERNAL ROUTINES:
  

DSIF ADD PT - ADD^DSIFENA1
 Used to add a patient to the Fee Basis Patient file.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Pass in Patient File IEN (file #2)
 RETURN VALUE
  TYPE: SINGLE VALUE
   
 EXTERNAL ROUTINES:
  

DSIF PRINT 7079 - PRINT^DSIFENA4
 Used to print an existing 7079 from Fee Basis.
 on error returns
 -1^error message
 PARAMETERS
  DFN
   TYPE:LITERAL
  AUTHIEN
   TYPE:LITERAL
  DEVICE
   TYPE:LITERAL
   Pass in the VistA device name used to print the 7079.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns:
 EXTERNAL ROUTINES:
  

DSIF SEARCH - SEARCH^DSIFENA4
 Used to search Fee Basis authorizations based on from and to dates.
 on error returns
 -1^error message
 PARAMETERS
  FROMDT
   TYPE:LITERAL
   Pass in FM date of Authorizations to start search 
  TODATE
   TYPE:LITERAL
   Pass in FM date of Authorizations to end search
 RETURN VALUE
  TYPE: ARRAY
  Same return as the RPC: DSIF AUTHLIST 
 EXTERNAL ROUTINES:
  

DSIF GET PRINTERS - GETPRINT^DSIFENA5
  
 Returns a list of exisiting VistA printers. Using routine: DEVICE^XUDHGUI
 PARAMETERS
  DSIFNAME
   TYPE:LITERAL
   Beginning point of printers to list.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
    Returns an array of printers, format: 
 EXTERNAL ROUTINES:
  

DSIF PRINT GENERIC REPORT - PRINTGEN^DSIFENA5
 PARAMETERS
  DEVICE
   TYPE:LITERAL
  INPUT
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DSIF BATCH STATUS - STATBAT^DSIFBAT3
 Used to return a list of a current batch out of Fee Basis.
  
 or -1^Batch not found,  Quitting
 PARAMETERS
  BATCH
   TYPE:LITERAL
   Pass in Batch number not IEN.
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  

DSIF GET OBLIG - GETOBLIG^DSIFBAT5
 Used to return a list of obligations based upon Control point and number 
 of years past to return.  Example, control point 038 with 2 years, will 
 return all obligations from control point 038 from today - two years 
 to today
  
 on error returns -1^error message
 PARAMETERS
  FUND CONTROL POINT
   TYPE:LITERAL
   Pass in the control point used to return current obligations.
  FBYEAR
   TYPE:LITERAL
   Years to search for existing obligations, default is current year and 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,"DSIFBAT5",0)=1 or -1^Error message
 EXTERNAL ROUTINES:
  

DSIF PAY PT VENDOR - VENDINFO^DSIFPAY0
 PARAMETERS
  DFN
   TYPE:LITERAL
   Displays demographic information for all vendors in a patient payment 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,"DSIFPAY0",0)=1^Vendor demographics: ^Patient name^SSN
 EXTERNAL ROUTINES:
  

DSIF PAY VENDOR DETAILS - VENDISP^DSIFPAY0
 PARAMETERS
  FBDA
   TYPE:LITERAL
   IEN of the Vendor in file Fee Basis Vendor File
 RETURN VALUE
  TYPE: GLOBAL ARRAY
    ^TMP($J,"DSIFPAY0",0)=1^Vendor details or -1^ERROR MESSAGE
 EXTERNAL ROUTINES:
  

DSIF CPT CR DISPLAY - CPT^DSIFPAY0
 Returns a list of the CPT notification (same as ^VACPT).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DSIF PAY PAYMENT DISPLAY - DISPAY^DSIFPAY1
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient IEN (File 161)
  VENDOR
   TYPE:LITERAL
   Vendor IEN (File 162)
  DATE OF SERVICE
   TYPE:LITERAL
   Fileman date of service
  CPT
   TYPE:LITERAL
   CPT code, (service provided)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,"DSIFPAY3",0)="Fee_prog"^Initial treatment date (int;ext)^Fee
 EXTERNAL ROUTINES:
  

DSIF PAY SCHEDULE - PAYSCH^DSIFPAY1
 Get pay schedule amounts by CPT, Modifiers and Zip code
 PARAMETERS
  CPT
   TYPE:LITERAL
  MODIFIERS
   TYPE:LITERAL
   CPT modifiers (external value), comma deliminted
  DATE OF SERVICE
   TYPE:LITERAL
   Entered in standard FM format:  CYYMMDD (time is not allowed here)
  ZIP
   TYPE:LITERAL
  VENDOR IEN
   TYPE:LITERAL
  TYPE OF SERVICE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  Amount to Pay:^(amount)^FEE SCHEDULE^Major 
 EXTERNAL ROUTINES:
  

DSIF TRANSMIT TO AUSTIN - TRANSMIT^DSIFPAY5
 Triggers batches to be transmitted to Austin.  Same as VistA menu: FBAA 
 QUEUE DATA FOR TRANS
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,"DSIFPAY5",0)= Message level or -1^error message
 EXTERNAL ROUTINES:
  

DSIF PAY GET REJECT ITEMS - GETREJ^DSIFPAY6
 Returns a list of rejects sorted by rejected Batches
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Output:  
 EXTERNAL ROUTINES:
  

DSIF DISP FEE CP - FBCP^DSIFBAT5
  Return a list of existing Control Points that the user has access to
 PARAMETERS
  FBSITE
   TYPE:LITERAL
   Site number that exists in file 161.4, field 27 (pointer to file #4)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,"DSIFBAT5",IEN)=IEN of Fund control point;Fund contol 
 EXTERNAL ROUTINES:
  

DSIF BATCH DISP OPEN - DISOPENB^DSIFBAT1
 Show open Fee Basis batches
 or
 -1^error message 
 -1^error message 
 PARAMETERS
  TYPE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
   OUTPUT(0)=1(Successful) or 0(No open batches)^Count of Open Batches
 EXTERNAL ROUTINES:
  

DSIF BATCH DELETE - DELBATCH^DSIFBAT1
 Used to delete an existing Batch for Fee Basis
  
 Return values:
 1^Batch [#] deleted
 -1^error message as below:
  
  ;;Total dollars>0
  ;;Invoice count>0
  ;;Payment lien count>0
  ;;Rejects pending flag is 'YES'
  ;;Batch has existing invoices
 PARAMETERS
  BATCH NUMBER
   TYPE:LITERAL
   Pass in batch IEN
 RETURN VALUE
  TYPE: SINGLE VALUE
  IF SUCCESSFUL
 EXTERNAL ROUTINES:
  

DSIF BATCH CLOSE - CLOSEBAT^DSIFBAT1
 Used to close an open batch for Fee Basis
 PARAMETERS
  BATCH NUMBER
   TYPE:LITERAL
   Pass in IEN of batch number
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  OUTPUT(0)=1 (successful) or -1 (error)^Message 
 EXTERNAL ROUTINES:
  

DSIF BATCH LIST ITEMS - LISTBAT^DSIFBAT2
 Used to display batch items from Fee Basis batch items.
 on error returns -1^error message
 PARAMETERS
  BATCH
   TYPE:LITERAL
   Pass in the number of an existing batch number (NOT IEN of Batch).
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Output:
 EXTERNAL ROUTINES:
  

DSIF BATCH RANGE OF STATUS - RANGEBAT^DSIFBAT2
 Used to display a list of batches based on a batch IEN.
  
 on error returns -1^error message
 PARAMETERS
  RANGE
   TYPE:LITERAL
   Input range of batch numbers in the format of n-nnn (or a single batch) 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
    FBOUT(0)=1 (or -1^message)  
 EXTERNAL ROUTINES:
  

DSIF BATCH EDIT - EDITBAT^DSIFBAT4
 Used to edit an existing batch in Fee Basis
 Returns 1^edit successfull 
 or
 -1^error message
 PARAMETERS
  FBIN
   TYPE:LIST
   Pass in an array formatted as follows:
  DUZ
   TYPE:LITERAL
   User IEN (Internal entry number), commonly referred to as DUZ.
 RETURN VALUE
  TYPE: SINGLE VALUE
  FBOUT=1^Edit was successful
 EXTERNAL ROUTINES:
  

DSIF BATCH OPEN USER - USERBATS^DSIFPAY0
 Returns splash screen of open batches identical to the routine ^FBAASTA
 PARAMETERS
  USER
   TYPE:LITERAL
   User IEN for open batches
 RETURN VALUE
  TYPE: ARRAY
  ARRAY(0)=1^COUNT  or -1^error
 EXTERNAL ROUTINES:
  

DSIF PAY GET VALUES - GETPAY^DSIFPAY0
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
     ^TMP($J,"DSIFPAY0","A",n)="Unauthorized claims 
 EXTERNAL ROUTINES:
  

DSIF PAY CREATE INVOICE - NEWINV^DSIFPAY2
 Retruns a new invoice number from GETNXI^FBAAUTL
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Successful:  "Invoice # "^220
 EXTERNAL ROUTINES:
  

DSIF PAY ALL PAYMENTS DISPLAY - EN1^DSIFPAY2
 Input DFN and Vendor IEN, to get a list of existing payments.
 Optional parameters are Date of service (FM date) and CPT IEN.
 PARAMETERS
  DFN
   TYPE:LITERAL
  VENDOR IEN
   TYPE:LITERAL
  DATE OF SERVICE
   TYPE:LITERAL
   Date of service FM format (optional) 
  CPT
   TYPE:LITERAL
   CPT code, external value.
 RETURN VALUE
  TYPE: ARRAY
  FBOUT(0)="1^('*'Reimb.to Patient '+'Cancel. Activity'#'Voided Pmt)"
 EXTERNAL ROUTINES:
  

DSIF PAY MED PAYMENT ADD/EDIT - EDITPAY^DSIFPAY3
 Use to add/edit Medical Payment data
 PARAMETERS
  IDENTIFIER
   TYPE:LITERAL
   IDENTIFIER=ID
  SERVICE
   TYPE:LITERAL
   SERVICE=[.01] Service provided:(1)
  DIAG
   TYPE:LITERAL
   DIAG=[28]Primary Diagnosis:(1)
  REMARKS
   TYPE:LITERAL
   REMARKS=IEN of remark:(1)
  MODS
   TYPE:LITERAL
   MODS=external value of modifier:(1)
  ADJUSTMENTS
   TYPE:LITERAL
   ADJUSTMENTS=IEN of adjustment:(1)
  FBSUSC
   TYPE:LITERAL
   Suspension comments
  FBSUS
   TYPE:LITERAL
   FBSUS=Amount suspended:(1)
 RETURN VALUE
  TYPE: SINGLE VALUE
  (Successful)
 EXTERNAL ROUTINES:
  

DSIF BATCH GET REJECTS - REJECTS^DSIFPAY1
 No input.
 Display batches with rejects pending
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Output=IEN of batch^Batch number^Obligation number^Rejects pending
 EXTERNAL ROUTINES:
  

DSIF PAY DELETE PAYMENT - DELPAY^DSIFPAY2
 Allows deletion of payment data based on flags supplied, usually requires 
 supervisor key.
 PARAMETERS
  PTID
   TYPE:LITERAL
   FBID=IEN of Fee Basis Patient file:(1)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Output=1^message
 EXTERNAL ROUTINES:
  

DSIF PAY FIX ALL REJ ITEMS - ALLMEDR^DSIFPAY2
 re-initiate all rejected line items in medical (B3) type batch
 PARAMETERS
  OLD BATCH
   TYPE:LITERAL
   Old Batch IEN
  NEW BATCH
   TYPE:LITERAL
   New Batch IEN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,"DSIFPAY6",FBIN,0)="Split"^FBIN^message regarding split status
 EXTERNAL ROUTINES:
  

DSIF PAY FIX SEL REJECT ITEMS - REINIT^DSIFPAY6
 PARAMETERS
  PATIENT IEN
   TYPE:LITERAL
   Patient IEN
  OLD BATCH
   TYPE:LITERAL
   Old rejected batch number (IEN)
  NEW BATCH
   TYPE:LITERAL
   New Batch IEN
  LINES
   TYPE:LITERAL
   Lines to re-initiate, format:  Line 1,Line 2,Line 3
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,DSIFPAY6",line#,0)=Line^line#^message
 EXTERNAL ROUTINES:
  

DSIF BATCH LIST BY STATUS - LISTSTAT^DSIFBAT2
 Returns a list of batches sorted by entered status (O^C)  [open and 
 closed]  Screens to users who opened and supervisors
 PARAMETERS
  STATUS
   TYPE:LITERAL
   Status to search: 
  FEE PROGRAM
   TYPE:LITERAL
  STARTDT
   TYPE:LITERAL
   Start date to display batches, defaults to all batches if not entered
  ENDDATE
   TYPE:LITERAL
   Enter the end of the date rand\ge to display default to all dates. 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Output:  ^TMP($J,"DSIFBAT2",0)="-1^error message"  
 EXTERNAL ROUTINES:
  

DSIF BATCH CREATE - NEWBAT^DSIFBAT1
 PARAMETERS
  OBLIGATION
   TYPE:LITERAL
  TYPE
   TYPE:LITERAL
  CONTROL POINT
   TYPE:LITERAL
   Control point, may be entered as "038" or the actual IEN "38"
  BATCH EMEMPT
   TYPE:LITERAL
   Optional (not used) for B3 batches,
 RETURN VALUE
  TYPE: SINGLE VALUE
  Inputs: FBOBL = Obligation numer, format Statnum-Obligation number
 EXTERNAL ROUTINES:
  

DSIF BATCH PAYMENTS DISPLAY - BATPAY^DSIFPAY2
 Show all payments in a batch
 PARAMETERS
  BATCH
   TYPE:LITERAL
   Batch IEN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   ;Output:  ^TMP($J,"DSIFPAY2",0) = "Batch"^Batch IEN;Batch number^Items 
 EXTERNAL ROUTINES:
  

DSIF BATCH RELEASE - RELBAT^DSIFBAT3
 PARAMETERS
  BATCH NUMBER
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  '*' Reimbursement to Patient   '+' Cancellation Activity
 EXTERNAL ROUTINES:
  

DSIF BATCH FINALIZE - FINALIZE^DSIFBAT5
 PARAMETERS
  BATCH IEN
   TYPE:LITERAL
  REJECT LINES
   TYPE:LIST
   B3 Batches: REJL(line)=Pmt ID
  REJECT ALL
   TYPE:LITERAL
   1 (yes) 0 (no)
 RETURN VALUE
  TYPE: ARRAY
  FBOUT(0)=1 or -1^message
 EXTERNAL ROUTINES:
  

DSIF BATCH DISP ITEMS - BATDISP^DSIFBAT4
 Returns exsiting items in a batch to use to edit an existing batch
 PARAMETERS
  BATCH IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DSIF BATCH REASSIGN - REASSIGN^DSIFBAT4
 Used to reassign an open batch from one user to a second user, must have 
 the FBAASUPERVISOR key to use.
 PARAMETERS
  OLD USER
   TYPE:LITERAL
   DUZ of Existing user that batch is assigned to currently.
  New User
   TYPE:LITERAL
   DUZ of user to reassign batch to.
  Batch
   TYPE:LITERAL
   Batch IEn to reassign
 RETURN VALUE
  TYPE: SINGLE VALUE
  OUT=1^Batch IEN;Batch Number^Old Username^New Username
 EXTERNAL ROUTINES:
  

DSIF BATCH REOPEN - REOPENB^DSIFBAT1
 PARAMETERS
  BATCH
   TYPE:LITERAL
   Enter bacth number, not IEN
 RETURN VALUE
  TYPE: SINGLE VALUE
   Output: "1^Batch re-opened" or -1^error message
 EXTERNAL ROUTINES:
  

DSIF PAY ALL BATCH - ALLPAYB^DSIFPAY1
 Return all payments in a batch IEN
 PARAMETERS
  BATCH IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
  FBOUT(CNT)=cnt^patient^vendor^service date^CPT
 EXTERNAL ROUTINES:
  

DSIF PAY READMAIL - MAIL^DSIFPAY6
 PARAMETERS
  MESSAGE IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Input:  Message IEN
 EXTERNAL ROUTINES:
  

DSIF PAYMENT HISTORY - LIST^DSIFRPT2
 This is an RPC version of the LIST PAYMENT HISTORY option in the Fee 
 Basis application.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the Internal Entry Number to the Patient File #2.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This is gong to be a global array containing the human readable format of 
 EXTERNAL ROUTINES:
  

DSIF GENERIC PRICER - GENERIC^DSIFINP3
 Used to build a transaction to send to the Austin Pricer system
 this data will NOT be stored anywhere. It serves only as a tool to
 determine reimbursement rates.  
 PARAMETERS
  NAME
   TYPE:LITERAL
   NAME = "Lastname,Firstname MI;DOB (date);SSN;SEX"
  VENDAT
   TYPE:LITERAL
   VENDAT = "Vendor name;Medicare ID;State (VistA Abreviation 2 Alpha)"
  ADMDAT
   TYPE:LITERAL
   ADMDAT = "Admission date;Discharge date;Admitting Authority 
  REIMB
   TYPE:LITERAL
   REIMB = "Patient Reimbursement (0/1);Payment by Medicare or Other Federal 
  ICD
   TYPE:LITERAL
   ICD = "ICD1;ICD2;ICD3:ICD4;ICD5" [ICD1 is Mandatory - Primary Diagnosis]
  PROC
   TYPE:LITERAL
   PROC = "PROC1;PROC2;PROC3"  [PROC1 is mandatory, Primary procedure]
  CHARGES
   TYPE:LITERAL
   CHARGES = "Billed Charges;Amount Claimed"
 RETURN VALUE
  TYPE: SINGLE VALUE
  FBOUT="1^Case sent to pricer."
 EXTERNAL ROUTINES:
  

DSIF INP GET VALUES - GETVALS^DSIFINP0
 Return values needed for drop down boxes in Inpatient Authorizations
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  List values needed for selection screens, no 
 EXTERNAL ROUTINES:
  

DSIF INP PATIENT REG - REG^DSIFNOT3
 This RPC will add entries to file 162.2 FEE NOTIFICATION/REQUEST FILE.  
 The logic was taken from routine: FBCHREQ* and edit template FBCH ENTER 
 REQUEST.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient File (#2) pointer (Required)
  DATE
   TYPE:LITERAL
   Date and Time (Required - FM format)
  VNDR
   TYPE:LITERAL
   Vendor (Required - Pointer to file 161.2 FEE BASIS VENDOR)
  DTOA
   TYPE:LITERAL
   Date & Time of Admission (Required - FM format)
  PERS
   TYPE:LITERAL
   This is a free text field that contains the name of the person who is 
  IEN
   TYPE:LITERAL
   Internal Entry Number to file 162.2 FEE NOTIFICATION/REQUEST (Optional - 
  ADMDX
   TYPE:LITERAL
   This is the admitting diagnosis of the veteran which is usually obtained 
  ATPHY
   TYPE:LITERAL
   Attending Physician (Optional - Free Text)
  ATPHPH
   TYPE:LITERAL
   This field contains the phone number of the attending physician while the 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP CHECK INCOMPLETE NOTE - CHKINOT^DSIFNOT3
 This RPC will check to see if there is an incomplete 7078 for this 
 patient.  If one exists then there cannot be a new request added.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient File Pointer (File #2, Required)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Value
 EXTERNAL ROUTINES:
  

DSIF INP CHECK OVERLAP DATES - CHKOVLP^DSIFNOT3
 This RPC checks the from and to dates to make sure they do not overlap 
 with another request.  Logic copied from FBAAUTL2.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient File Pointer (File #2, Required)
  FBBEGDT
   TYPE:LITERAL
   From Date to check (FM format, Required)
  FBENDDT
   TYPE:LITERAL
   To Date (FM format, Optional)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP OBLIG LOOKUP - OBLLIST^DSIFINP0
 Input Control Point, return obligations and amounts
 PARAMETERS
  FCP
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  (0)=1^count  or -1^error message
 EXTERNAL ROUTINES:
  

DSIF INP DISP DISPLAY - DISP^DSIFINP0
 Returns inpatient waiting disposition
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  @FBOUT@ = ^TMP($J,"DSIFINP0")
 EXTERNAL ROUTINES:
  

DSIF INP GET NOTIFICATIONS - GETNOTES^DSIFINP0
 Pass in existing patient IEN, returns a list of existing notifications
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Pass in Patient IEN 
 EXTERNAL ROUTINES:
  

DSIF INP GET 7078 - GET7078^DSIFINP0
 Pass in Patient IEN, returns a list of existing 7078's. 
 PARAMETERS
  DPT
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Pass in Patient IEN (DPT)
 EXTERNAL ROUTINES:
  

DSIF INP ENTITLEMENTS - ENTS^DSIFNOT3
 This RPC enters the Legal and Medical Entitlements in prep for the 
 creation of the 7078.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient File Pointer (File #2, Required)
  IEN
   TYPE:LITERAL
   Internal Entry Number for File 162.2 FEE NOTIFICATION/REQUEST (Required)
  LEME
   TYPE:LITERAL
   Legal, Medical Indicators (Multi-Piece Legal Entitlement;Medical 
  SUSP
   TYPE:LITERAL
   Suspense Code (Pointer to file 161.27, Required if Legal or Medical is 0)
  SDESC
   TYPE:LIST
   Suspense Description (WP Array MUST START WITH 1. Only used if Suspense 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Value
 EXTERNAL ROUTINES:
  

DSIF INP VALID FOR 7078 - CHK7078^DSIFNOT4
 This PRC preforms some basic checks on an entry in file 162.2 to see if 
 it is complete enough to create a 7078.
 PARAMETERS
  REQ
   TYPE:LITERAL
   Internal Number of Request (Required, Pointer to file 162.2)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP ENTER 7078 - EN7078^DSIFNOT4
 This RPC enters a 7078, updates the FEE BASIS PATIENT FILE, and calls 
 IFCAP to post the 1358.
 PARAMETERS
  REQ
   TYPE:LITERAL
   Internal Number of Request (Required, Pointer to file 162.2)
  OBNUM
   TYPE:LITERAL
   Obligation Number (Required, complete with sequence number after the '.')
  AUTODT
   TYPE:LITERAL
   Authorized TO Date (Required, FM Date - Must be later than Authorized 
  DSCHDT
   TYPE:LITERAL
   Discharge Date (Optional, FM Date - Must not be earlier than AUTODT)
  AUTH
   TYPE:LITERAL
   Admitting Authority (Required, Pointer to file 43.4 VA ADMITTING 
  ESTAMT
   TYPE:LITERAL
   Estimated cost to the Veteran, will be passed to IFCAP (Required, Numeric 
  PATYP
   TYPE:LITERAL
   Patient Type (Required, Set of Codes)
  PDISP
   TYPE:LITERAL
   Reason for Pending Disposition (Optional, Required if AUTODT is null)
  DCHTYP
   TYPE:LITERAL
   Discharge Type (Required, Set of Codes)
  POV
   TYPE:LITERAL
   Purpose of Visit (Optional - Pointer to file 161.82 FEE BASIS PURPOSE OF 
  PSA
   TYPE:LITERAL
   Primary Service Area (Required - Pointer to file 4 INSITIUTION)
  ACCR
   TYPE:LITERAL
   Accident Related (Optional Yes/No - Y : Yes, N : No)
  PCRC
   TYPE:LITERAL
   Potential Cost Recovery Case (Required Yes/No - Y : Yes, N : No [DEFAULT 
  AUTHSVC
   TYPE:LIST
   Authorized Services (Word Processing - Default text from Site Parameter 
  REFPROV
   TYPE:LITERAL
   Referring Provider (Optional - Pointer to file 200 NEW PERSON)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP CANCEL 7078 - CAN7078^DSIFNOT2
 This RPC will mark the 7078 cancelled and if possible remove the Non-VA 
 PTF record and make modifications to the 1358.  Logic cloned from 
 existing routine FBCHC78.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Pointer to file 162.4 VA FORM 10-7078 (Required)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP CHECK CANCEL 7078 - CANCHK^DSIFNOT2
 This RPC does some basic checks on a 7078 to see if can be cancelled.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Pointer to file 162.4 VA FORM 10-7078 (Required)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP LIST AUSTIN MESSAGES - LISTMESS^DSIFPAY6
 Retrieve a list of Austin messages for Pricer adjustments.
 PARAMETERS
  FROM DATE
   TYPE:LITERAL
   Date to start from in FM format.
  STOP DATE
   TYPE:LITERAL
   Date to stop listing messages in FM format (today - default
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,"DSIFPAY6",0)=1^Message returned count^StartDate^EndDate 
 EXTERNAL ROUTINES:
  

DSIF INP PROC LOOKUP - LOOKUP^DSIFINP1
 Pass in text for a lookup of Procedure codes (File #80.1)
 PARAMETERS
  TEXT
   TYPE:LITERAL
  NUMBER
   TYPE:LITERAL
   Enter number of values to return for the lookup.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,"DSIFINP1",0)=1^count  or -1^error message
 EXTERNAL ROUTINES:
  

DSIF INP PROCEDURE - PROCLK^DSIFINP1
 Pass in procedure number of IEN of procedure (File #80.1) for a 
 description and IEN 
 PARAMETERS
  CODE
   TYPE:LITERAL
  DATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  FBOUT=1^COUNT  or -1^error message
 EXTERNAL ROUTINES:
  

DSIF INP AUTHORIZATION LIST - AUTH^DSIFEP
 This RPC will return a list of Authorizations from the FEE BASIS PATIENT 
 File #161.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Pointer to FEE BASIS PATIENT File #161
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIF INP ADD/EDIT PAYMENT - EN^DSIFEP
 This RPC is a background version of the FBCHEP routine to enter and edit 
 payments for Fee Basis Patients.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Pointer to Patient File #2 (Required - also must be in FEE BASIS PATIENT 
  FB7078
   TYPE:LITERAL
   Pointer to 7078 File #162.4 (Required)
  AUTH
   TYPE:LITERAL
   Authorization IEN from AUTHORIZATION multiple of FEE BASIS PATIENT File 
  DATA
   TYPE:LIST
   List of Data formatted FIELD # 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP ADD AUTH - ADD^DSIFINP2
 This RPC is used to pass in an array of values to add a new 
 Inpatient Authorization.  It does verification for required data.
 PARAMETERS
  ARRAY
   TYPE:LIST
    Input array values (add/edit RPC's)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Successful:  "1^Entry number #n added succesfully"
 EXTERNAL ROUTINES:
  

DSIF INP EDIT AUTH - EDIT^DSIFINP2
 Used to edit an existing Inpatient authorization in Fee Basis.
 Returns 1^edit successful
 or
 -1^error message (Invalid patient, invalid authorization, etc)
 PARAMETERS
  ARRAY
   TYPE:LIST
    (1)=Patient
 RETURN VALUE
  TYPE: SINGLE VALUE
  Successful:  "1^Entry number #n updated successfully"
 EXTERNAL ROUTINES:
  

DSIF INP DELETE INVOICE - DELINV^DSIFEP
 This RPC is a copy of FBCHDIN logic removing the user interaction.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number for FEE BASIS INVOICE File #162.5
  BAT
   TYPE:LITERAL
   Internal Entry Number for FEE BASIS BATCH File #161.7
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP LIST BATCH INVOICES - LSTINV^DSIFEP
 This RPC will return the IEN's to the FEE BASIS INVOICE File #162.5.  
 These a derived from the "AC" index for a given Batch IEN.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number of FEE BASIS BATCH File #161.7
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIF INP CHK DEL BATCH - VALDEL^DSIFEP
 This RPC checks the validity of a given batch for ownership and status to 
 determine if an invoice in this batch can be deleted.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number of FEE BASIS BATCH File #161.7
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP CENSUS REPORT - CENSUS^DSIFRPT
 This is an RPC version of the FBCNHCEN routine to produce the Fee Basis 
 Census Report.
 PARAMETERS
  FBDT
   TYPE:LITERAL
   Census Date in FileMan format.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIF INP HOSPITAL COST RPT - COSTRPT^DSIFRPT0
 This is an RPC version of the CIVIL HOSPITAL COST REPORT as found in 
 routines FBCHCR anc FBCHCR1.
 PARAMETERS
  BEGDATE
   TYPE:LITERAL
   Begining Date (Required : FileMan format)
  ENDDATE
   TYPE:LITERAL
   Ending Date (Required : FileMan format)
  FBRT
   TYPE:LITERAL
   Report Type (Optional : D = Detailed, S = Summary, Default = Summary)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIF INP NON-VA HOSP ACTIVITY - START^DSIFRPT1
 This is an RPC version of the NON-VA HOSPITAL ACTIVITY report.
 PARAMETERS
  FBENDDT
   TYPE:LITERAL
   Last Day of the Month for the report (Required, FileMan format)
  FBK
   TYPE:LITERAL
   Report Hospital Type (Required, 1 = Public Hospital, 2 = Private 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIF INVOICE DISPLAY - INVDISP^DSIFINP4
 Enter Batch or Invoice number
 PARAMETERS
  BATCH
   TYPE:LITERAL
   Batch IEN
  INVOICE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a list in ^TMP($J,"DSIFINP4")
 EXTERNAL ROUTINES:
  

DSIF AUTH DISPLAY - AUTH^DSIFENA6
 Pass in a DFN and an Auth IEN to see all data for that Auth
 PARAMETERS
  DFN
   TYPE:LITERAL
  AUTH
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Output:  
 EXTERNAL ROUTINES:
  

DSIF PAT/VEN PAYMENT REPORT - EN^DSIFRPT3
 This is an RPC version of the FBPAY routines.
 PARAMETERS
  FBSORT
   TYPE:LITERAL
   Sort Indicator (1 = Patient, 0 = Vendor - Default = 0)
  FBIEN
   TYPE:LITERAL
   Patient/Vendor Internal Entry Number (File 161/161.2 respectively)
  FBBDATE
   TYPE:LITERAL
   Begining Date for report (FileMan Format)
  FBEDATE
   TYPE:LITERAL
   Ending Date for report (FileMan Format)
  FB1725R
   TYPE:LITERAL
   Mill-Bill indicator only used if PROGS passes in Fee Programs with 
  PROGS
   TYPE:LIST
   List of Fee Programs to include on report (Multi-piece IEN 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  -1 ^ Invalid Input!
 EXTERNAL ROUTINES:
  

DSIF INP PAYMENT LIST - LOOKUP^DSIFEP1
 This RPC returns a list of all entries in file 162.5 for a given entry in 
 7078.
 PARAMETERS
  FB7078
   TYPE:LITERAL
   Internal Entry Number to file 162.4
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIF INP GET PAYMENT - EN^DSIFEP1
 This RPC retrieves data from file 162.5 for display in the edit process.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number to file 162.5
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIF INP 7078 PRT - PRT7078^DSIFENA6
 Print 7078
 PARAMETERS
  FB7078
   TYPE:LITERAL
   IEN of 7078.
  DEVICE
   TYPE:LITERAL
   VistA Print device
  OFFICIAL
   TYPE:LITERAL
  TITLE
   TYPE:LITERAL
  COPIES
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  1^Successfully queued^Task  
 EXTERNAL ROUTINES:
  

DSIF INP 7078 PRTVAL - GETVAL^DSIFENA6
 Enter Patient IEN to get a list of 7078's not cancelled
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP($J,"DSIFENA6",0)=1(or -1)^Name of Approving official^Title^# Copies
 EXTERNAL ROUTINES:
  

DSIF INP NEW 7078 OBLIGATION - NEWOBL^DSIFNOT4
 PARAMETERS
  FB VENDOR IEN
   TYPE:LITERAL
  FM ADMIT DATE
   TYPE:LITERAL
  PATIENT IEN
   TYPE:LITERAL
  FUND CONTROL POINT
   TYPE:LITERAL
  OBLIGATION NUMBER
   TYPE:LITERAL
  NOTIFICATION IEN
   TYPE:LITERAL
   IEN to file 162.2 (Notification)
  EST AMOUNT
   TYPE:LITERAL
   Estimated amount of 7078 Obligation.
 RETURN VALUE
  TYPE: SINGLE VALUE
  1^[new obligation number sequence]
 EXTERNAL ROUTINES:
  

DSIF PATIENT REG - REG^DSIFNOT3
 This RPC will add entries to file 162.2 FEE NOTIFICATION/REQUEST FILE.  
 The logic was taken from routine: FBCHREQ* and edit template FBCH ENTER 
 REQUEST.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient File (#2) pointer (Required)
  DATE
   TYPE:LITERAL
   Date and Time (Required - FM format)
  VNDR
   TYPE:LITERAL
   Vendor (Required - Pointer to file 161.2 FEE BASIS VENDOR)
  DTOA
   TYPE:LITERAL
   Date & Time of Admission (Required - FM format)
  PERS
   TYPE:LITERAL
   This is a free text field that contains the name of the person who is 
  IEN
   TYPE:LITERAL
   Internal Entry Number to file 162.2 FEE NOTIFICATION/REQUEST (Optional - 
  ADMDX
   TYPE:LITERAL
   This is the admitting diagnosis of the veteran which is usually obtained 
  ATPHY
   TYPE:LITERAL
   Attending Physician (Optional - Free Text)
  ATPHPH
   TYPE:LITERAL
   This field contains the phone number of the attending physician while the 
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF CHECK INCOMPLETE NOTE - CHKINOT^DSIFNOT3
 This RPC will check to see if there is an incomplete 7078 for this 
 patient.  If one exists then there cannot be a new request added.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient File Pointer (File #2, Required)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Value
 EXTERNAL ROUTINES:
  

DSIF CHECK OVERLAP DATES - CHKOVLP^DSIFNOT3
 This RPC checks the from and to dates to make sure they do not overlap 
 with another request.  Logic copied from FBAAUTL2.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient File Pointer (File #2, Required)
  FBBEGDT
   TYPE:LITERAL
   From Date to check (FM format, Required)
  FBENDDT
   TYPE:LITERAL
   To Date (FM format, Optional)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF REQUEST ENTER/EDIT - EN^DSIFNOT6
 This RPC duplicates the logic from FBCHREQ* routines and the FBCH ENTER 
 REQUEST input template.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number to file 162.2 (Enter mode when false, Edit mode 
  REQDT
   TYPE:LITERAL
   Request Date/Time (Required on enter, optional on edit)
  DFN
   TYPE:LITERAL
   Patient IEN (Required on enter, optional on edit)
  VEN
   TYPE:LITERAL
   Vendor IEN (Required on enter, optional on edit)
  WHO
   TYPE:LITERAL
   Person Who Called (Optional - Free Text 3 to 30 Characters)
  ADMDT
   TYPE:LITERAL
   Admission Date/Time (Required on enter, optional on edit)
  AUTHDT
   TYPE:LITERAL
   Authorized From Date/Time (Optional - Default is ADMDT)
  ADMDX
   TYPE:LITERAL
   Admitting Diagnosis (Optional - Free Text 3 to 45 Characters)
  ATPHY
   TYPE:LITERAL
   Attending Physician (Optional - Free Text 3 to 30 Characters)
  PHYPH
   TYPE:LITERAL
   Attending Physicians Phone Number (Optional - Free Text 3 to 20 
  TOC
   TYPE:LITERAL
   Type of Contact (Optional - T : Telephone, P - Personal)
  REFPROV
   TYPE:LITERAL
   Referring provider, pointer to file 200.  "@" can be passed in for 
 RETURN VALUE
  TYPE: SINGLE VALUE
  -1 ^ Invalid/Missing Parameter(s)!
 EXTERNAL ROUTINES:
  

DSIF INP EDIT 7078 - ED7078^DSIFNOT6
 This RPC allows the update of certain fields in the 7078 and FEE PATIENT 
 files.
 PARAMETERS
  FB7078
   TYPE:LITERAL
   Internal Entry Number for 7078 (Required)
  AUTHFRDT
   TYPE:LITERAL
   Authorized From Date (Optional - FileMan Date)
  AUTHTODT
   TYPE:LITERAL
   Authorized To Date (Optional - FM Date)
  DSCHDT
   TYPE:LITERAL
   Discharge Date (Optional - FM Date)
  ADMAUTH
   TYPE:LITERAL
   Admitting Authority (Optional, Pointer to file 43.4 VA ADMITTING 
  POV
   TYPE:LITERAL
   Purpose of Visit (Optional - Pointer to file 161.82 FEE BASIS PURPOSE OF 
  PSA
   TYPE:LITERAL
   Primary Service Area (Required - Pointer to file 4 INSITIUTION)
  ACCREL
   TYPE:LITERAL
   Accident Related (Optional Yes/No - Y : Yes, N : No)
  PCR
   TYPE:LITERAL
   Potential Cost Recovery Case (Optional Yes/No - Y : Yes, N : No [DEFAULT 
  PATYP
   TYPE:LITERAL
   Patient Type (Optional, Set of Codes - 00 = Surgical; 10 = Medical; 86 = 
  REFPROV
   TYPE:LITERAL
   Referring Provider (Optional - Pointer to file 200 NEW PERSON)
  PENDISP
   TYPE:LITERAL
   Pending Disposition (Optional) 
  AUTHSVC
   TYPE:LIST
   WP Array, must start with a value of (1)=[text]
 RETURN VALUE
  TYPE: SINGLE VALUE
  -1 ^ Invalid 7078 Number!
 EXTERNAL ROUTINES:
  

DSIF INP ADD ROC - ADD^DSIFROC
 This RPC duplicates the logic of the FBCH ADD ROC input template for file 
 161.5.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number of Contact/Fee Notification (Required - Pointer to 
  DTOCT
   TYPE:LITERAL
   Date & Time of Contact (Required - FileMan Date/Time)
  NARR
   TYPE:LIST
   Narrative (Optional - Word Processing Array)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP EDIT ROC - ROCEDIT^DSIFINP1
 This RPC duplicates the logic of the FBCH EDIT ROC input template.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number of Contact/Fee Notification (Required - Pointer to 
  DATA
   TYPE:LIST
   DATA(n)="Field
  CTADDR
   TYPE:LITERAL
   CTADDR - Contacts Address info (Optional - Multi-piece ";" delimited)
  ATPHY
   TYPE:LITERAL
   Attending Physician (Optional - Free Text 3 to 30 characters)
  ATPHYPH
   TYPE:LITERAL
   Attending Physician Phone (Optional - Free Text 3 to 20 characters)
  OTHINS
   TYPE:LITERAL
   Veteran Have Other Insurance (Optional - "Y" = Yes, "N" = No)
  INSTYP
   TYPE:LITERAL
   Insurance Type (Optional as stated in OTHINS - Free Text 3 to 30
  MOTR
   TYPE:LITERAL
   Mode of Transportation (Optional - Pointer to file 392.4 BENEFICIARY 
  APPOFF
   TYPE:LITERAL
   Approving Official (Optional - Pointer to file 200 NEW PERSON)
  DTOCT
   TYPE:LITERAL
   Date & Time of Contact (Optional - FileMan Date/Time)
  NARR
   TYPE:LIST
   Narrative (Optional - Word Processing Array)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF INP 7078 EDIT CHECK - EDTCHK^DSIFUTL
 This RPC is used to see if there is at least one payment on file for a 
 given 7078.  This is needed by the GUI so it won't allow the user to edit 
 a 7078 if a payment exists.
 PARAMETERS
  IEN
   TYPE:LITERAL
   Internal Entry Number for 7078
 RETURN VALUE
  TYPE: SINGLE VALUE
  Return Values
 EXTERNAL ROUTINES:
  

DSIF VIEW INVOICE - INDISP^DSIFPAY7
 An RPC used to display all fields of file 162.5
 PARAMETERS
  IEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns a list of file 162.5 in the format:
 EXTERNAL ROUTINES:
  

DSIF UNA GET REASONS - GETVAL^DSIFUCEN
 Get values from 162.93, using API: DISP9^FBUCUTL5(162.93)
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  ^TMP("FBAR",6008,1)="1;MISSING FORM 10-583"
 EXTERNAL ROUTINES:
  

DSIF INP COMPLETE PAYMENT - COMP^DSIFEAP
 Logic cloned from FBCHEAP to complete a CH payment
 PARAMETERS
  DATA
   TYPE:LIST
   ; [*n should start with 1]
  PRICEX
   TYPE:LITERAL
    Invoice Pricer exempt flag (1 - Yes, Null for no)
  MEDICARE ID
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

DSIF INP PRICER RELEASE - PRICER^DSIFBAT7
 RPC to release a CH (B9) batch to the pricer.
 PARAMETERS
  BATNUM
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  -1^error message
 EXTERNAL ROUTINES:
  

DSIF INP NOTIFICATION DELETE - DELNOTF^DSIFINP1
 Delete notificatio and ROC if 7078 pointer not present
 PARAMETERS
  NOTEIEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  1^Request deleted
 EXTERNAL ROUTINES:
  

DSIF UNA ADD PAYMENT - EN^DSIFPAU
 Add/edit Unauthorized payments
 PARAMETERS
  DSIFIN
   TYPE:LITERAL
    ;       Piece  1 
  DSIFIN1
   TYPE:LITERAL
    ;     DSIFIN1 - Input string, pieces below
  MODIFIERS
   TYPE:LITERAL
   CPT modifiers, comma delimited, 4 maximum
  CHDATA
   TYPE:LIST
    ;Input Parameters
  REMARKS
   TYPE:LITERAL
    FBRRMK -  (Optional), literal passed by reference
  ADJUSTMENTS
   TYPE:LITERAL
   array of adjustments to file  array does not have to contain any data or 
  MEDDATA
   TYPE:LITERAL
   (Required for Med payments)
 RETURN VALUE
  TYPE: SINGLE VALUE
  DSIFOUT for Med = "1^ID"
 EXTERNAL ROUTINES:
  

DSIF UNA GET POINTER IEN - GETAUTH^DSIFPAU
 PARAMETERS
  DFN
   TYPE:LITERAL
  AUTHIEN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

DSIF AUTH VERIFY AUTH - VERIFY^DSIFENA3
 Look to see if a patient has a valid authorization and if it has payments 
 against it.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient IEN
  AUTH IEN
   TYPE:LITERAL
   Internal Number of the Authorization
 RETURN VALUE
  TYPE: SINGLE VALUE
  1^Auth has payments
 EXTERNAL ROUTINES:
  

DSIF UTL GETDATA - GETDATA^DSIFUTL
 Given an XQAID, return XQADATA for an alert.
 PARAMETERS
  XQAID
   TYPE:LITERAL
   INPUT PARAMETER
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURNS:
 EXTERNAL ROUTINES:
  

DSIF UTL SELCHK - SELCHK^DSIFUTL
 Check for sensitive patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
   INPUT PARAMETER
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURNS
 EXTERNAL ROUTINES:
  

DSIF INP INVOICE CHECK - INVCHK^DSIFUTL
 Pass in the IEN of the 7078 or the 583 file, and the file (7078 or 583)
  
 Returns the Invoice number(s) linked to the 7078 or 583 if one exists.
 PARAMETERS
  IEN
   TYPE:LITERAL
   IEN of file 7078 or 583.
  FILE
   TYPE:LITERAL
    Must be "583" (Unauthorized)
 RETURN VALUE
  TYPE: SINGLE VALUE
  Outputs:  
 EXTERNAL ROUTINES:
  

ORAM1 COMPTEST - COMPTEST^ORAM1
 Files complications for the current flowsheet entry.
 PARAMETERS
  COMMARR
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DIK,IX^DIK,IX2^DIK,DT^DILF,$$NOW^XLFDT

ORAM1 PTENTER - PTENTER^ORAM1
 Adds a new patient to the Anticoagulation Flowsheet file (#103).
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^DICN

ORAM1 FLOWTT - FLOWTT^ORAM1
 Retrieves flowsheet data for the current patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$FMTE^XLFDT

ORAM1 PCGOAL - PCGOAL^ORAM1
 Calculates percent in goal from filed INR entries for Anticoagulation
 Management patients - can do either Stable or all patients (pass 1 as 
 second parameter for stable).
 PARAMETERS
  DFN
   TYPE:LITERAL
  CMPLX
   TYPE:LITERAL
   OPTIONAL,  IF MISSING, CLACULATES ON ALL VISITS; IF 1 ONLY CALCULATES ON 
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORAM1 ACDATA - ACDATA^ORAM1
 Retrieves record header information (e.g., indication for treatment,
 permissions, risks, goals, etc.) for the current patient.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  FILE^DICN,$$FMTE^XLFDT

ORAM1 ADDTOP - ADDTOP^ORAM1
 Files record header information for the current patient and care episode.
 PARAMETERS
  TOPARR
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  NOW^%DTC,DT^DILF

ORAM1 LOCK - LOCK^ORAM1
 Sets lock in Anticoagulation Flowsheet file (#103) so that only one person
 can edit a given patient's record at a time.
 PARAMETERS
  DATA
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  DFN^DUZ
 EXTERNAL ROUTINES:
  NOW^%DTC

ORAM1 LOG - LOGIT^ORAM1
 Updates Anticoagulation Flowsheet file (#103) and adds log entry.
 PARAMETERS
  FSARRAY
   TYPE:LIST
  COMP
   TYPE:LITERAL
   COMP=0 Will remove this entry's complication indication code (instead of
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  NOW^%DTC,IX^DIK,DT^DILF

ORAM1 OUTINR - OUTINR^ORAM1
 Receives outside INR values and returns value^date (in $H format) for 
 graphing.
 PARAMETERS
  INRSTRING
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  H^%DTC,DT^DILF,$$FMTE^XLFDT

ORAM1 PTCHECK - PTCHECK^ORAM1
 Boolean RPC. Checks to see if patient is in Anticoagulation Flowsheet file
 (#103).
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORAM1 GETPT - GETPT^ORAM1
 Returns list of patients from Anticoagulation Flowsheet file (#103).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORAM1 TERASE - TERASE^ORAM1
 Removes a patient from the Anticoagulation Team List.
 PARAMETERS
  DFN
   TYPE:LITERAL
  COMP
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  ^DIK,$$EXTERNAL^DILFD,$$GET^XPAR

ORAM1 UNLOCK - UNLOCK^ORAM1
 Unlocks a patient's record in the Anticoagulation Flowsheet file (#103).
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORAM2 NOACT - NOACT^ORAM2
 Checks Anticoagulation Flowsheet file (#103) for patients not seen within
 the user-specified number of days.
 PARAMETERS
  DAYS
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$SETSTR^VALM1,$$FMADD^XLFDT,$$FMTE^XLFDT,$$NOW^XLFDT

ORAM2 SHOWRATE - SHOWRATE^ORAM2
 Returns percentage of visits in which the patient was on time or within
 one day (before or after) scheduled draw date.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  DT^DILF,$$FMADD^XLFDT,$$FMDIFF^XLFDT

ORAM2 PTAPPT - PTAPPT^ORAM2
 Returns the number of patients scheduled in the Anticoagulation clinic per
 day for the next 30 days.  Only days with appointments are displayed.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$FMADD^XLFDT,$$FMTE^XLFDT

ORAM2 REMIND - REMIND^ORAM2
 Sets date and text for ACM Reminder (can also be set as part of a complete
 visit entry).
 PARAMETERS
  DFN
   TYPE:LITERAL
  DATE
   TYPE:LITERAL
   Date the patient specific reminder that will start appearing when the
  RTEXT
   TYPE:LITERAL
   Actual carrot ('
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  NOW^%DTC,IX^DIK,DT^DILF

ORAM2 TEAMCHK - TEAMCHK^ORAM2
 Checks list of teams to be sure they are in the OE/RR LIST file (#100.21),
 and returns the IEN and Clinic Name.
 PARAMETERS
  TEAMS
   TYPE:LIST
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORAM2 ALLGOAL - ALLGOAL^ORAM2
 Returns the percentage of patients in the Anticoagulation Flowsheet file
 (#103) whose last INRs (within the specified number of days) were in-goal.
 PARAMETERS
  DAYS
   TYPE:LITERAL
   NUMBER OF DAYS BACK TO INCLUDE A PT VISIT
  CLINIC
   TYPE:LITERAL
   IEN of Clinic in Hospital Location File.
 RETURN VALUE
  TYPE: ARRAY
  RETURNS A DELIMINITED LIST OF THOSE PT'S OUT OF RANGE ON THEIR LAST VISIT.
 EXTERNAL ROUTINES:
  $$SETSTR^VALM1,$$FMADD^XLFDT,$$NOW^XLFDT

ORAM3 PTADR - PTADR^ORAM3
 Retrieves contact information. Will also check for active temporary 
 information.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORAM3 COMPENT - COMPENT^ORAM3
 Enters complication note into the Anticoagulation Flowsheet file (#103).
 Can also be entered as part of a complete visit entry.
 PARAMETERS
  DFN
   TYPE:LITERAL
  DUZ
   TYPE:LITERAL
  CCODE
   TYPE:LITERAL
   CODE TO NOTE IF COMPLICATION IS MAJOR, MINOR OR BOTH
  CTEXT
   TYPE:LITERAL
   Carroted ('
  CDATE
   TYPE:LITERAL
   'ENGLISH' DATE OF THE COMPLICATION;
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns a 1 if filed.
 EXTERNAL ROUTINES:
  NOW^%DTC,UPDATE^DIE,DT^DILF

ORAM3 PTFONE - PTFONE^ORAM3
 Gets home phone^work phone for the patient in question.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORAM CONCOMP - CONCOMP^ORAM
 Receives the Consult Number, the note number and the DUZ; completes the
 consult with the note.
 PARAMETERS
  ORAMCNUM
   TYPE:LITERAL
  ORAMNUM
   TYPE:LITERAL
  DUZ
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  GET^GMRCTIU,$$STATUS^TIULC

ORAMSET GET - GET^ORAMSET
 Returns the Anticoagulation Manager parameters for the division which the
 user is logged into.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  SITE NAME^PATIENT LIST ALL #^PT LIST COMPLEX #^START NOTE^INTERIM 
 EXTERNAL ROUTINES:
  ^DIC,$$GET1^DIQ,$$ICDD^ICDCODE,$$TITLE^XLFSTR,$$GET^XPAR,$$GET^XPAR,ENVAL^XPAR
,$$KSP^XUPARAM

ORAM HCT - HCT^ORAM
 Returns the patient's most recent Hematocrit (HCT).
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURNS
 EXTERNAL ROUTINES:
  DT^DILF,$$FMTE^XLFDT,$$GET^XPAR

ORAM INR - INR^ORAM
 Returns last 6 months of INR values and dates.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
  ARRAY OF
 EXTERNAL ROUTINES:
  $$FMADD^XLFDT,$$FMTE^XLFDT,$$FMTH^XLFDT,$$GET^XPAR

ORAM PATIENT - PATIENT^ORAM
 Returns the requested patient's Name, Gender, SSN, and Inpatient Status.
 PARAMETERS
  DFN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURNS
 EXTERNAL ROUTINES:
  ^DIC,$$NAME^ORAMX,$$FMTE^XLFDT,$$NOW^XLFDT

ORAM PROVIDER - PROVIDER^ORAM
 Returns provider DUZ and name.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORAM SIGCHECK - SIGCHECK^ORAM
 Validates the Electronic Signature Code entered by the user.
 PARAMETERS
  ESCODE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  HASH^XUSHSHP

ORAMX CONSULT - CONSULT^ORAMX
 Send DFN and the name of the Consult Service (from the ORAM CONSULT 
 REQUEST SERVICE parameter). Returns pending and active consults which meet
 those criteria.
 PARAMETERS
  DFN
   TYPE:LITERAL
  CNAME
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  RPCLIST^GMRCTIU,$$FMTE^XLFDT

ORAMX PCESET - PCESET^ORAMX
 Checks for service connection, etc, for PCE data call or files PCE data.
 PARAMETERS
  DFN
   TYPE:LITERAL
   The IEN of the Patient in the Patient File (#2).
  DATA1
   TYPE:LITERAL
   Data string from the Anticoagulation Management Program.
  HOSLOC
   TYPE:LITERAL
   Visit location from the Hospital Location File.
 RETURN VALUE
  TYPE: SINGLE VALUE
  If checking Service Connection/Exposures, returns in this format:
 EXTERNAL ROUTINES:
  $$CODEN^ICDCODE,$$DATA2PCE^PXAPI,$$NOW^XLFDT

ORAMSET GETCLINS - GETCLINS^ORAMSET
 This RPC fetches the list of Clinic Names from the configuration of the 
 Anticoagulation Management Application.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns an array in the following format:
 EXTERNAL ROUTINES:
  ENVAL^XPAR

ORAM ORDER - ORDER^ORAM
 This RPC supports placing INR and CBC orders from the Anticoagulator 
 application.
 PARAMETERS
  DFN
   TYPE:LITERAL
   This is the patient id (i.e., the entry number of the patient in file 2).
  ORDOC
   TYPE:LITERAL
   This is the ID of the ordering provider in file 200 (i.e., his "DUZ").
  ORQO
   TYPE:LITERAL
   This is the internal entry number of the Quick Order to be placed (for 
  ORLOC
   TYPE:LITERAL
   This is the internal entry number of the ordering location in the 
  ORCDT
   TYPE:LITERAL
   This is the expected Collection Date/Time of the lab test being ordered, 
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET1^DIQ,GETQDLG^ORCD,NOTIF^ORCSIGN,UNOTIF^ORCSIGN,SAVE^ORWDX

ORAMSET INDICS - INDICS^ORAMSET
 This call populates the list of selectable indications for 
 Anticoagulation therapy.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The call returns the list of indications defined for the Clinic -> 
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORAM APPTMTCH - APPTMTCH^ORAM
 This RPC supports revision of the appointment match when the user selects 
 a new Clinic in Anticoagulator.
 PARAMETERS
  ORAMDFN
   TYPE:LITERAL
   Patient ID.
  ORAMCL
   TYPE:LITERAL
   This is the internal entry number of the Clinic in the Hospital Location 
 RETURN VALUE
  TYPE: SINGLE VALUE
  A VA FileMan date/time is returned. If a match is found, the date and 
 EXTERNAL ROUTINES:
  

VAFC VOA ADD PATIENT - ADD^VAFCPTAD
 This Remote Procedure Call allows the remote creation of a VistA
 PATIENT (#2) record at the Preferred Facility for the Veteran
 On-Line Application (VOA) project.
 PARAMETERS
  PARAM
   TYPE:LIST
   PARAM may contain the following values: (R) Required (O) Optional
 RETURN VALUE
  TYPE: ARRAY
  This RPC will return a positive (1) or negative response (-1) in 
 EXTERNAL ROUTINES:
  

DVBAB ZIP2CITY - ZIP2CITY^DVBABADR
 The remote procedure returns a list containing city, county, and state for
 a given ZIP code.
 Results format:  Result(0)=ResultCount_"^"_ErrorMsg
                  Result(1..n)=City_"^"_County_"^"_State
 PARAMETERS
  DVBZIP
   TYPE:LITERAL
   ZIP code value in ZIP+4 format.
 RETURN VALUE
  TYPE: ARRAY
  RESULT(0)=ResultCount_"^"_ErrorMsg
 EXTERNAL ROUTINES:
  POSTALB^XIPUTIL

DVBA CHECK PATCH - CHECK^DVBAB1B
 This RPC is a wrapper for the supported $$PATCH^XPDUTL API to determine
 whether a given patch is installed or not.  "1^Patch Is Installed" is 
 returned on success; otherwise "0^Patch Is Not Installed" is returned.
 PARAMETERS
  DVBPATCH
   TYPE:LITERAL
   This parameter contains the patch designation (ex. DVBA*2.7*142).
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns "1^Patch Is Installed" on success; otherwise returns "0^Patch Is 
 EXTERNAL ROUTINES:
  $$PATCH^XPDUTL

MAG BROKER SECURITY - BSE^MAGS2BSE
 CALL BSE(BROKER SECURITY ENHANCEMENT) - XUS SET VISITOR, RETURN A BSE TOKEN
 PARAMETERS
  RES
   TYPE:LITERAL
   CALL TO GET A BSE TOKEN FOR AUTHENTICATING REMOTE VISTA USER
 RETURN VALUE
  TYPE: SINGLE VALUE
  RETURN A BSE TOKEN ACCORDING THE USER'S DUZ, E.G.: XUSBSE2032-487327_6
 EXTERNAL ROUTINES:
  GETVISIT^XUSBSE1,SETVISIT^XUSBSE1

PSN FDA MED GUIDE PRINT QUEUE - RETRIEVE^PSNFDAMG
 This Remote Proceedure Call is used by a Java Client to print FDA Medication
 Guides for the National Drug File (NDF) application.
 PARAMETERS
  AIP
   TYPE:LITERAL
   The desk top IP address
 RETURN VALUE
  TYPE: ARRAY
  The FDA Med Guide URL
 EXTERNAL ROUTINES:
  

TIU MED GET PATIENT DATA - GETPATDT^TIUMED1
 Returns patient data.
 PARAMETERS
  TIUDFN
   TYPE:LITERAL
   This is the patient IEN.
  TIUSEC
   TYPE:LITERAL
   This BOOLEAN value allows sensitive patient data to be displayed or 
  TIUGHS
   TYPE:LITERAL
   This BOOLEAN value determines whether or not HEALTH SUMMARY information 
 RETURN VALUE
  TYPE: ARRAY
  The return array has elements with the following positional values:
 EXTERNAL ROUTINES:
  FIND^DIC,$$GET1^DIQ

TIU MED GET HEALTH SUMMARY - GETHS^TIUMED1
 Returns the HEALTH SUMMARY information.
 PARAMETERS
  TIUDFN
   TYPE:LITERAL
   This is the patient IEN.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DEFDIR^%ZISH,$$DEL^%ZISH,$$FTG^%ZISH,CLOSE^%ZISH,OPEN^%ZISH,ENX^GMTSDVR,$$LU
^TIUPS244,$$GET^XPAR,$$KSP^XUPARAM,USERINFO^XUSRB2

TIU MED LAST5 - LAST5^TIUMED1
 Returns a list of patients that match an A9999 identifier.
 PARAMETERS
  TIUID
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LAST5^ORWPT

TIU MED LIST ALL - LISTALL^TIUMED1
 Returns a list of patients for selection.
 PARAMETERS
  TIUFROM
   TYPE:LITERAL
   Value to begin patient list.
  TIUDIR
   TYPE:LITERAL
   Boolean value for list direction.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LISTALL^ORWPT

TIU MED PATIENT MANAGEMENT - PATMAN^TIUMED1
 Returns the user's level of patient importing via manual entry.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Evaluates USER DUZ and returns:
 EXTERNAL ROUTINES:
  OWNSKEY^XUSRB

TIU MED GET PATIENT LISTS - PLISTS^TIUMED1
 Returns a list of personal patient lists for the current user.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  Returns a list of personal patient lists for the current user.
 EXTERNAL ROUTINES:
  FIND^DIC

TIU MED GET LIST DATA - PLISTMEM^TIUMED1
 Returns a list of patients from a personal list.
 PARAMETERS
  TIULIST
   TYPE:LITERAL
   This is the IEN of the personal list.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETS^DIQ

TIU MED GET OBJECT - GETOBJ^TIUMED1
 Returns the data from a TIU Object.
 PARAMETERS
  TIUDFN
   TYPE:LITERAL
   Patient IEN.
  TIUOBJ
   TYPE:LITERAL
   Name of the TIU Object.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  The return array returns the value of the TIU Object in either a single or
 EXTERNAL ROUTINES:
  $$BOIL^TIUSRVD

MAG DOD GET STUDIES IEN - STUDY2^MAGDQR21
 This Remote Procedure returns information about studies,
 based upon the IEN (File #2005) of the image group that is provided as a parame
ter.
 PARAMETERS
  GROUPS
   TYPE:LIST
   This parameter can either be provided as a single value or as an array.
 RETURN VALUE
  TYPE: ARRAY
  This Remote Procedure returns an array with information.
 EXTERNAL ROUTINES:
  

MAG DOD GET STUDIES UID - STUDY1^MAGDQR21
 This Remote Procedure returns information about studies,
 based upon the Study UID that is provided as a parameter.
 PARAMETERS
  STUDIES
   TYPE:LIST
   This parameter can either be provided as a single value or as an array.
 RETURN VALUE
  TYPE: ARRAY
  This Remote Procedure returns an array with information.
 EXTERNAL ROUTINES:
  

MAG SCAN IMAGE TEXT FILES - SCANIMG^MAGDOD01
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This Remote Procedure assists the client software in traversing
 the IMAGE file (#2005)
 The following sub-actions are supported:
   Init    - return information to the client about the
             current scan-status
   Restart - reset internal counters so that the next scan
             will re-scan the whole database
   Scan    - return the file-name for the next (or previous) image
 PARAMETERS
  ACTION
   TYPE:LITERAL
   The value of this parameter is a string. This string specifies
  IMAGE
   TYPE:LITERAL
   The value of this parameter is a pointer to the IMAGE file (#2005).
  DIR
   TYPE:LITERAL
   The value of this parameter is a number. If the value of this number
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value of this remote procedure is a string.
 EXTERNAL ROUTINES:
  FILEFIND^MAGDFB,$$NEARFMT^MAGUF

MAG STORE TEXT FILE DETAILS - STOREUID^MAGDOD01
  +---------------------------------------------------------------+
  | Property of the US Government.                                |
  | No permission to copy or redistribute this software is given. |
  | Use of unreleased versions of this software requires the user |
  | to execute a written test agreement with the VistA Imaging    |
  | Development Office of the Department of Veterans Affairs,     |
  | telephone (301) 734-0100.                                     |
  |                                                               |
  | The Food and Drug Administration classifies this software as  |
  | a medical device.  As such, it may not be changed in any way. |
  | Modifications to this software may result in an adulterated   |
  | medical device under 21CFR820, the use of which is considered |
  | to be a violation of US Federal Statutes.                     |
  +---------------------------------------------------------------+
  
 This Remote Procedure updates the information about an image.
 Specifically, the fields for SERIES UID, SERIES NUMBER and
 IMAGE NUMBER (sequence within series) may be updated.
 PARAMETERS
  IMAGE
   TYPE:LITERAL
   The value of this parameter is a pointer to the IMAGE file (#2005).
  SERIES
   TYPE:LITERAL
   The value of this parameter is a string. This string, if non-empty,
  SNUM
   TYPE:LITERAL
   The value of this parameter is either 0 (zero) or a positive integer number.
  INUM
   TYPE:LITERAL
   The value of this parameter is either 0 (zero) or a positive integer number.
  IMGUID
   TYPE:LITERAL
   The value of this parameter is a string. This string meets the
  STUID
   TYPE:LITERAL
   The value of this parameter is a string. This string meets the
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of the return parameter is a string.
 EXTERNAL ROUTINES:
  CHK^MAGGSQI

DSIF STATIONS - STATNUM^DSIFUTL
 Return station number logged into and available IFCAP station numbers for 
 the user.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Station number obtained by $$STA^XUAF4^(all station numbers in users 
 EXTERNAL ROUTINES:
  

VAFC LOCAL GETCORRESPONDINGIDS - TFL^VAFCTFU2
 Given a patient DFN, ICN, or EDIPI, this Remote Procedure Call returns a 
 list of Treating Facilities, including SOURCE ID, station number, and 
 IDENTIFIER STATUS.
 PARAMETERS
  Patient Identifier
   TYPE:WORD PROCESSING
   The patient identifier will either be the PATIENT file (#2) IEN (aka 
 RETURN VALUE
  TYPE: WORD PROCESSING
  This will return a list of treating facilities in the following format:
 EXTERNAL ROUTINES:
  $$GETDFN^MPIF001,$$GETICN^MPIF001,$$SITE^VASITE,$$IEN^XUAF4

VAFC NEW NC TREATING FACILITY - NEWTF^VAFCTFU2
 This Remote Procedure Call will be used by the North Chicago Common 
 Registration User Interface (UI).  Given a patient DFN and DOD EDIPI, the 
 RPC adds an active Department of Defense correlation to the VistA 
 TREATING FACILITY LIST (#391.91) file if it does not exist.  It returns a 
 list of Treating Facilities, including Source Identifier, Identifier 
 Type, Assigning Authority, Assigning Facility, Identifier Status, and an 
 indicator if the entry was entered into File 391.91.
 PARAMETERS
  Vista Patient Identifier
   TYPE:LITERAL
   Vista Patient Identifier will be the PATIENT (#2) file IEN (aka DFN).
  DOD Identifier
   TYPE:LITERAL
   The DOD Identifier will be EDIPI data with the following format:
 RETURN VALUE
  TYPE: ARRAY
  This will return a list of treating facilities in the following format:
 EXTERNAL ROUTINES:
  FILENEW^VAFCTFU

MAG4 INDEX GET ORIGIN - IGO^MAGSIXGT
 This call will return an array of INDEX ORIGIN
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  The result array includes all ORIGINs
 EXTERNAL ROUTINES:
  FIELD^DID

MAGN PATIENT HAS PHOTO - RPHASPHT^MAGNVIC
 Checks if photo image exists for a patient
 PARAMETERS
  MAGDFN
   TYPE:LITERAL
   Patient DFN
 RETURN VALUE
  TYPE: SINGLE VALUE
  MAGRY = 0 Photo doesn't exist
 EXTERNAL ROUTINES:
  

MAG BROKER GET VISITOR - BSEXP^MAGS2BSE
 Wraps code underlying RPC: XUS GET VISITOR to check for expired authentication 
token.
 PARAMETERS
  MAGTKN
   TYPE:LITERAL
   The Broker Security Enhancement (BSE) token to validate.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns '0' if input invalid or token expired. Otherwise returns
 EXTERNAL ROUTINES:
  GETVISIT^XUSBSE1

MAGJ GET TREATING LIST - FACLIST^MAGJLST1
 Get Treating Facility List for a patient.  This RPC merely calls
 the subroutine used for the VAFCTFU GET TREATING LIST rpc.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient DFN
 RETURN VALUE
  TYPE: ARRAY
  Array; first entry contains result header with # lines to follow
 EXTERNAL ROUTINES:
  DT^DICRW,TFL^VAFCTFU1

MAGJ VIX LOG REMOTE IMG ACCESS - LOGRIA^MAGJVAPI
 Log ViX-enabled Remote Image Access Events.
 PARAMETERS
  DATA
   TYPE:LITERAL
   CARET DELIMITED AS FOLLOWS:
 RETURN VALUE
  TYPE: SINGLE VALUE
  CARET-DELIMITED (IF NECESSARY):
 EXTERNAL ROUTINES:
  ACTION^MAGGTAU,ENTRY^MAGLOG

RAMAG EXAM ORDER - ORDER^RAMAGRP1
 The RAMAG EXAM ORDER remote procedure requests a Radiology exam for the
 patient and returns the IEN of the new order in the RAD/NUC MED ORDERS
 file (#75.1). It also sends all required notifications..
 PARAMETERS
  RADFN
   TYPE:LITERAL
   Patient IEN (DFN).
  RAMLC
   TYPE:LITERAL
   IEN of the imaging location in the IMAGING LOCATIONS file (#79.1).
  RAPROC
   TYPE:LITERAL
   Radiology procedure and optional modifiers
  REQDTE
   TYPE:LITERAL
   Desired date for the exam in HL7 format (TS): YYYYMMDD. If time is 
  RACAT
   TYPE:LITERAL
   Exam category: internal value of the CATEGORY OF EXAM field (4) of the 
  REQLOC
   TYPE:LITERAL
   IEN of the requesting location in the HOSPITAL LOCATION file (#44).
  REQPHYS
   TYPE:LITERAL
   IEN of the requesting physician in the NEW PERSON file (#200).
  REASON
   TYPE:LITERAL
   Reason for study. See the REASON FOR STUDY field (1.1) of the RAD/NUC MED 
  RAMSC
   TYPE:LIST
   Items of this list define miscellaneous/optional order parameters. Each
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first '^'-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$IPVE^RAERR,CLEAR^RAERR,RPCSTK^RAERR01,$$ORDER^RAMAG02,$$RPCMISC^RAMAGU01,VAR
S^RAMAGU11,W^RAMAGU11,ZW^RAUTL22,$$HL7TFM^XLFDT

RAMAG EXAM REGISTER - REGISTER^RAMAGRP1
 The RAMAG EXAM REGISTER remote procedure registers the exam and returns
 identifiers of the new case(s) in the RAD/NUC MED PATIENT file (#70). It
 also sends all required notifications.
 PARAMETERS
  RAOIFN
   TYPE:LITERAL
   IEN of the order in the RAD/NUC MED ORDERS file (#75.1).
  EXMDTE
   TYPE:LITERAL
   Date and time of the exam in HL7 format (TS): YYYYMMDDHHMM[+/-ZZZZ]. If 
  RAMSC
   TYPE:LIST
   Items of this list define miscellaneous/optional exam parameters. Each
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first '^'-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$IPVE^RAERR,CLEAR^RAERR,RPCSTK^RAERR01,$$REGISTER^RAMAG03,$$RPCMISC^RAMAGU01,
VARS^RAMAGU11,W^RAMAGU11,ZW^RAUTL22,$$FMTHL7^XLFDT,$$HL7TFM^XLFDT

RAMAG ORDER CANCEL - ORDCANC^RAMAGRP1
 The RAMAG ORDER CANCEL remote procedure cancels/holds the Radiology order
 and sends all required notifications.
  
 NOTE: If there are active cases in the RAD/NUC MED PATIENT file (#70)
       associated with an order, this remote procedure neither cancels
       nor holds the order and returns the error code -42.
 PARAMETERS
  RAOIFN
   TYPE:LITERAL
   IEN of the order in the RAD/NUC MED ORDERS file (#75.1).
  RAREASON
   TYPE:LITERAL
   Cancel/hold reason: either IEN of a record of the RAD/NUC MED REASON file
  RAMSC
   TYPE:LIST
   Items of this list define miscellaneous/optional parameters. Each record
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first '^'-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  CLEAR^RAERR,RPCSTK^RAERR01,$$ORDCANC^RAMAG04,$$RPCMISC^RAMAGU01,VARS^RAMAGU11,
W^RAMAGU11,ZW^RAUTL22

RAMAG EXAM CANCEL - EXAMCANC^RAMAGRP1
 The RAMAG EXAM CANCEL remote procedure cancels the Radiology exam(s) and
 sends all required notifications.
  
 If all exams that reference the same order/request are canceled, this  
 function can also cancel/hold the order (if the appropriate parameters are
 provided).
 PARAMETERS
  RAEXAM
   TYPE:LITERAL
   String of exam/case identifiers separated by '
  RAREASON
   TYPE:LITERAL
   Reason for cancelation: either IEN of a record of the RAD/NUC MED REASON
  RAMSC
   TYPE:LIST
   Items of this list define miscellaneous/optional parameters. Each record
  RAFLAGS
   TYPE:LITERAL
   Flags that control execution (can be combined):
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first '^'-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  CLEAR^RAERR,RPCSTK^RAERR01,$$EXAMCANC^RAMAG05,$$RPCMISC^RAMAGU01,VARS^RAMAGU11
,W^RAMAGU11,ZW^RAUTL22

RAMAG EXAM COMPLETE - COMPLETE^RAMAGRP1
 The RAMAG EXAM COMPLETE remote procedure completes the exam. It also sends
 required HL7 messages, sends changed order control "XX" to CPRS, but does
 not send VistA alerts regarding the exam status change.
 PARAMETERS
  RAEXAM
   TYPE:LITERAL
   String of exam/case identifiers separated by '
  RAMSC
   TYPE:LIST
   Items of this list define miscellaneous/optional exam and/or report
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first '^'-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  CLEAR^RAERR,RPCSTK^RAERR01,$$COMPLETE^RAMAG06,$$RPCMISC^RAMAGU01,VARS^RAMAGU11
,W^RAMAGU11,ZW^RAUTL22

RAMAG EXAMINED - EXAMINED^RAMAGRP2
 The RAMAG EXAMINED remote procedure updates the status of the case (the
 procedure has been performed) and creates the stub report. It also sends
 required HL7 messages, sends changed order control "XX" to CPRS, but does
 not send VistA alerts regarding the exam status change.
 PARAMETERS
  RAEXAM
   TYPE:LITERAL
   String of exam/case identifiers separated by '
  RAMSC
   TYPE:LIST
   Items of this list define miscellaneous/optional exam parameters. Each
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first '^'-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  CLEAR^RAERR,RPCSTK^RAERR01,$$EXAMINED^RAMAG07,$$RPCMISC^RAMAGU01,VARS^RAMAGU11
,W^RAMAGU11,ZW^RAUTL22

RAMAG EXAM STATUS REQUIREMENTS - EXMSTREQ^RAMAGRP2
 The RAMAG EXAM STATUS REQUIREMENTS remote procedure returns a descriptor
 that indicates conditions that should be met in order to successfully 
 perform an action on an exam/case record.
  
 These conditions are defined by the sites and stored in the EXAMINATION
 STATUS file (#72). See the .1 and .5 nodes of the data dictionary of the
 file #74 for more details.
 PARAMETERS
  RACTION
   TYPE:LITERAL
   The RACTION parameter defines the action that is going to be performed on 
  RAIMGTYI
   TYPE:LITERAL
   IEN of the imaging type in the IMAGING TYPE file (#79.2).
  RAPROC
   TYPE:LITERAL
   Radiology procedure IEN (file #71). This parameter is required to
 RETURN VALUE
  TYPE: ARRAY
  A negative value of the first '^'-piece of the Results[0] indicates that
 EXTERNAL ROUTINES:
  $$IPVE^RAERR,CLEAR^RAERR,RPCSTK^RAERR01,$$EXMSTINF^RAMAGU06,$$EXMSTREQ^RAMAGU0
6,$$GETEXMND^RAMAGU06,VARS^RAMAGU11,W^RAMAGU11

MAG DICOM ADD CAMERA EQUIP RM - ADDROOM^MAGDRPCB
 Check the OUTSIDE STUDY Camera Equipment Room for the IMAGING LOCATION.
 If it is not present, add it.
 PARAMETERS
  RAEXAM
   TYPE:LITERAL
   String of exam/case identifiers separated by '
 RETURN VALUE
  TYPE: ARRAY
  Success/Error results
 EXTERNAL ROUTINES:
  LIST^DIC,UPDATE^DIE,$$GET1^DIQ

MAG DICOM GET DFN - GETDFN^MAGDRPCA
 Given an ICN, it returns the DFN.
 PARAMETERS
  ICN
   TYPE:LITERAL
   Integration Control Number
 RETURN VALUE
  TYPE: SINGLE VALUE
  DFN
 EXTERNAL ROUTINES:
  $$GETDFN^MPIF001

MAG DICOM GET HOSP LOCATION - GETLOC^MAGDRPCB
 Return a list of matching hospital locations
 PARAMETERS
  LOCATION
   TYPE:LITERAL
   Hospital location to look up.
 RETURN VALUE
  TYPE: ARRAY
  List of matching hospital locations in "ien^name" format.
 EXTERNAL ROUTINES:
  

MAG DICOM GET RAD CAMERA - CAMERA^MAGDRPCB
 Used to find an entry in file CAMERA/EQUIP/RM (#78.6)
 PARAMETERS
  CAMERA
   TYPE:LITERAL
   The name of the entry expected to be found in file CAMERA/EQUIP/RM 
 RETURN VALUE
  TYPE: ARRAY
  Returns:
 EXTERNAL ROUTINES:
  

MAG DICOM GET RAD CPT MOD - CPTMOD^MAGDRPCB
 This RPC is used to return a valid entry in the CPT MODIFIER file (#81.3).
 PARAMETERS
  CPTMOD
   TYPE:LITERAL
   This is the name of the CPT modifier.
  MAGDT
   TYPE:LITERAL
   This is the date used during the lookup process for screening
 RETURN VALUE
  TYPE: ARRAY
  RESULTS(1)= -1 (entry not found) or 1 (entry found)
 EXTERNAL ROUTINES:
  $$MOD^ICPTMOD,$$DT^XLFDT

MAG DICOM GET RAD DX CODE - DXCODE^MAGDRPCB
 This RPC is used to lookup an entry in file DIAGNOSTIC CODES (78.3).
 PARAMETERS
  DXCODE
   TYPE:LITERAL
   This is the diagnostic name to be used in the lookup process.
 RETURN VALUE
  TYPE: ARRAY
  RESULTS(1)= -1 (entry not found) or 1 (entry found)
 EXTERNAL ROUTINES:
  

MAG DICOM GET RAD FILM - FILM^MAGDRPCB
 This RPC is used to find an entry in the FILM SIZE file (#78.4).
 PARAMETERS
  FILM
   TYPE:LITERAL
   This is the name of the film size to be used in the lookup process.
 RETURN VALUE
  TYPE: ARRAY
  RESULTS(1)= -1 (entry not found) or 1 (entry found)
 EXTERNAL ROUTINES:
  

MAG DICOM GET RAD INFO BY ACN - ACNUMB^MAGDRPCA
 This RPC takes the Accession Number and returns the first radiology study that 
matches it.  This RPC uses $$ACCFIND^RAAPI() to get this information.
 PARAMETERS
  ACNUMB
   TYPE:LITERAL
   The accession number in either a 'sss-mmddyy-xxxxx' or
 RETURN VALUE
  TYPE: SINGLE VALUE
  The results will be either:
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$ACCFIND^RAAPI,ACCFIND^RAAPI

MAG DICOM GET RAD ORDERS - ORDERS^MAGDRPCB
 Return a list of radiology orders for a patient
 PARAMETERS
  DFN
   TYPE:LITERAL
   Standard pointer to PATIENT file #2.
 RETURN VALUE
  TYPE: ARRAY
  List of radiogy orders for the patient.
 EXTERNAL ROUTINES:
  LIST^DIC,$$GET1^DIQ,GETS^DIQ,ACCFIND^RAAPI,$$RAPTREG^RAMAGU04,$$DT^XLFDT

MAG DICOM GET RAD PERSON - RADLST^MAGDRPCB
 Returns list of names from the NEW PERSON file (#200) with a Rad/Nuc class.
 PARAMETERS
  CLASS
   TYPE:LITERAL
   This is the RAD/NUC classification used to correlate matching entries.
  NAME
   TYPE:LITERAL
   This is the name to be used in the lookup process.
 RETURN VALUE
  TYPE: ARRAY
  Unsuccessful lookup returns:
 EXTERNAL ROUTINES:
  LIST^DIC,$$DT^XLFDT,$$UP^XLFSTR

MAG DICOM GET USERNAME - USERNAME^MAGDRPCB
 Returns the name of the user.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  Name of user from NEW PERSON file (#200).
 EXTERNAL ROUTINES:
  $$GET1^DIQ

MAG DICOM IMPORTER CHECK UIDS - CHECKUID^MAGDRPCA
 This RPC is used to lookup DICOM UIDs before importing images.
 PARAMETERS
  UIDLIST
   TYPE:LIST
   This is a list of UIDs to be evaluated.
  LEVEL
   TYPE:LITERAL
   The value is either STUDY or SOP instance UID.
 RETURN VALUE
  TYPE: ARRAY
  Return a list that matched the UID provided.
 EXTERNAL ROUTINES:
  

MAG DICOM IMPORTER DELETE - DELETE^MAGDRPCA
 This RPC is used by the DICOM Gateway to delete an entry in file IMPORTABLE
 DICOM OBJECTS (#2006.5752).  The entry to be deleted must match the Hostname,
 OLDPATH (Gateway), and the image UID.
 PARAMETERS
  MACHID
   TYPE:LITERAL
   This is the hostname of the DICOM Imaging Gateway running the Importer applic
ation.
  FILEPATH
   TYPE:LITERAL
   This is the path of the DICOM image file being deleted.
  IMAGEUID
   TYPE:LITERAL
   This is the image's SOP Instance UID.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$DELETE^MAGDIR8R

MAG DICOM IMPORTER LOOKUP - LOOKUP^MAGDRPCA
 Return information about the image.
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   The Internal Entry Number of the image entry in file 2005.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns patient demographics, case number, and study date, procedure 
 EXTERNAL ROUTINES:
  $$GET1^DIQ,IENLOOK^MAGDRPC9,$$GETICN^MPIF001,DEM^VADPT

MAG DICOM RADIOLOGY MODIFIERS - MOD^MAGDRPCA
 This RPC returns a listing of entries from the PROCEDURES MODIFIER file (#71.2)
 sorted by Radiology' Imaging Type.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

MAG DICOM RADIOLOGY PROCEDURES - PROC^MAGDRPCA
 This RPC returns a list of Radiology Procedures for 'no-credit' Imaging
 locations within a given division.
 If the division does not have any 'no-credit' Imaging locations defined,
 the results will return an error message indicating the problem.
 PARAMETERS
  DIV
   TYPE:LITERAL
   This is the division used during the lookup process.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$DISPLAY^MAGDAIRG,$$DT^XLFDT

MAG DICOM SET IMAGING LOCATION - IMAGELOC^MAGDRPCB
 Set imaging location in radiology order file (#75.1).
 PARAMETERS
  RAOIEN
   TYPE:LITERAL
   Pointer to Radiology Order File #75.1.
  RAMLC
   TYPE:LITERAL
   Pointer to Radiology Imaging Location File #79.1.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Status: positive values are good, errors are negative.
 EXTERNAL ROUTINES:
  FILE^DIE,$$GET1^DIQ

EC RECENT VISITS - RCNTVST^ECUTL1
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient DFN
 RETURN VALUE
  TYPE: ARRAY
  Return parameter is an array containing:
 EXTERNAL ROUTINES:
  C^%DTC,NOW^%DTC,$$GET1^DIQ,GETAPPT^SDAMA201,SELECTED^VSIT,$$FMTE^XLFDT,$$LJ^XL
FSTR

MAG3 SET TIMEOUT - TIMEOUT^MAGNTLRS
 PARAMETERS
  MAGAPP
   TYPE:LITERAL
  MAGTIME
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MSG^DIALOG,UPDATE^DIE,$$PLACE^MAGBAPI

MAG3 TELEREADER ACQ SRVC SETUP - UASRVC^MAGNTLRS
 UPDATES TELEREADER ACQUISITION SERVICE file (#2006.5841)
 PARAMETERS
  MAGPARAM
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MSG^DIALOG,FIND^DIC,UPDATE^DIE,^DIK

MAG3 TELEREADER DHPS LIST - LDHSP^MAGNTLR2
  Return all records in DICOM HEALTHCARE PROVIDER SERVICE file (#2006.5831)
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  if error found during execution
 EXTERNAL ROUTINES:
  LIST^DIC

MAG3 TELEREADER PDR SRVC SETUP - UPSRVC^MAGNTLRS
 Add/Update/Delete a service in DICOM HEALTHCARE PROVIDER SERVICE file (#2006.58
31)
 PARAMETERS
  MAGPARAM
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MSG^DIALOG,FIND^DIC,UPDATE^DIE,^DIK,$$UCLINIC^MAGNTLRS

MAG3 TELEREADER READER LIST - LREADER^MAGNTLR2
 Return all records in TELEREADER READER file (#2006.5843)
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  LIST^DIC,$$GET1^DIQ

MAG3 TELEREADER READER SETUP - UREADER^MAGNTLRS
 Add/Update/Delete TELEREADER READER file (#2006.5843)
 PARAMETERS
  MAGPARAM
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MSG^DIALOG,UPDATE^DIE

MAG3 TELEREADER SITE SETUP - USITE^MAGNTLRS
  Add/Update/Delete a site in TELEREADER ACQUISITION SITE file (#2006.5842)
 PARAMETERS
  MAGPARAM
   TYPE:LIST
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  MSG^DIALOG,FIND^DIC,UPDATE^DIE,^DIK

MAGDDR GETS ENTRY DATA - GETSC^MAGDDR
 Calls database server at GETS^DIQ
 PARAMETERS
  MAGDDR
   TYPE:LIST
   GETS ATTRIBUTES
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETSC^DDR2

MAGDDR LISTER - LISTC^MAGDDR
 PARAMETERS
  LIST ATTRIBUTES
   TYPE:LIST
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  LISTC^DDR

SPN VADPT VALUES - COL^SPNRPC1
 This RPC utilizes the CALLABLE ENTRY POINTS IN VADPT PIM manual. 
 http://www.va.gov/vdl/documents/Clinical/Admis_Disch_Transfer_(ADT)/pimstm
 .doc   (DBIA #10061) 
 As well as the DBIA #4938 which returns the ICN.
  
  
 Note that the call to VAPA API is called twice the first time forcing the 
 return of the permanent address and a second time forcing the return of 
 the temporary address. 
 The Temporary address is retuned in its own subscript referenced as 
 VAPA_TEMP_ADDRESS.   The return values are all listed in the ADT manual 
 listed above, with the exception of the ICN and the VAPA_TEMP_ADDRESS.
  
 This call can be called by passing in either dfn or icn or both.  If both 
 are passed in they will be validate to insure that they match the same 
 entry in the patient file.  
  
 (global root,dfn,icn)
  
 Testing section;
  
 Note that this is a test patient.
  
 Test 1)  PASSING IN AN INVALID ICN AND A VALID DFN
 D COL(,785,10026276877)
 Results:
 ^TMP(546781790,1)=COULD NOT MATCH UP ICN WITH A DFN
  
 Test 2) PASSING IN A INVALID DFN WITH A VALID ICN
 D COL(,78599999,1002627687)
 Results:
 ^TMP(546781790,1)=DFN AND ICN ARE NOT MATCHED
  
 Test 3) PASSING IN BOTH AN INVALID DFN AND ICN
 D COL(,78599999,1002627687999999)
 Results:
 ^TMP(546781790,1)=COULD NOT MATCH UP ICN WITH A DFN
  
 Below is a successful call to this RPC passing only a dfn.
  
 D COL(,785,)
 Global ^TMP($J -- NOTE: translation in effect
 ^TMP(546781790,1)=VA(ICN)^1002627687^EOL999
                2)=VA(BID)^3235^EOL999
                3)=VA(PID)^101-01-3235^EOL999
                4)=VADM(1)^EASTER,WILLIAM DAVE (C)^EOL999
                5)=VADM(2)^101013235^101-01-3235^EOL999
                6)=VADM(3)^2571006^OCT 6,1957^EOL999
                7)=VADM(4)^49^EOL999
                8)=VADM(5)^M^MALE^EOL999
                9)=VADM(6)^^EOL999
               10)=VADM(7)^DR KEVIN SD^EOL999
               11)=VADM(8)^3^WHITE, NOT OF HISPANIC ORIGIN^EOL999
               12)=VADM(9)^3^BAPTIST^EOL999
               13)=VADM(10)^6^NEVER MARRIED^EOL999
               14)=VADM(11)^1^EOL999
               15)=VADM(11,1)^4^UNKNOWN BY PATIENT^EOL999
               16)=VADM(12)^2^EOL999
               17)=VADM(12,1)^2^AMERICAN INDIAN OR ALASKA NATIVE^EOL999
               18)=VADM(12,1,1)^3^OBSERVER^EOL999
               19)=VADM(12,2)^13^WHITE^EOL999
               20)=VADM(12,2,1)^1^SELF IDENTIFICATION^EOL999
               21)=BOS VAEL^EOL999
               22)=VAEL(1)^2^AID & ATTENDANCE^EOL999
               23)=VAEL,1,4)^4^NSC, VA PENSION^EOL999
               24)=VAEL,1,6)^6^OTHER FEDERAL AGENCY^EOL999
               25)=VAEL,1,9)^9^SHARING AGREEMENT^EOL999
               26)=VAEL,1,19)^19^TRICARE^EOL999
               27)=VAEL(2)^7^VIETNAM ERA^EOL999
               28)=VAEL(3)^0^EOL999
               29)=VAEL(4)^1^EOL999
               30)=VAEL(5)^1^EOL999
               31)=VAEL(5,1)^^EOL999
               32)=VAEL(5,2)^^EOL999
               33)=VAEL(5,3)^^EOL999
               34)=VAEL(5,4)^^EOL999
               35)=VAEL(5,5)^^EOL999
               36)=VAEL(5,6)^^EOL999
               37)=VAEL(6)^12^NSC VETERAN^EOL999
               38)=VAEL(7)^SS^EOL999
               39)=VAEL(8)^V^VERIFIED^EOL999
               40)=VAEL(9)^N^NO LONGER REQUIRED^EOL999
               41)=BOS VAPA^EOL999
               42)=VAPA(1)^5407 ROCKING HORSE LANE^EOL999
               43)=VAPA(2)^NO APPT # LINE TWO OF ADDRESS^EOL999
               44)=VAPA(3)^NO LINE THREE EITHER^EOL999
               45)=VAPA(4)^OCEANSIDE^EOL999
               46)=VAPA(5)^6^CALIFORNIA^EOL999
               47)=VAPA(6)^92057^EOL999
               48)=VAPA(7)^4^SAN DIEGO^EOL999
               49)=VAPA(8)^760-295-9572^EOL999
               50)=VAPA(9)^^EOL999
               51)=VAPA(10)^^EOL999
               52)=VAPA(11)^92057^92057^EOL999
               53)=VAPA(12)^1^EOL999
               54)=VAPA(13)^1750 w CITRACADO PKWY^EOL999
               55)=VAPA(14)^UNIT 114^EOL999
               56)=VAPA(15)^MOUNTAIN SHADOWS^EOL999
               57)=VAPA(16)^ESCONDIDO^EOL999
               58)=VAPA(17)^6^CALIFORNIA^EOL999
               59)=VAPA(18)^92029^92029^EOL999
               60)=VAPA(19)^4^SAN DIEGO^EOL999
               61)=VAPA(20)^3061221^DEC 21,2006^EOL999
               62)=VAPA(21)^3061231^DEC 31,2006^EOL999
               63)=VAPA(22,2)^2^APPOINTMENT/SCHEDULING^Y^EOL999
               64)=VAPA(22,3)^3^COPAYMENTS/VETERAN BILLING^^EOL999
               65)=VAPA(22,4)^4^MEDICAL RECORDS^Y^EOL999
               66)=VAPA_TEMP_ADDRESS(1)^5412 TEMP ADDRESS LANE^EOL999
               67)=VAPA_TEMP_ADDRESS(2)^SOME BEACH TEMP LINE TWO^EOL999
               68)=VAPA_TEMP_ADDRESS(3)^WITH SUN AND SAND LINE THREE^EOL999
               69)=VAPA_TEMP_ADDRESS(4)^LAGUNA^EOL999
               70)=VAPA_TEMP_ADDRESS(5)^6^CALIFORNIA^EOL999
               71)=VAPA_TEMP_ADDRESS(6)^90210^EOL999
               72)=VAPA_TEMP_ADDRESS(7)^7^ALAMEDA^EOL999
               73)=VAPA_TEMP_ADDRESS(8)^800-555-1212^EOL999
               74)=VAPA_TEMP_ADDRESS(9)^3061212^DEC 12,2006^EOL999
               75)=VAPA_TEMP_ADDRESS(10)^3070130^JAN 30,2007^EOL999
               76)=BOS VAPD^EOL999
               77)=VAPD(1)^PEN^EOL999
               78)=VAPD(2)^12^FLORIDA^EOL999
               79)=VAPD(3)^EASTER,ELBERT JOE^EOL999
               80)=VAPD(4)^EASTER,ELIZABETH L^EOL999
               81)=VAPD(5)^HUGHES,ELIZABETH L^EOL999
               82)=VAPD(6)^TRUCK DRIVER^EOL999
               83)=VAPD(7)^1^EMPLOYED FULL TIME^EOL999
 PARAMETERS
  IEN
   TYPE:LITERAL
  DFN
   TYPE:LITERAL
   DFN OF PATIENT
  ICN
   TYPE:LITERAL
   ICN OF PATIENT
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$FLIP^SPNRPCIC

SPN PAIN VITALS - EN^SPNRPC5
 Returns the patient's most recent Pain Vitals from file GMR(120.5.
 PARAMETERS
  ICN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: SINGLE VALUE
  Data is returned delimited by the up-arrow (^), with each piece defined 
 EXTERNAL ROUTINES:
  EN6^GMRVUTL,$$FLIP^SPNRPCIC,$$FMTE^XLFDT

SPN LIST PROGRESS NOTE TITLES - LIST^SPNRPC7
 This RPC lists Progress Note Titles eligible for writing Progress Notes 
 under Document Class "SCI OUTCOMES".
  
 Parameter values:
  
         Document Class = Name of entry in TIU DOCUMENT DEFINITION file 
 (#8925.1).  This name must be an entry of type "DOCUMENT CLASS".  
 IMPORTANT: typically, this parameter should be "SCI OUTCOMES" (without 
 the quotes) for the re-hosted SCI & D Outcomes project.
  
 Tested at the Bay Pines FO account using Document Class = ADDICTION 
 SEVERITY INDEX  (again, typically this would be SCI OUTCOMES).
 PARAMETERS
  CLASSNAM
   TYPE:LITERAL
   Is the Document class name in file TIU DOCUMENT DEFINITION.
 RETURN VALUE
  TYPE: ARRAY
  Data is returned delimited by the up-arrow (^), with each piece defined 
 EXTERNAL ROUTINES:
  NOTES^TIUSRVD

SPN SECONDARY ICDS - COL^SPNRPC8
 The "Secondary Conditions" scroll box display on the Impairments Tab will 
 be populated with ICD-9 diagnostic, from the patient's beginning date to
 the current date.  But it excludes the 806, 952, 344, & 907 ICD-9 series.
 PARAMETERS
  ICN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data is returned delimited by the up-arrow (^), with each piece defined 
 EXTERNAL ROUTINES:
  

SPN GET RAD REPORTS - COL^SPNRPCB
 PARAMETERS
  EXAM
   TYPE:LITERAL
  EXAM_TYPE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: ARRAY
  This RPC supports situations where Radiology Report text is required.
 EXTERNAL ROUTINES:
  GETS^DIQ

SPN LAB COMPLETE BLOOD COUNT - COL^SPNRPCC
 This RPC supports the following report(s):
  
         Report Page Name                Subscreen
         Urinary Tract Infection         Complete Blood Count
  
  
 Notes: 
  
 Calling the line tag COL will generate all Lab Complete Blood Count tests
 on file for the patient from the cut off date forward.
  
 DFN = Internal Entry Number of patient in the PATIENT file (#2)
 CUTDATE = Cut off date. Results are inclusive from cut off date to present
  
  
 Tested at the Bay Pines FO account using DFN = 100005251 and 
 CUTDATE=1-1-1900.  Of course, at other sites, DFN would vary.
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data is returned delimited by the up-arrow (^), with each piece defined 
 EXTERNAL ROUTINES:
  ^%DT,$$FLIP^SPNRPCIC

SPN LAB URINALYSIS - COL^SPNRPCD
 This RPC supports the following report(s):
  
       Report Page Name              Subscreen
       Urinary Tract Infections      Urinalysis
  
  
 Notes: 
  
 Calling the line tag COL will generate all Lab Urinalysis tests
 on file for the patient from the cut off date forward.
  
 DFN = Internal Entry Number of patient in the PATIENT file (#2)
 CUTDATE = Cut off date. Results are inclusive from cut off date to present
  
  
 Tested at the Bay Pines FO account using DFN = 27 and
 CUTDATE=1-1-1990.  Of course, at other sites, DFN would vary.
 PARAMETERS
  ICN
   TYPE:LITERAL
   Internal entry number of the patient in the PATIENT file (#2).
  CUTDATE
   TYPE:LITERAL
   Data from the CUTDATE forward to the present date will be returned.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data is returned delimited by the up-arrow (^), with each piece defined 
 EXTERNAL ROUTINES:
  ^%DT,$$FLIP^SPNRPCIC

SPN LAB MICRO URINE - COL^SPNRPCE
 This RPC supports the Microbiology, Urine subscreen of the Laboratory
 Results section of the Urinary Tract Infections report.
  
 Calling the line tag COL will generate all Lab Microbiology Urine tests on
 file from the cut off date forward.
  
 The results are first placed into ^UTILITY($J), and
 then sorted into reverse date order and placed into ^TMP($J)
  
 To call this RPC, simply DO
 COL(,DFN,CUTDATE) , where
  
 DFN = Internal Entry Number of patient in the PATIENT file (#2)
  
 CUTDATE = Cut off date. Results are inclusive from cut off date to present
  
  
 Sample data stream, using first item:
  
  Piece
   1 is Accession --> MI 98 6158  (Accession is the Lab's tracking number)
   2 is Date/time Received --> OCT 27, 1998@14:06:48
   3 is Collection Sample --> URINE;CLEAN CATCH MIDSTREAM
   4 is Report Status --> Final
   5 is Report Date Approved --> OCT 29, 1998
   6 is Site/Specimen --> URINE
   7 & 8 are for troubleshoting only.
   
       In addition, there is report text in the "TXT" string. Note that
 the "TXT" subscript may have multiple lines, and that some tests do not
 have remarks.  This subscript is from the BACT RPT REMARK multiple in
 Vista (subfield 13 of field 5 in LAB DATA file {#63}).
  
 This global was ran using the dfn of 42729 at the Bay Pines test acct. 
  
 ^TMP(541078638,"MICRO URINE",1) = MI 00 3671^JUL 17, 2000@12:19:49^URINE; 
 CLEAN CATCH MIDSTREAM^Final^JUL 18, 2000^URINE^^LR(53,6999281.878085^|
 ^TMP(541078638,"MICRO URINE",1,"TXT",1) = BACT RPT REMARK 1^NO GROWTH 
 (<1000 CFU /ML) ^|
 ^TMP(541078638,"MICRO URINE",1,"TXT",2) = BACT RPT REMARK 2^THIS IS THE 
 BACT RPT REMARD ^|
 ^TMP(541078638,"MICRO URINE",1,"TXT",3) = BACT RPT REMARK 3^AND THIS IS 
 LINE 3 OF THE BACT REPT REMARKS ^|
 ^TMP(541078638,"MICRO URINE",1,"TXT",4) = BACT RPT REMARK 4^AND ONE MORE 
 LINE FOR THE GIVE OF IT ^|
 ^TMP(541078638,"MICRO URINE",1,"TXT",5) = BACT RPT REMARK 5^AND THE LAST 
 ONE ^|
 ^TMP(541078638,"MICRO URINE",2) = MI 99 4202^JUL 15,
 1999@17:54:21^URINE^Final^JUL 17, 1999^URINE^^LR(53,7009283.824579^|
 ^TMP(541078638,"MICRO URINE",2,"TXT",1) = BACT RPT REMARK 1^SPECIMEN 
 GROSSLY CONTAMINATED WITH 3 OR MORE ORGANISM: RESUBMIT ^|
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Sample data stream, using first item:
 EXTERNAL ROUTINES:
  ^%DT,DD^%DT,NOW^%DTC,$$GET1^DIQ,$$REFVAL^LRPXAPI,RESULTS^LRPXAPI,$$LRDFN^LRPXA
PIU,$$SPECNM^LRPXAPIU,$$FLIP^SPNRPCIC

SPN LAB MICRO BLOOD - COL^SPNRPCF
 This RPC supports the following report(s):
  
 Report Page Name                Subscreen
 Urinary Tract Infections        Microbiology Blood
  
 Notes:  
  
 DFN = Internal Entry Number of patient in PATIENT file (#2)
 CUTDATE = Cut off date. Results are inclusive from cut off
 date to present
  
 Tested at the Bay Pines FO account using DFN = 10000262 and
 CUTDATE=1-1-1900.  Of course, at other sites, DFN would vary.
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data is returned delimited by the up-arrow (^), with each piece defined 
 EXTERNAL ROUTINES:
  ^%DT,DD^%DT,NOW^%DTC,$$GET1^DIQ,$$REFVAL^LRPXAPI,RESULTS^LRPXAPI,$$LRDFN^LRPXA
PIU,$$SPECNM^LRPXAPIU,$$FLIP^SPNRPCIC

SPN PUT PROSTHETIC DEVICES - COL^SPNRPCG
  This RPC is for the Prosthetic Device Codes subscreen on the Pressure 
  Ulcer Treatment report.
  
  Calling the line tag COL will generate all Prosthetic Device Codes on
  file from the cut off date forward.
  
  The results are first placed into ^UTILITY($J), and
  then sorted into reverse date order and placed into ^TMP($J)
  
  To call this RPC, simply DO
  COL(,DFN,CUTDATE) , where
  
  DFN = Internal Entry Number of patient in the PATIENT file (#2)
  
  CUTDATE = Cut off date. Results are inclusive from cut off date to 
 present
  
  Sample ^TMP Global data string, using first item:
  
  Piece
   1 is HCPCS CODE --> L3001  (this is the prosthetic device code)
   2 is Item Description --> LINER-SPENCO
   3 is Date Delivered --> JUN 19, 2003
   4 is file and note where information was obtained from (troubleshooting 
 only)
  
  
 Global ^TMP($J -- NOTE: translation in effect
 ^TMP(545631591,1)=L3001^LINER-SPENCO^JUN 19, 2003^RMPR(664.1(9548
                2)=L3221^SHOE-EXTRA DEPTH *PR^AUG 30, 1999^RMPR(664.1(5039
                3)=L3002^INSERT,SHOE^AUG 30, 1999^RMPR(664.1(5039
                4)=L2999^SOCKS,DIABETIC,LOOSE-FIT *PR^AUG 30, 
 1999^RMPR(664.1(5039
                5)=L3002^INSOLE-MOLDABLE *PR^JAN 11, 1999^RMPR(664.1(1379
                6)=L3002^INSERT,SHOE^JAN 11, 1999^RMPR(664.1(1415
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   Data is returned as a data stream, with each piece as follows:
 EXTERNAL ROUTINES:
  ^%DT,$$FLIP^SPNRPCIC

SPN MEDS 1ST 2-CHARS VA CLASS - COL^SPNRPCH
 This RPC returns Pharmacy data in support of the Pharmacy Supplies 
 subscreen of the Pressure Ulcer Treatment report.
  
 The results are first placed into ^UTILITY($J), and
  then sorted into reverse date order and placed into ^TMP($J)
  
 NOTE: NATIONAL DRUG CLASS (NDC) is also called VA CLASSIFICATION.
  
 NOTE: This RPC will find prescriptions based on the
 first two characters of the NATIONAL DRUG CLASS
 being XX OR XA (these represent PHARMACY SUPPLIES).
  
 NOTE: To find prescriptions based on the entire 5-character
 NATIONAL DRUG CLASS name, use SPN MEDS BY FULL VA CLASS
  
    Parameter values:
    DFN is ien of the pt.
    CUTDATE is the date to start collection data from.
    TYPE will be for the drug class.
       1 is for rx's when the first two characters of the NDC 
       are XA or XX.
       2 is for rx's when the first two characters of the NDC
       are IM and the drug name contains INFLUENZA.
          Returns:
                 TMP($J,X) sorted by most recent Rx
                 VA CLASS ^ ITEM DESCRIPTION ^ DATE DISPENSED ^ PSRX(IEN
  
  
 SPN MEDS 1ST 2-CHARS VA CLASS Results: 
  
 IP 10.4.229.202
 Account dayt42
  
 NOTE  this routine will find prescriptions based on the
 THE FIRST TWO CHARACTERS IN THE NATIONAL DRUG CLASS IN, AM .
 TYPE will be for the drug class
 1 is rx's that have a drug class that begin with either a XA OR XX..
 2 Locates RX's the have a drug NDC that begins with 'IM' and the drug 
 name has INFLUENZA in the text
  
 Returns:
 TMP($J,x) sorted by most recent rx
 VA CLASS ^ ITEM DESCRIPTION ^ DATE DISPENSED ^ PSRX(IEN
  
 Three parameters
  
 1 1002624015  / ICN    (Patients dfn is 4570)
 2 Jan 01 2004  / cut date
 3 1
  
 Report Generated at Fri Jan 19 17:51:17 CST 2007. 
 parameter size: 3 
 Division : 552 Is connected true 
  
  
 SPN MEDS 1ST 2-CHARS VA CLASS Results: 
  
 XA402^POUCH,DRAINABLE,SUR-FIT NATURA 401513^MAR 31, 
 2005^PSRX(4302643^EOL999
 XA402^POUCH,DRAINABLE,SUR-FIT NATURA 401513^FEB 03, 
 2005^PSRX(4237949^EOL999
 XA604^SKIN PREP WIPE^JAN 21, 2005^PSRX(4221489^EOL999
 XA604^WAFER,SURFIT-NAT FLEXIBLE C#4131-67^JAN 21, 2005^PSRX(4221493^EOL999
 XA511^CATHETER 26FR 5CC BALLOON (EA)^NOV 18, 2004^PSRX(4160679^EOL999
 XA900^ADHESIVE REMOVER PAD^NOV 17, 2004^PSRX(4160676^EOL999
 XA400^TRAY, CATHETERIZATION W/O CATHETER^NOV 17, 2004^PSRX(4160687^EOL999
 XA500^URINE DRAINAGE BAG (CYSTOFLO) (ea) ^AUG 13, 2004^PSRX(4062088^EOL999
 XA604^WAFER,SURFIT-NAT FLEXIBLE C#4131-67^AUG 13, 2004^PSRX(4062089^EOL999
 XA604^WAFER,DURAHESIVE FLEXABLE #413165^JUN 28, 2004^PSRX(4007001^EOL999
 XA400^TRAY, CATHETERIZATION W/O CATHETER^JUN 11, 2004^PSRX(3992102^EOL999
 XA400^TRAY, CATHETERIZATION W/O CATHETER^MAY 14, 2004^PSRX(3962960^EOL999
 XA400^TRAY, CATHETERIZATION W/O CATHETER^MAY 14, 2004^PSRX(3962961^EOL999
 XA700^OSTO-ZYME 8 OZ^MAY 14, 2004^PSRX(3963501^EOL999
 XA402^POUCH,DRAINABLE,SUR-FIT NATURA 401513^APR 07, 
 2004^PSRX(3923827^EOL999
 XA604^SKIN PREP WIPE^FEB 02, 2004^PSRX(3850184^EOL999
 XA604^SKIN PREP WIPE^FEB 02, 2004^PSRX(3850185^EOL999
 XA604^WAFER,DURAHESIVE FLEXABLE #413165^JAN 30, 2004^PSRX(3850186^EOL999
  
  
  SPN MEDS 1ST 2-CHARS VA CLASS Results length: 1227 Is connected true 
  
 Ran to find no data results:
 SPN MEDS 1ST 2-CHARS VA CLASS Results: 
 SPN MEDS 1ST 2-CHARS VA CLASS Results length: 0 
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
  TYPE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
           Returns:
 EXTERNAL ROUTINES:
  ^%DT,$$FLIP^SPNRPCIC

SPN MEDS BY FULL VA CLASS - COL^SPNRPCI
 This RPC supports the Antiviral Medications subscreen of the Influenza 
 Diagnosis and Treatment Report.
  
          NOTE this RPC will find antiviral medications based on the
                WHOLE VALUE of the NATIONAL DRUG CLASS (NDC)
                i.e., IN160, AM800.  Another name for NDC is VA CLASS.
          NOTE  To find prescriptions based on the first two characters
                of the NATIONAL DRUG CLASS, use SPN MEDS 1ST 2-CHARS VA 
 CLASS
  
         Parameter values:
  
            DFN is ien of the pt
            CUTDATE is the date to start collection data from
            TYPE will be for the drug's VA class
                1 is anti-viral medications
                2 is NSAID analgesics
                3 is pain medications
                4 is anticonvulsants
                5 is tricyclic antidepressants
                6 is opioid analgesics
                7 is local anesthetics
                8 is other medications
  
         Returns:
                TMP($J,X) sorted by most recent rx
                VA CLASS ^ ITEM DESCRIPTION ^ DATE DISPENSED ^ PSRX(IEN
  
 Piece 1 is VA CLASS (such as AM800)
 Piece 2 is ITEM DESCRIPTION (such as OSELTAMIVIR PO4 75MG CAP)
 Piece 3 is DATE DISPENSED (such as 10/01/2003)
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
  TYPE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data is returned delimited by the up-arrow (^), with each piece defined
 EXTERNAL ROUTINES:
  ^%DT,$$FLIP^SPNRPCIC

SPN IDT DISCHARGE LOCATIONS - COL^SPNRPCJ
 This RPC supports the Discharge Locations subscreen of the Influenza
 Diagnosis and Treatment Report.
  
 Returns discharge location and discharge date (Note: potentially, this 
 can also be used for admission location and admission date, by passing a 
 1 in the TYPE parameter).  A TYPE parameter of 1 will return admission
 information, whereas 3 will return discharge information.
  
 Parameter values:
  
       DFN is ien of the patient
       CUTDATE is the date from which to start collection of data
       TYPE is 1 for Admission, 3 for Discharge
  
  
 Sample ^TMP Global data string, using first item, and based on:
 DFN     = 4812
 CUTDATE = JAN 1,1980
 TYPE    = 3
  
   Piece
    1 is Date & Time of Admission --> NOV 27, 1996@08:30:35
    2 is Ward admitted to --> 3SE
    3 is Room-Bed --> 3D15-6
    4 is Date & Time of Discharge --> NOV 29,1996@14:37:18
    5 is Discharge Location --> RETURN TO COMMUNITY-INDEPENDENT
    6 is Mumps global root and ien (for troubleshooting only)
    7 is End of Line indicator (EOL999)
  
  
 ^TMP(541077599,1) = NOV 27, 1996@08:30:35^3SE^3D15-6^NOV 29, 
 1996@14:37:18^RETURN TO COMMUNITY-INDEPENDENT^DGPT(101199^EOL999
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
  TYPE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Data is returned delimited by the up-arrow (^), with each piece defined 
 EXTERNAL ROUTINES:
  ^%DT,$$FLIP^SPNRPCIC

SPN PUT LAB CYTOPATH - COL^SPNRPCM
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  SPN LAB CYTOPATHOLOGY Results: 
 EXTERNAL ROUTINES:
  ^%DT,DD^%DT,NOW^%DTC,$$REFVAL^LRPXAPI,RESULTS^LRPXAPI,$$LRDFN^LRPXAPIU,$$LRIDT
^LRPXAPIU,$$FLIP^SPNRPCIC

SPN RX UTILIZATION SPECIFIC - RPC^SPNLRS7
 PARAMETERS
  FDATE
   TYPE:LITERAL
  TDATE
   TYPE:LITERAL
  HIUSERS
   TYPE:LITERAL
  VALUES
   TYPE:LIST
  PTLIST
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

SPN PUT LAB COMPLETE BLOOD - COL^SPNRPCL
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^%DT,$$LRDFN^LRPXAPIU,$$FLIP^SPNRPCIC

SPN PUT LAB SURG PATH - COL^SPNRPCN
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^%DT,NOW^%DTC,RESULTS^LRPXAPI,$$LRDFN^LRPXAPIU,$$FLIP^SPNRPCIC

SPN PUT LAB MICRO - COL^SPNRPCO
 PARAMETERS
  ICN
   TYPE:LITERAL
  CUTDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^%DT,DD^%DT,NOW^%DTC,$$GET1^DIQ,$$REFVAL^LRPXAPI,RESULTS^LRPXAPI,$$LRDFN^LRPXA
PIU,$$SPECNM^LRPXAPIU,$$FLIP^SPNRPCIC

SPN BUILD PICK LIST ENTRIES - COL^SPNRPCQ
 Supports the use of filters by providing a list of locally valid entries 
 in the site's Vista files for Lab tests, Drug names, and Prosthetic 
 device names.  This local "fetch" can then be used to supply locally 
 valid records from which to choose when running the SPN FILTER call.  
 This RPC is necessary because each site's file entries are named and 
 numbered differently.
 PARAMETERS
  TYPE
   TYPE:LITERAL
   The value for this parameter must be either CLINIC, PROS, NDC, or LAB.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

SPN PHARMACY UTL REPORT - RPC^SPNLRL7
 PARAMETERS
  FDATE
   TYPE:LITERAL
   Date to start from.  mm/dd/yyyy.
  COST
   TYPE:LITERAL
   Value must be either ACTUAL OR CURRENT.
  MINCOST
   TYPE:LITERAL
   Minimum dollar cost of dispensed fills to display:  (0-9999999)
  MINFILL
   TYPE:LITERAL
   Minimum number of fills to display:  (1-999999)
  PTLIST
   TYPE:LIST
   ICN
  TDATE
   TYPE:LITERAL
   Date to end collection.  mm/dd/yyyy.
  HIUSERS
   TYPE:LITERAL
   Number of highest users to identify:  (0-100)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RPC SPN PHARMACY UTL REPORT Results: 
 EXTERNAL ROUTINES:
  

SPN LAB UTL SPECIFIC - RPC^SPNLRR7
 PARAMETERS
  FDATE
   TYPE:LITERAL
   DATE TO START REPORT
  TDATE
   TYPE:LITERAL
   DATE TO END AT
  HIUSERS
   TYPE:LITERAL
   0 JUST LABS AND STATS
  VALUES
   TYPE:LIST
   EXAMPLE OF WHAT IS IN THE QLIST
  PTLIST
   TYPE:LIST
   ICN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

SPN LAB UTL REPORT - RPC^SPNLRK7
 PARAMETERS
  FDATE
   TYPE:LITERAL
   DATE TO START FROM
  TDATE
   TYPE:LITERAL
   DATE TO END AT
  QLIST
   TYPE:LITERAL
   Minimum number of results reported for a test to be listed
  HIUSERS
   TYPE:LITERAL
   Number of highest users to identify
  PTLIST
   TYPE:LIST
   PATIENTS DFN IN LIST FORMAT
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

SPN RAD UTL REPORT - RPC^SPNLRM7
 PARAMETERS
  FDATE
   TYPE:LITERAL
   DATE TO START COLLECTING DATA FROM
  TDATE
   TYPE:LITERAL
   DATE TO COLLECT DATA UP TO
  MINPROC
   TYPE:LITERAL
   Minimum number of procedures to display:  (1-99999)
  MINCOST
   TYPE:LITERAL
   Minimum dollar cost of procedures to display:  (0-999)
  HIUSERS
   TYPE:LITERAL
   Number of highest users to identify:  (0-100)
  PTLIST
   TYPE:LIST
   DFN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

SPN GET LAST SEEN - COL^SPNJRPC1
 This RPC returns list of patients with the date that they were last seen 
 at a clinic.
 PARAMETERS
  ICNLST
   TYPE:LIST
   An array list of Integration Control Numbers of patients in the PATIENT 
  DAYS
   TYPE:LITERAL
   The number of days back from current date to begin search from.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  $$DATEMATH^SPNLRUDT

SPN INFLUENZA RPT - COL^SPNRPCW
 PARAMETERS
  ICN
   TYPE:LITERAL
  SDATE
   TYPE:LITERAL
  EDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^%DT,DD^%DT,C^%DTC,$$REFVAL^LRPXAPI,RESULTS^LRPXAPI,$$BUGNM^LRPXAPIU,$$LRDFN^L
RPXAPIU,$$SPECNM^LRPXAPIU,$$FLIP^SPNRPCIC,COL^SPNRPCW2

SPN ICDS/CPTS & DESCRIPTIONS - COL^SPNJRPCX
 Returns ICD/CPT Codes and Descriptions for a given patient based on the 
 ICN and a cutoff date. 
 PARAMETERS
  ICN
   TYPE:LITERAL
   Individual Patient's ICN 
  SPNCUTDT
   TYPE:LITERAL
   Date to start search from.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT,$$FLIP^SPNRPCIC

SPN GET FUTURE APPTS - COL^SPNJRPC2
 Returns a listing of patients with appointment information
 if they are scheduled for an appointment during the 
 requested date range.
 PARAMETERS
  ICNLST
   TYPE:LIST
   A list of Integration Control Numbers of patients in the PATIENT file (#2)
  SPNSEL
   TYPE:LITERAL
   Specifies which patients to search through:
  SPNSTRT
   TYPE:LITERAL
   Starting date range.
  SPNEND
   TYPE:LITERAL
   Ending date range.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Format:
 EXTERNAL ROUTINES:
  ^%DT

SPN NUTRITION PRECAUTIONS - RPC^SPNRPC03
 PARAMETERS
  SDATE
   TYPE:LITERAL
  EDATE
   TYPE:LITERAL
  ICN
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

SPN LAB SPUTUM - COL^SPNRPCA1
 PARAMETERS
  ICN
   TYPE:LITERAL
  SDATE
   TYPE:LITERAL
  EDATE
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^%DT,DD^%DT,NOW^%DTC,$$REFVAL^LRPXAPI,RESULTS^LRPXAPI,$$LRDFN^LRPXAPIU,$$FLIP^
SPNRPCIC

SPN INPAT OUTPAT ACTIVITY - COL^SPNJRPC3
 Returns inpatient/outpatient activity statistics for a list of given 
 patients (based on the ICN) based on a date range, minimum number of 
 results, and number of highest patients to identify. 
 PARAMETERS
  ICNLST
   TYPE:LIST
   Patient's ICN in string format (ICN
  FDATE
   TYPE:LITERAL
   Date to start search from.  
  TDATE
   TYPE:LITERAL
   Date to end search at.  
  HIUSERS
   TYPE:LITERAL
   Number of patients with highest amount of orders to identify. 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN INPAT OUTPAT SPECIFIC - COL^SPNJRPC4
 Returns inpatient/outpatient activity information for a list of given 
 patients (based on the ICN) based on a date range, minimum number of 
 results, a list of Clinic names/numbers and Specialty names.  There are 
 two types of returns for this RPC depending on the HIUSERS parameter that 
 is passed, a '0' will return clinic & specialty stats only and a '1' will 
 return patient usage data as well. 
 PARAMETERS
  ICNLST
   TYPE:LIST
   Patient's ICN in string format (ICN
  FDATE
   TYPE:LITERAL
   Date to start search from.  
  TDATE
   TYPE:LITERAL
   Date to end search at.  
  CLINSTP
   TYPE:LIST
   List of Clinic Stops to search for.
  SPECLTY
   TYPE:LIST
   Type of Specialties to search for. 
  HIUSERS
   TYPE:LITERAL
   Type of data to return: 0 - clinic & specialty stats, 1 - patient usage 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN PAT BREAKDOWN - COL^SPNJRPC5
 Returns breakdown of patient statistics for a list of given patients 
 (based on the ICN) based on a date range, if provided.
 PARAMETERS
  ICNLIST
   TYPE:LIST
   Patient's ICN in string format (ICN
  FDATE
   TYPE:LITERAL
   (Optional) Date to start search from.  
  TDATE
   TYPE:LITERAL
   (Optional) Date to end search at.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN CURRENT INPATS - COL^SPNJRPC6
 Returns Current Inpatient report data.
 PARAMETERS
  ICNLIST
   TYPE:LIST
   Patient's ICNs in list format (ICN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN GET SPEC CODES - COL^SPNJRPC7
 Returns full list of Specialty PTF codes.
 PARAMETERS
  SPEC
   TYPE:LITERAL
   (not used)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN GET MAILING ADDRESS - COL^SPNJRPC8
 Returns current mailing addresses for a list of given patients (based on 
 the ICN).
 PARAMETERS
  ICNLIST
   TYPE:LIST
   Patient's ICNs in list format (ICN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN ICD9 CODE SEARCH - COL^SPNJRPC9
 Returns a patient's ICD9 Code history for a list of given patients (based 
 on the ICN), date range, and a list of ICD codes desired to be searched.
 PARAMETERS
  ICNLST
   TYPE:LIST
   Patient's ICNs in list format (ICN
  FDATE
   TYPE:LITERAL
   The admission starting date
  TDATE
   TYPE:LITERAL
   The Admission ending date
  PATTYP
   TYPE:LITERAL
   (1) Patients in SCI Registry only (2) All Patients
  SPNANS
   TYPE:LITERAL
   (1) Range of Codes (2) Individual codes
  CODES
   TYPE:LIST
   The list or range of ICD codes
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN LIST ICDS/CPTS - COL^SPNJRPC0
 Returns full list of ICD or CPT codes and descriptions.
 PARAMETERS
  TYPE
   TYPE:LITERAL
   Type of code that is desired (CPT or ICD)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN ADMISSIONS REPORT - EN1^SPNRPC13
 PARAMETERS
  STDATE
   TYPE:LITERAL
  ENDATE
   TYPE:LITERAL
  PTLIST
   TYPE:LIST
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  ^%DT,$$GET1^DIQ,$$FLIP^SPNRPCIC,IN5^VADPT,KVAR^VADPT

SPN GET CLINIC STOPS - COL^SPNJRP4A
 Returns list of all clinic stops.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN GET ENROLLMENT - COL^SPNJRPCE
 Returns most recent Eligibility Enrollment Application information.
 PARAMETERS
  ICN
   TYPE:LITERAL
   Individual patient's ICN.
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  $$FLIP^SPNRPCIC

SPN GET SCI COORDINATORS - COL^SPNJRPCC
 Returns SCI Coordinator Providers from New Person file.
 PARAMETERS
  CPSRCH
   TYPE:LITERAL
   Partial name search of coordinator(s)  (optional parameter)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  LIST^DIC

SPN GET VA STATUS - COL^SPNJRPCS
 Returns VA SCI Status based on patient's ICN.
 PARAMETERS
  ICN
   TYPE:LITERAL
   Individual patient's ICN.
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$FLIP^SPNRPCIC

SPN GET PAIN RATING - COL^SPNJRPCP
 Returns most recent Vitals Pain Rating (based on the ICN).
 PARAMETERS
  ICN
   TYPE:LITERAL
   Individual patient's ICN.
 RETURN VALUE
  TYPE: ARRAY
   
 EXTERNAL ROUTINES:
  EN6^GMRVUTL,$$FLIP^SPNRPCIC

SPN RECENT MED CENTERS - COL^SPNJRPCM
 Returns list of sites where requested patient has been treated.
 PARAMETERS
  ICN
   TYPE:LITERAL
   ICN of the patient to process
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  $$FLIP^SPNRPCIC

SPN GET PROS ITEMS - COL^SPNJRPPL
 Returns full list of prosthetic items.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  $$CPT^ICPTCOD,$$UP^XLFSTR

SPN PROS UTL SPECIFIC - COL^SPNJRPP2
 Returns detailed information for delivered prosthetics items for a list 
 of given patients (based on the ICN) based on a date range, and 
 prosthetic item list.
 PARAMETERS
  ICNLIST
   TYPE:LIST
   Patient's ICN in string format (ICN
  FDATE
   TYPE:LITERAL
   Date to start search from.  
  TDATE
   TYPE:LITERAL
   Date to end search at.  
  ITEMS
   TYPE:LIST
   Array that has the prosthetic item names
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN PROS UTL REPORT - COL^SPNJRPP1
 Returns detailed information for delivered prosthetics items for a list 
 of given patients (based on the ICN) based on a date range.
 PARAMETERS
  ICNLIST
   TYPE:LIST
   Patient's ICN in string format (ICN
  FDATE
   TYPE:LITERAL
   Date to start collection from: (mm/dd/yyyy)
  TDATE
   TYPE:LITERAL
   Date to end collection: (mm/dd/yyyy)  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN COMM DISCHARGES - COL^SPNJRPCD
 Returns Discharge to Community report information.
 PARAMETERS
  ICNLIST
   TYPE:LIST
   Patient's ICN in list format (ICN
  FDATE
   TYPE:LITERAL
   Date to begin search with.
  TDATE
   TYPE:LITERAL
   Date to end search at.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN INPAT CARE - COL^SPNJRPIC
 Returns detailed information for Applications for Inpatient Care for a 
 list of given patients (list of ICNs) based on a date range. 
 PARAMETERS
  ICNLIST
   TYPE:LIST
   Patient's ICNs in string format (ICN
  FDATE
   TYPE:LITERAL
   Date to start search from.  
  TDATE
   TYPE:LITERAL
   Date to end search at.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN SCI SCD DISCHARGES - COL^SPNJRPSD
 Returns detailed information for SCI/SCD DISCHARGES for a list of given 
 patients (based on the ICN) based on a date range.
 PARAMETERS
  ICNLIST
   TYPE:LIST
   Patient's ICN in string format (ICN
  FDATE
   TYPE:LITERAL
   Date to start search from.  
  TDATE
   TYPE:LITERAL
   Date to end search at.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN READMISSIONS REPORT - COL^SPNJRPRE
 Returns detailed information for SCI/SCD ADMISSIONS and DISCHARGES for a 
 list of given patients (based on the ICN) based on a date range, so that 
 numbers of Readmissions can be determined.
 PARAMETERS
  ICNLIST
   TYPE:LIST
   Patient's ICN in string format (ICN
  FDATE
   TYPE:LITERAL
   Date to start search from.  
  TDATE
   TYPE:LITERAL
   Date to end search at.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT,$$GET1^DIQ,$$KSP^XUPARAM

SPN PROGRESS NOTES WRAPPER - COL^SPNJRPPN
 Submits progress note to VistA and returns a confirmation or error 
 message, if problem occurred.
 PARAMETERS
  DFN
   TYPE:LITERAL
   DFN/Internal Number of Patient
  TITLE
   TYPE:LITERAL
   TIU Document Definition
  VDT
   TYPE:LITERAL
   Time/Date of Visit (Not used, leave blank)
  VLOC
   TYPE:LITERAL
   Visit Location (Not used, leave blank)
  VSIT
   TYPE:LITERAL
   Visit file number (Not used, leave blank)
  TIUX
   TYPE:LIST
   Array containing field data and body document
  VSTR
   TYPE:LITERAL
   Visit string (VLOC;VDT;VTYPE)
  SUPPRESS
   TYPE:LITERAL
   Suppress execution of Commit Action? (Not used, leave blank)
  NOASF
   TYPE:LITERAL
   Set Asave Cross-reference? (Not used, leave blank)
  DUZ
   TYPE:LITERAL
   Internal ID of employee entering Progress Note
  SPNSIG
   TYPE:LITERAL
   Electronic Signature Code of employee
 RETURN VALUE
  TYPE: SINGLE VALUE
   
 EXTERNAL ROUTINES:
  VALIDATE^SPNRPC6,MAKE^TIUSRVP,SIGN^TIUSRVP,DUZ^XUP,$$ENCRYP^XUSRB1

SPN GET RACE - COL^SPNJRPRC
 Returns VA race information based on the patient's ICN.
 PARAMETERS
  ICN
   TYPE:LITERAL
   Individual patient's ICN.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  $$FLIP^SPNRPCIC,DEM^VADPT,KVAR^VADPT

SPN ICN LOADER - COL^SPNJRPIL
 Returns the appropriate ICNs for every DFN that is requested. 
 PARAMETERS
  DFNLST
   TYPE:LIST
   Patients DFN in list format (DFN
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN INPATIENT ICNS - COL^SPNJRPIP
 Returns list of ICNs of all Inpatients during a given date range...used 
 as input for SCI filtered reports.
 PARAMETERS
  FDATE
   TYPE:LITERAL
   Date to begin Inpatient search
  TDATE
   TYPE:LITERAL
   Date to end Inpatient search
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN SERVICE CONNECTED ICNS - COL^SPNJRPSC
  
  
  
 Returns list of ICNs of all patients with a service connection percentage 
 within the range given.
 PARAMETERS
  BPER
   TYPE:LITERAL
   Beginning or low range percentage of service connection
  EPER
   TYPE:LITERAL
   Ending or high range percentage of service connection
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN FEE BASIS ICNS - COL^SPNJRPFB
 Returns list of patient's ICNs who were Fee Basis
 patients during a selected date range...results are used
 for filtered reporting.
 PARAMETERS
  FDATE
   TYPE:LITERAL
   Date to begin Fee Basis search.
  TDATE
   TYPE:LITERAL
   Date to end Fee Basis search.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Sample of return:
 EXTERNAL ROUTINES:
  ^%DT

SPN PROSTHETICS ICNS - COL^SPNJRPPR
 Returns list of ICNs of all patients with a given prosthetics device.
 PARAMETERS
  DESC
   TYPE:LIST
   List of descriptions of the prosthetic devices (array format)
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN MEDICATIONS ICNS - COL^SPNJRPDC
 Returns list of ICNs of all patients prescribed a specific VA Drug Class 
 during a given date range.
 PARAMETERS
  FDATE
   TYPE:LITERAL
   Date to begin Medications search
  TDATE
   TYPE:LITERAL
   Date to end Medications search
  VADC
   TYPE:LITERAL
   VA Drug Class list (array format)
  ICNLST
   TYPE:LITERAL
   List of ICNs to search from
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN OUTPATIENT ICNS - COL^SPNJRPOP
 Returns list of ICNs of all outpatient visits during a given date range 
 and clinic list.
 PARAMETERS
  FDATE
   TYPE:LITERAL
   Date to begin Outpatients search
  TDATE
   TYPE:LITERAL
   Date to end Outpatients search
  CLINLST
   TYPE:LIST
   List of Outpatient clinic stops 
  ICNLST
   TYPE:LIST
   List of ICNs to search from
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT

SPN GET ETHNICITY - COL^SPNJRPET
 Returns VA Ethnicity information for a patient.
 PARAMETERS
  ICN
   TYPE:LITERAL
   Individual patient's ICN.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  $$FLIP^SPNRPCIC,DEM^VADPT

SPN SCI USER ROLES - COL^SPNJRPSR
 Returns SCI Roles for all SCI NEW PERSON entries.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN MEANS & ELIGIBILITY - COL^SPNJRPE2
 Returns list of current Means and Eligibility for all requested patients
 PARAMETERS
  ICNLIST
   TYPE:LITERAL
   List of patient ICNs to process
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  

SPN ICDS/CPTS W RAD COMMENTS - COL^SPNJRPIW
 Returns ICD/CPT Codes with Radiology Comments for a given patient based 
 on the ICN and a cutoff date.
 PARAMETERS
  ICN
   TYPE:LITERAL
   Individual patient's ICN.
  SPNCUTDT
   TYPE:LITERAL
   Date to start search from.  
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT,$$FLIP^SPNRPCIC

SPN GET ADT DATA - COL^SPNJRPPM
 Returns ADT Patient Movement entries for the requested date(s).
 PARAMETERS
  ICNLST
   TYPE:LITERAL
   List of patient's ICNs (ICN
  ACTDATE
   TYPE:LITERAL
   Date to begin ADT entry search from.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   
 EXTERNAL ROUTINES:
  ^%DT,$$GET1^DIQ,COL^SPNJRPCS,$$FLIP^SPNRPCIC

SPN MAILMAN NOTIFICATION - MAIL^SPNJRPML
 Sends admit/discharge/transfer mailman notifications to individual or 
 group Mailman email addresses
 PARAMETERS
  FROM
   TYPE:LITERAL
   DUZ of the user initiating the notification 
  SUBJECT
   TYPE:LITERAL
   Subject of mailman notification
  PAR
   TYPE:LITERAL
   Four options, set to 1 if chosen (1
  TEXT
   TYPE:LIST
   An array format TEXT(1...n) containing the email message in 1 or more 
  MLTO
   TYPE:LIST
   An array format MLTO(1...n) containing the recipients of the email in, 
 RETURN VALUE
  TYPE: SINGLE VALUE
   
 EXTERNAL ROUTINES:
  $$GOTLOCAL^XMXAPIG

DSIV GET EIV PATIENT REPORT - PIIV^DSIVIC3
 Returns one to many patient eIV reports from the Insurance Type multiple 
 in the patient file.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient DFN (ien).
  DSIVPATP
   TYPE:LITERAL
   Contains the pointer to the patient policy IEN from the Insurance Type 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns the following patient policy eIV report data in a global array:
 EXTERNAL ROUTINES:
  

NHIN GET VISTA DATA - GET^NHINV
 This RPC retrieves the requested data from VistA, and returns it in
 ^TMP($J,"NHINV",n) as XML.
 PARAMETERS
  DFN
   TYPE:LITERAL
   Internal entry number from Patient file #2
  TYPE
   TYPE:LITERAL
   The kind(s) of data to return, which may include:
  START
   TYPE:LITERAL
   The date/time from which to begin searching for data [optional].
  STOP
   TYPE:LITERAL
   The date/time at which to end searching for data [optional].
  MAX
   TYPE:LITERAL
   The maximum number of items to return per data type [optional].
  ITEM
   TYPE:LITERAL
   The identifier of a single item to return [optional, but TYPE must
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Text array formatted as XML
 EXTERNAL ROUTINES:
  $$GETDFN^MPIF001

EDPCTRL RPC - RPC^EDPCTRL
 This RPC acts as the "front controller" for the EDIS Tracking Application.
 It accepts requests that are initially passed into a web server.  The RPC
 uses the parameters that are passed in to determine which command to 
 execute.  The returned data is formatted as XML.  The XML structure varies
 based a what data were requested.
 PARAMETERS
  PARAMS
   TYPE:LIST
   This is a list of parameters that were passed to the Java middle tier via 
 RETURN VALUE
  TYPE: ARRAY
  The return results are formatted as an XML document.
 EXTERNAL ROUTINES:
  $$DEBUG^EDPCDBG,PUTREQ^EDPCDBG,$$STA^XUAF4

EDPCBRD RPC - RPC^EDPCBRD
 This RPC acts as the "front controller" for the EDIS Display Board.  It 
 accepts requests that are initially passed into a web server.  The RPC 
 uses the parameters that are passed in to determine which command to 
 execute.  The returned data is formatted as XML.  The XML structure 
 varies based a what data were requested.
  
 Since the Display Board runs in a "kiosk" mode, this RPC allows proxy 
 user access.
 PARAMETERS
  SESS
   TYPE:LITERAL
   This identifies the user and site that are passed in from the Java middle 
  PARAMS
   TYPE:LIST
   This is a list of parameters that were passed to the Java middle tier via 
 RETURN VALUE
  TYPE: ARRAY
  The return results are formatted as an XML document.
 EXTERNAL ROUTINES:
  $$DEBUG^EDPCDBG,PUTREQ^EDPCDBG,$$IEN^XUAF4

ROR GET M VERSION - VERSRV^RORUTL11
 Used by CCR to return an agreed-upon version number to the GUI 
 application.  The GUI will analyze the version number and display a 
 message if the client and server are out of sync.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

VAFC AA UPDATE - AAUPD^VAFCRPC
 This remote procedure call will update assigning authority passed in by 
 MPI to VAFC ASSIGNING AUTHORITY file #391.92.
 PARAMETERS
  ARRAA
   TYPE:LIST
   ARRAA may contain the following values:
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$ADD^VAFCAAUT

MPI EVENT LIST - LINKDATA^MPIRPC
 This RPC is used to return the list of all LINK and DO NOT LINK records 
 associated with the ICN list passed as input.  The DO NOT LINK list will 
 be derived from the records in the MPI DO NOT LINK file (#985.28) and 
 pulled using the GET^MPIDNL API. The LINK list will be built from PRIMARY
 ICN values associated with any of the ICNs in the input list.
 PARAMETERS
  SOURCEID
   TYPE:LITERAL
   This parameter is a list of ICN/VPID's that IMDQ Toolkit will provide to
 RETURN VALUE
  TYPE: ARRAY
  The return value is a list of records that the given record should not be
 EXTERNAL ROUTINES:
  

MAG FIND IMAGE TEXT FILE - FINDFIL^MAGDOD01
   +---------------------------------------------------------------+
   | Property of the US Government.                                |
   | No permission to copy or redistribute this software is given. |
   | Use of unreleased versions of this software requires the user |
   | to execute a written test agreement with the VistA Imaging    |
   | Development Office of the Department of Veterans Affairs,     |
   | telephone (301) 734-0100.                                     |
   |                                                               |
   | The Food and Drug Administration classifies this software as  |
   | a medical device.  As such, it may not be changed in any way. |
   | Modifications to this software may result in an adulterated   |
   | medical device under 21CFR820, the use of which is considered |
   | to be a violation of US Federal Statutes.                     |
   +---------------------------------------------------------------+
  
 This Remote Procedure allows the invoking client to use a filename 
 (without extension) to find the path and nearest location of an image 
 file.
 PARAMETERS
  FILENAME
   TYPE:LITERAL
   The value of this parameter is the name of an image file, without path or 
 RETURN VALUE
  TYPE: SINGLE VALUE
  The return value of this remote procedure is a string.
 EXTERNAL ROUTINES:
  FILEFIND^MAGDFB,$$NEARFMT^MAGUF

MAG STORAGE FETCH - FETCH^MAGSFTCH
 This Remote Procedure allows the invoking client to copy or move image files
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   <start IMAGE ien> | <stop IMAGE ien>
  DATE
   TYPE:LITERAL
   <Start image saved date> | <Stop image saved date>
  NETLOC
   TYPE:LITERAL
   FROM - network location | TO - network location | REMOVE source file 
 RETURN VALUE
  TYPE: ARRAY
  OUT is an array 
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI,$$NOW^XLFDT

MAG STORAGE FETCH SET - SETLOC^MAGSFTCH
 Sets the network location pieces 3 and 4 of the IMAGE file (#2005) 0 node
 or update the WORM network location reference piece 5 in 0 node,
 or update the BIG file reference in "FBIG" node.
 PARAMETERS
  MAGIEN
   TYPE:LITERAL
   Image IEN
  NTLOC
   TYPE:LITERAL
   IEN of NETWORK LOCATION file (#2005.2) to be set in IMAGE file (#2005).
 RETURN VALUE
  TYPE: ARRAY
  Array - 
 EXTERNAL ROUTINES:
  

MAG UTIL BKONLJB - BKONL^MAGSDOFL
 MAG UTIL BKONLJB - This Remote Procedure is used to track Offline Images. When 
insert Jukebox Platter, put images back Online stage.
 PARAMETERS
  MAGPLAT
   TYPE:LITERAL
   JB PLATTER LABEL(NAME) - UNDER OFFLINE IMAGES FILE (#2006.033)
 RETURN VALUE
  TYPE: ARRAY
  0, Done (Total number of file entries set back online)
 EXTERNAL ROUTINES:
  ^DIK

MAG UTIL CLNLOC - NETLOC^MAGSDEL5
 MAG UTILITY - Delete a Network Location that has no references to images.
  Input Parameters
    IN : Network Location IEN
    PLACE : User SITE PARAMETER IEN   
    STEP : IEN range to run - format = <startIEN>#<endIEN>
  
  Output Parameter:
    OUT : Array of results
  
 RPC to delete a network location. 
 If no image files are linked to the 
 network location, the selected entry will be removed.
  
 PARAMETERS
  IEN
   TYPE:LITERAL
   NETWORK LOCATION IEN
  PLACE
   TYPE:LITERAL
   PLACE OF IMAGE SITE PARAMETERS
  STEP
   TYPE:LITERAL
   Used to create chunks of data(iens) for processing.  
 RETURN VALUE
  TYPE: ARRAY
  <return code>,<informational message>
 EXTERNAL ROUTINES:
  

MAG UTIL DT2IEN - DTRANGE^MAGSHEC
 This Remote Procedure uses a date range to find an IEN in the IMAGE File (#2005
)
 PARAMETERS
  DATE
   TYPE:LITERAL
   DATE for IMAGE file (#2005) IEN search by Image Saved Date
  LIMIT
   TYPE:LITERAL
   LIMIT - 0: LIMIT ONE YEAR RANGE
 RETURN VALUE
  TYPE: ARRAY
  Array -
 EXTERNAL ROUTINES:
  ^%DT,$$FMTE^XLFDT,$$NOW^XLFDT

MAG UTIL GETNETLOC - SHARE^MAGSDEL5
 Returns a list of entries in the NETWORK LOCATION file(#2005.2).
 The RPC will return each NETWORK LOCATION data along with its 
 OPERATIONAL STATUS (offline/online), PHYSICAL REFERENCE, HASH SUBDIRECTORY,
 SITE, PLACE info ...etc.
 PARAMETERS
  TYPE
   TYPE:LITERAL
   ALL or select storage type "MAG" or "WORM"
 RETURN VALUE
  TYPE: ARRAY
  List of network locations with properties
 EXTERNAL ROUTINES:
  

MAG UTIL JBOFFLN - LINE^MAGSDOFL
 Track Offline JukeBox images | Take Image files Offline
  
 This Remote Prcedure will add the new entry in MAGQUEUE(2006.033).
 The platter volume name will be used to index with IMAGE file IEN.
 PARAMETERS
  TXTLine
   TYPE:LITERAL
   Text line in Offline Platter report.TXT
  PLATTER
   TYPE:LITERAL
   JUKEOX PLATTER NAME(LABEL)
 RETURN VALUE
  TYPE: ARRAY
  String -
 EXTERNAL ROUTINES:
  UPDATE^DIE

MAG UTIL LSTOFLJB - LISTOFL^MAGSDOFL
 LIST OFFLINE JB PLATTER(S)
 This Remote Procedure will provide the invoking client a list of all
 platter names with Offline Images from OFFLINE IMAGES file (#2006.033).
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
  ARRAY -  OFFLINE JB PLATTER NAME
 EXTERNAL ROUTINES:
  

ORQQPL PROBLEM NTRT BULLETIN - NTRTBULL^ORQQPL2
 This RPC generates a bulletin to the OR CAC Mail Group, indicating that 
 an unresolved term needs to be requested using the New Term Rapid 
 Turnaround website at http://hdrmul7.aac.va.gov:7151/ntrt/.
 PARAMETERS
  ORTERM
   TYPE:LITERAL
   This is the unresolved term for which an NTRT Request should be filed.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Boolean. Return true (1) if the bulletin was successfully generated, or
 EXTERNAL ROUTINES:
  

ORWPCE GET DX TEXT - GETDXTXT^ORWPCE3
 Resolves the preferred expanded form of the Diagnosis text for the 
 encounter pane on the notes tab.
 PARAMETERS
  NARR
   TYPE:LITERAL
   This is the narrative entered for the Dx.
  CODE
   TYPE:LITERAL
   This is the ICD code.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORQQCN ISPROSVC - ISPROSVC^ORQQCN2
 RPC will return 1 or 0 if the supplied file entry from 123.5 is marked as 
 part of the Consults-Prosthetics interface.  This RPC is used to disable 
 the Earliest Appropriate Date field and value when ordering Prosthetics 
 requests via CPRS GUI.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDPS33 GETADDFR - GETADDFR^ORWDPS33
 This RPC takes an Additive Orderable ITEM IEN and it returns the default
 additive frequency defined to the additive file.
 PARAMETERS
  OIIEN
   TYPE:LITERAL
   OIIEN = Orderable IEN from file 101.43.
 RETURN VALUE
  TYPE: SINGLE VALUE
  Returns the default additive value as a string.
 EXTERNAL ROUTINES:
  $$ADDFRQCV^ORMBLDP1,$$IV^PSSDSAPA

ORCHECK ISMONO - ISMONO^ORCHECK
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$PATCH^XPDUTL

ORCHECK GETMONO - GETMONO^ORCHECK
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

ORCHECK GETMONOL - GETMONOL^ORCHECK
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORCHECK DELMONO - DELMONO^ORCHECK
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORCHECK GETXTRA - GETXTRA^ORCHECK
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

ORCNOTE GET TOTAL - GETTOT^ORCNOTE
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

ORWDXVB3 DIAGORD - DIAGORD^ORWDXVB3
 Get sequence order of Diagnostic Tests for selection.
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  GETLST^XPAR

ORWDXVB3 COLLTIM - COLLTIM^ORWDXVB3
 This RPC checks the value of the parameter OR VBECS REMOVE COLL TIME
 to determine if a default collection time should be presented on the
 VBECS order dialog.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

ORWDXVB3 SWPANEL - SWPANEL^ORWDXVB3
 This RPC checks the value of the parameter OR VBECS DIAGNOSTIC PANEL 1ST
 to determine the location of the Diagnostic and Component panels on the
 VBECS order dialog.
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GET^XPAR

YTQ ADMIN DELETE - DELADMIN^YTQAPI5
 Users who have the MHS Manager menu can delete a specified MH 
 Administration and its MH Answers and MH Results.
  
 Please use caution as deletions cannot be restored. Only ADPACs should use
 this feature and in consultation with medical records policy.
  
  
 Input: YS("AD") as internal entry number of MH ADMINISTRATIONS (#601.84) 
 file.
 Output: Data vs ERROR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  ^DIK,$$LKOPT^XPDMENU,$$ACCESS^XQCHK

YTQ SET ANSWER ALL - SAVEALL^YTQAPI17
 Saves all answers for an administration.
  
 Input: YS("AD") as internal entry number of MH ADMINISTRATIONS (#601.84) 
 file.
 Output: Data vs ERROR
 PARAMETERS
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  $$NEW^YTQLIB

XUS KAAJEE GET USER VIA PROXY - USERINFO^XUSKAAJ1
 Returns a variety of information needed for KAAJEE logon based on the 
 ccow token
 PARAMETERS
  CLIENT-IP
   TYPE:LITERAL
   IP address of the client workstation used for logging (signon log) and IP 
  SERVER-NM
   TYPE:LITERAL
   Identifying name for the calling application or server used for logging 
  CCOWTOK
   TYPE:LITERAL
   Value of ccow token passed.
 RETURN VALUE
  TYPE: ARRAY
  output is the same as the RPC named XUS FATKAAT GET USER INFO.
 EXTERNAL ROUTINES:
  $$CHECKAV^XUS,USERINFO^XUSKAAJ,$$DECRYP^XUSRB1

XUS KAAJEE GET CCOW TOKEN - CCOWIP^XUSKAAJ1
 This RPC gets a token to save in the CCOW context to aid in sign-on
 PARAMETERS
  IP-ADDRESS
   TYPE:LITERAL
   This value represents the IP address of the workstation.  Useful for J2EE
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  CCOW^XUSRB4

DSIR GET STATUS CODES - STCODES^DSIROI6
 PARAMETERS
  ACTVONLY
   TYPE:LITERAL
   ACTVONLY = 1 for only active statuses, 0 for all statuses.
 RETURN VALUE
  TYPE: ARRAY
 EXTERNAL ROUTINES:
  

DSIR GET PATIENT DISC HIST - DISHISTR^DSIROIR
 This routine returns the data nescessary for the patient disclosure 
 history report.
  
   Required fields for this report:
  
   From 19620      FIELD   From 19620.1    FIELD
   ---------------------   ---------------------
   RequestIEN        .01   DocumentCaption   .05
   DateReceived    10.06   DocumentDate      .07
   Requestor         .11
   Reason          10.02
   RequestorType   10.04
   Status          10.08
   Comment           .31
 PARAMETERS
  PAT
   TYPE:LITERAL
   PAT = fully qualified patient pointer 
  FRDT
   TYPE:LITERAL
   FRDT is the starting date which will be reported on. 
  TODT
   TYPE:LITERAL
   TODT is the ending date which will be reported on.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIR GET AOD - ACCOFDIS^DSIROIR2
 This routine returns the data nescessary for the patient disclosure
 history report.
  
   Required fields for this report:
  
   From 19620      FIELD   From 19620.1    FIELD
   ---------------------   ---------------------
   Requestor Address .81   DocumentCaption   .05
   Patient Address   .82   DocumentDate      .07
   Current Status  10.05
   Date Received   10.06
   Date Closed     10.07
   Clerk Assigned    .03
   Comment           .31
 PARAMETERS
  AODIEN
   TYPE:LITERAL
   AODIEN = The request IEN for which you want an Accounting of Disclosure.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Return Array
 EXTERNAL ROUTINES:
  

DSIR GET CLERK REQUESTS - GETTODAY^DSIROI
 This RPC returns all open/pending requests for a given clerk.  This is 
 used to populate the today screen.
 PARAMETERS
  CLERK
   TYPE:LITERAL
   The IEN for file 2 which points at the desired ROI clerk.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
   ; Return: Global Array of:
 EXTERNAL ROUTINES:
  

DSIR DELIVERY TYPE SUMMARY RPT - DELIVRY^DSIROIR2
 This RPC returns an array for the Delivery Type Summary Report. The 
 optional date parameters work off of the date closed only.
 PARAMETERS
  SDATE
   TYPE:LITERAL
   SDATE - Optional - Report start date in Fileman format.
  EDATE
   TYPE:LITERAL
   EDATE - Optional - Report end date in Fileman format.
  DIVL
   TYPE:LITERAL
   DIVL  - Optional - List of selected divisions - NULL means all divisions.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  RETURN ARRAY 
 EXTERNAL ROUTINES:
  

MAG3 DICOM CAPTURE GE LIST - GGELIST^MAGNDCMC
 Return all records in IMAGING DICOM FIELDS file (#2005.71)
 per SOP type  (e.g "TELEDERM")
 PARAMETERS
  MAGSOP
   TYPE:LITERAL
   SOP type (e.g "TELEDERM")
 RETURN VALUE
  TYPE: ARRAY
  if error found during execution
 EXTERNAL ROUTINES:
  $$FIND1^DIC,LIST^DIC

MAG3 DICOM CAPTURE SOP CLASS - GSOPCLAS^MAGNDCMC
 Returns SOP CLASS UID per SOP type  (e.g. "TELEDERM")
 PARAMETERS
  MAGSOP
   TYPE:LITERAL
   MAGSOP = SOP type (e.g. "TELEDERM")
 RETURN VALUE
  TYPE: SINGLE VALUE
  If error found during execution
 EXTERNAL ROUTINES:
  $$FIND1^DIC

MAG3 TELEREADER CONSULT LIST - CONSLIST^MAGNGMR
 Return not completed consults for a patient
 where TO SERVICE is setup in TELEREADER ACQUISITION SERVICE file (#2006.5841)
 PARAMETERS
  DFN
   TYPE:LITERAL
   Patient ID
 RETURN VALUE
  TYPE: ARRAY
  Returns an array where the zeroeth element will be either:
 EXTERNAL ROUTINES:
  GETS^DIQ,OER^GMRCSLM1,$$FINDLIST^MAGDTR01

MAG3 TELEREADER DICOM SER NUM - GETSRNUM^MAGNGMR
 Generates DICOM Series Number
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
  if error found during execution
 EXTERNAL ROUTINES:
  $$HTFM^XLFDT

MAG3 TELEREADER DICOM UID - GETUID^MAGNGMR
 Returns a new TELEREADER DICOM Study, Series or SOP Instance UID
 PARAMETERS
  MAGPARAM
   TYPE:LIST
   MAGPARAM - array with input values
 RETURN VALUE
  TYPE: SINGLE VALUE
   if error found during execution
 EXTERNAL ROUTINES:
  $$GSTUID^MAGNGMR,NEWUID^MAGNUID1,$$ISDUP^MAGNUID2,$$NS^XUAF4,$$KSP^XUPARAM

MAG3 TELEREADER READ/UNRD ADD - FILE^MAGNGMR
 Add a consult and image pointers to
 Unread/Read List file (#2006.5849)
 and DICOM GMRC TEMP LIST file (#2006.5839)
 PARAMETERS
  MAGDA
   TYPE:LITERAL
   An image IEN in IMAGE file (#2005) - 
  MAGCNT
   TYPE:LITERAL
   Count of new images captured
  MAGRIEN
   TYPE:LITERAL
   a request/consult IEN in REQUEST/CONSULTATION file (#123)
 RETURN VALUE
  TYPE: SINGLE VALUE
  if error MAGRY = The first "^" piece is zero if error occurs. The second piece
 is an error message
 EXTERNAL ROUTINES:
  MSG^DIALOG,UPDATE^DIE,ADD^MAGDTR03,$$GRPIEN^MAGGI12,LINKDT^MAGGTU6

MAG3 TR THIN CLIENT ALLOWED - TCALLOW^MAGNTLR3
 Check for thin client settings by User (DUZ)
 PARAMETERS
 RETURN VALUE
  TYPE: SINGLE VALUE
   if error MAGRY = first "^" piece is zero if error occurs
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$GET^XPAR

DVBAB GET SET - GETSET^DVBABDDU
 This remote procedure retrieves the SET OF CODES for a given file and 
 field for use in populating controls.
 PARAMETERS
  DVBFIL
   TYPE:LITERAL
   This paramater contains a valid file number.
  DVBFLD
   TYPE:LITERAL
   This parameter contains a field in the file passed as DVBFIL.
 RETURN VALUE
  TYPE: ARRAY
  The results will be returned as an array of strings, each containing the 
 EXTERNAL ROUTINES:
  FIELD^DID

DSIV XPAR GET ALL FOR ENT - GETALL^DSIVXPR
 Returns values for all instances and values for an entity/parameter.
 PARAMETERS
  DATA
   TYPE:LITERAL
    DATA = "ARR(1)~ARR(2)~ARR(3)~ARR(4)~ARR(5)~ARR(6)"
 RETURN VALUE
  TYPE: ARRAY
  Returns array of parameter values based on the ARR(6) value:
 EXTERNAL ROUTINES:
  

MAG FIELD VALIDATE - DVAL^MAGQBUT4
 This provides an interface with the VA Fileman Database Server (DBS)
 API for the single field validator: VAL^DIE.
 PARAMETERS
  FILE
   TYPE:LITERAL
   This is the file number that contains the attribute to be validated.
  IENS
   TYPE:LITERAL
   This is the record number or place holder of the entry being validated.
  FIELD
   TYPE:LITERAL
   This is the number of the file attribute to be validated.
  FLAGS
   TYPE:LITERAL
   This is the option set of parameters defined for the VAL
  VALUE
   TYPE:LITERAL
   This is the value to be validated.
 RETURN VALUE
  TYPE: SINGLE VALUE
  It returns the resolved external value or -1 followed by the carat 
 EXTERNAL ROUTINES:
  VAL^DIE

MAG KEY VALIDATE - KVAL^MAGQBUT4
 This is a an interface to the Database Server (DBS) utility:
 Key Validator
  
 The Key Validator extrinsic function verifies that new values contained 
 in the FDA do not produce an invalid key. All keys in which any field in 
 the FDA participates are checked. If the value for a field in a key being 
 checked is not present in the FDA, the value used to verify the key is 
 obtained from the previously filed data.
 PARAMETERS
  FLAGS
   TYPE:LITERAL
   (Optional) Flags to control processing. The possible values are:
  FDA
   TYPE:LIST
   The root of the FDA that contains the data to be checked. The array can 
 RETURN VALUE
  TYPE: SINGLE VALUE
  This Boolean function returns a 1 if key integrity is not violated by any 
 EXTERNAL ROUTINES:
  $$KEYVAL^DIE

MAGQ ADD RAID GROUP - ADDRG^MAGQBUT5
 This is used to create the next RAID group for the Network Location
 file (#2005.2).  It will generate a group name that includes 
 the sites namespace and the next logical sequence number.
 PARAMETERS
  NUMBER
   TYPE:LITERAL
   This value determines the number of RAID groups to be added to the sites
  PLACE
   TYPE:LITERAL
   This is the place value, an entry in the IMAGING SITE PARAMETER (#2006.1)
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  UPDATE^DIE,$$PLACE^MAGBAPI

MAGQ ALL SERVER - ALLSERV^MAGQBUT1
 Returns a list of all online file servers at a site.
 This network location file list requires the following from each
 candidate:
 ONLINE
 type: MAG
 path does not contain: ":"
 NON-ROUTER 
 PARAMETERS
  null
   TYPE:
   No input parameter required.
  GROUP
   TYPE:LITERAL
   This value should be either "GROUP" or "ALL" to differentiate
 RETURN VALUE
  TYPE: ARRAY
  (0)="-1^No additional servers to process" or
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$CWG^MAGBAPI,$$CWL^MAGBAPI,$$PLACE^MAGBAPI

MAGQ BP UAT - UAT^MAGQBUT5
 This procedure validates the BP Server task assignments and rebuilds the 
 content of the dummy BP Server, "Unassigned Tasks" with the tasks that 
 are not currently assigned to a BP server.
 PARAMETERS
  PLACE
   TYPE:LITERAL
   This is the reference to the Site Parameter file to which the BP Servers 
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  FILE^DIE,UPDATE^DIE,^DIK,$$GET1^DIQ

MAGQ DEL NLOC - RLOCA^MAGQBU6A
 This is used to remove Network Location entries
 and requires the user to have the MAG SYS key.
 PARAMETERS
  Network location file entry
   TYPE:LITERAL
   This is the Network Location file entry number.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The value of 0 means the entry could not be deleted.  The value of 1 means the
 entry was deleted.
 EXTERNAL ROUTINES:
  

MAGQ DFNIQ - DFNIQ^MAGQBPG1
 This provides a method of sending a Patient DFN VistA
  mail message from client methods.
 PARAMETERS
  DATA
   TYPE:LITERAL
   This is the message content that is sent if the Send Flag is set.
  PLACE
   TYPE:LITERAL
   This is the internal entry number of the site parameter file 
  SEND
   TYPE:LITERAL
   If this is the last line of the message and if this value is set to
  APPLICATION
   TYPE:LITERAL
   This value is set to the application that has created this message.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  $$GETMI^MAGQBUT5,ADDMG^MAGQBUT5,UDMI^MAGQBUT5,$$FMADD^XLFDT,$$FMTE^XLFDT,$$NOW
^XLFDT,$$SUBCHK^XMGAPI0,SENDMSG^XMXAPI,$$KSP^XUPARAM,$$PROD^XUPROD

MAGQ FINDC - FINDC^MAGQBUT5
 By placing carat delimited values in the find value parameter
 the subscriber can perform a compound index lookup on an 
 extended primary key.
 PARAMETERS
  FNUM
   TYPE:LITERAL
   The file number of the content table.
  IENS
   TYPE:LITERAL
   The IENS of the main level or subfile level of the content table.
  FLAGS
   TYPE:LITERAL
   The FIND1
  FNDVALUE
   TYPE:LITERAL
   The carat delimited lookup.  Each piece is the same as 
  XREF
   TYPE:LITERAL
   The subscriber specified cross reference for the lookup.
  SCREEN
   TYPE:LITERAL
   The subscriber specified DIC("S") logic for the lookup.
 RETURN VALUE
  TYPE: SINGLE VALUE
  The Internal entry number of the lookup value.
 EXTERNAL ROUTINES:
  $$FIND1^DIC

MAGQ FS CHNGE - CHGSERV^MAGQBUT
 Finds the available network file server with the most space, 
 changes the current write space pointer and returns the IEN.
 The candidate list requires the following criteria:
 ONLINE
 type: MAG
 path does not contain: ":"
 NON-ROUTER
 PARAMETERS
  null
   TYPE:
   No input parameter required.
  NOTIFY
   TYPE:LITERAL
   A message will be sent to the G.MAG_SERVER mail group if this value is set 
  BP OS
   TYPE:LITERAL
   This is the Microsoft Windows operating system name and version.
  BPWS
   TYPE:LITERAL
   This is the Background Processor network computer name.
 RETURN VALUE
  TYPE: SINGLE VALUE
  In the first caret piece the following is returned:
 EXTERNAL ROUTINES:
  $$GET1^DIQ,$$CWL^MAGBAPI,$$PLACE^MAGBAPI,DFNIQ^MAGQBPG1,$$UPPER^MAGQE4,$$DT^XL
FDT

MAGQ FTYPE - FTYPE^MAGQBUT5
 This RPC returns an array of file types which the background processor
 will use to move files from magnetic to jukebox and back for this
 Vista installation.
 PARAMETERS
  NULL
   TYPE:
   No input parameter required.
 RETURN VALUE
  TYPE: ARRAY
  RESULT(0)="TXT"
 EXTERNAL ROUTINES:
  $$PLACE^MAGBAPI

MAGQ JBQUE - JBQUE^MAGQBUT2
 This RPC generates a JUKEBOX queue.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the internal entry of either the Image file (#2005) or the Image 
 RETURN VALUE
  TYPE: SINGLE VALUE
  This is the internal entry number of the IMAGE BACKGROUND QUEUE file 
 EXTERNAL ROUTINES:
  $$JUKEBOX^MAGBAPI,$$PLACE^MAGBAPI

MAGQ JBSCN - CNP2^MAGQBPG1
 This function returns the next image file entry to be evaluated by the
 BP Verifier function.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This value is the initial $Order value applied to the Image file.
  START
   TYPE:LIST
   This is the starting IEN for the BP Verifier session.
  STOP
   TYPE:LITERAL
   This is the ending IEN for the BP Verifier session.
  AUTO
   TYPE:LITERAL
   When set this will allow the BP Verifier session to terminate automatically.
 RETURN VALUE
  TYPE: SINGLE VALUE
  A string containing each of the network and Jukebox internal entry
 EXTERNAL ROUTINES:
  FILE^DIE,$$CWL^MAGBAPI,$$PLACE^MAGBAPI,$$IMOFFLN^MAGFILEB,SCAN^MAGQBPG1,$$CHKI
MG^MAGQBUT2

MAGQ QCNT - QCNT^MAGQBUT4
 This call resets the Queue pointer settings in the Imaging Queue Pointer file, 
#2006.031.
 PARAMETERS
  place
   TYPE:LITERAL
   This field represents the internal entry number of the site parameter file, #
2006.1.
  QUEUE
   TYPE:LITERAL
   This is the queue entry to be updated by this method.
 RETURN VALUE
  TYPE: SINGLE VALUE
 EXTERNAL ROUTINES:
  

MAGQ QRNGE - QRNGE^MAGQBUT5
 This procedure is to either delete or re-queue a range of Vista Imaging
 Background Processor queues.  The process parameter determines the action.
 PARAMETERS
  QUEUE
   TYPE:LITERAL
   This determines the queue type that will be processed.
  PROCESS
   TYPE:LITERAL
   This determines whether the queue will be requeued or deleted.  A
  START
   TYPE:LITERAL
   This value will determine the start of the range of Queue file 
  STOP
   TYPE:LITERAL
   This will determine the last Queue file entry that will be processed.
  PLACE
   TYPE:LITERAL
   This value designates the Imaging site parameter entry
 RETURN VALUE
  TYPE: SINGLE VALUE
  This value is the number of Queue entries that are ready to be processed.
 EXTERNAL ROUTINES:
  ADD^MAGBAPI,REQUE^MAGQBTM,DQUE^MAGQBUT2

MAGQB QUEDEL - DQUE1^MAGQBUT2
 This procedure call deletes a single IMAGE BACKGROUND QUEUE file 
 (#2006.03) entry.
 PARAMETERS
  IEN
   TYPE:LITERAL
   This is the queue file internal entry number to be deleted.
 RETURN VALUE
  TYPE: SINGLE VALUE
  No return parameter has been defined for this procedure call.
 EXTERNAL ROUTINES:
  QRNGE^MAGQBUT5

MAGQBP ALL SHARES - ALLSHR^MAGQBUT1
 The output of this RPC is a list of all online magnetic shares
 (non-routing).  This list establishes a set of roots for the purge process
 to downwardly traverse and evaluate the age and VistA attributes of each
 image file for the purpose of purging archaic and archived files.
 PARAMETERS
  TYPE
   TYPE:LITERAL
   This value is used to determine if there is a screen intended for 
 RETURN VALUE
  TYPE: ARRAY
  result(0)=network path1
 EXTERNAL ROUTINES:
  $$CWL^MAGBAPI,$$PLACE^MAGBAPI,$$GRP^MAGQBUT,$$NXTGP^MAGQBUT,$$UPPER^MAGQE4

MAGQBP FREF - FILEREF^MAGQBPRG
 VALIDATES THAT THE FILEPATH IS CONSISTENT WITH VISTA MAGFILE REFERENCE
 SET THE SECOND PIECE TO "PACS" IF IT REPRESENTS DICOM
 VALIDATES THAT A JUKEBOX POINTER EXISTS
 RESULT VALUES
 PARAMETERS
  FILEPATH
   TYPE:LITERAL
   The computer name and directory path of the file.
  FILENAME
   TYPE:LITERAL
   The filename.
  FILE EXTENSION
   TYPE:LITERAL
   The file extension.
  NETWORK LOCATION
   TYPE:LITERAL
   Current share network path being evaluated.
 RETURN VALUE
  TYPE: SINGLE VALUE
  PIECE  1:-3 = FOREIGN FILE, DO NOT PURGE
 EXTERNAL ROUTINES:
  $$JBPTR^MAGBAPI,$$JUKEBOX^MAGBAPI,$$PLACE^MAGBAPI,$$INIS^MAGQBPG2,$$UPPER^MAGQ
E4

MD CLIO - RPC^MDCLIO
 This is the primary RPC called by the CliO engine for normal command 
 processing.
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

MDCP RESULTS BY STATUS - GTMSGIDS^MDCPHL7B
 This broker call will return a list of IENS from the CP RESULT REPORT 
 file based on the STATUS passed in as a parameter.
 PARAMETERS
  MDCPSTAT
   TYPE:LITERAL
   This is the EXTERNAL representation of the status to be used to generate 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  Returns an array of IENs.
 EXTERNAL ROUTINES:
  

MDCP MESSAGE BY IEN - GETMSG^MDCPHL7B
 This RPC returns an HL7 message based on its IEN.
 PARAMETERS
  MDCPMSG
   TYPE:LITERAL
   This is the ien of the message in file 772.
 RETURN VALUE
  TYPE: GLOBAL ARRAY
  This returns the value of the message.  Note that, at least for the 
 EXTERNAL ROUTINES:
  $$SITE^VASITE

MDCP CORRECTIONS BY IEN - GETCORR^MDCPHL7B
 Gets a list of corrections for a given HL7 message.
 PARAMETERS
  MDCPMSG
   TYPE:LITERAL
   The IEN of the message in file 703.1 (the CP REPORT RESULTS file).
 RETURN VALUE
  TYPE: ARRAY
  Returns a global array in the format:
 EXTERNAL ROUTINES:
  

MDCP UPDATE MESSAGE STATUS - UPDATERP^MDCPHL7B
 This call will update the status of an entry in file 704.002
 (the CLIO_HL7_LOG file).  Note that if the status passed through is 
 'PROCESSED', the CP INSTRUMENT file entry pointed to by field .03 will be 
 checked to see if it has a routine in its .11 field.  If it does, the HL7 
 message will be copied to a temp global and the PROCESSING ROUTINE will 
 be invoked.
 PARAMETERS
  MDCPMSG
   TYPE:LITERAL
   The IFN of the message in the CP RESULT REPORT file.
  MDCPSTAT
   TYPE:LITERAL
   The status to which to change the file entry referenced by the first 
  MDCPDFN
   TYPE:LITERAL
   This is the IFN of the patient in file 2, if available.
  MDCPISCR
   TYPE:LITERAL
   If MDCPDFN is set, this tells the linetag that MDCPDFN is a correction, 
 RETURN VALUE
  TYPE: ARRAY
  Returns a local variable containing the results of the status update in 
 EXTERNAL ROUTINES:
  NOW^%DTC,FILE^DIE,$$EXTERNAL^DILFD,$$TOPURG^HLUTIL,EN^MDCPSIGN

MDCP UPDATE MESSAGE REASON - UPDRSN^MDCPHL7B
 This RPC call will add word processing text to the CLIO_HL7_LOG file to 
 explain the reason for the current status.  It is primarily intended to 
 be used to store error text from CliO.
 PARAMETERS
  MDCPMSG
   TYPE:LITERAL
   This is the IFN of the HL7 message in the CLIO_HL7_LOG file.
  MDCPTEXT
   TYPE:LITERAL
   This is the text to add to the CLIO_HL7_LOG file.  Note that this text 
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  NOW^%DTC,UPDATE^DIE

XT ECLIPSE M EDITOR - RPC^XTECLIPS
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  LIST^XTECGLO,LNODE^XTECGLO,DIR^XTECROU,INFO^XTECROU,LOAD^XTECROU,SAVE^XTECROU,
$$PROD^XUPROD

XTDEBUG DO LINE - DOLINE^XTDEBUG
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DOLINE^XTDEBUG1,DOLINE1^XTDEBUG1

XTDEBUG NEXT - NEXT^XTDEBUG
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  REASON^XTDEBUG,NEXTFOR^XTDEBUG2,DEBUG^XTMLOG,INFO^XTMLOG

XTDEBUG START - START^XTDEBUG
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  $$LGR^%ZOSV,DEBUG^XTMLOG

XTDEBUG SYMBOL TABLE - GETVALS^XTDEBUG
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  GETVALS^XTDEBUG3

XTDEBUG ADD BREAKPOINT - SETBREAK^XTDEBUG
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  SETBREAK^XTDEBUG5

XTDEBUG ADD WATCH - SETWATCH^XTDEBUG
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  SETWATCH^XTDEBUG5

XTDEBUG DELETE BREAK - CLRBREAK^XTDEBUG5
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XTDEBUG DELETE WATCH - CLRWATCH^XTDEBUG5
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XTDEBUG READ INPUT - READDATA^XTDEBUG
 PARAMETERS
  XTDEBVAL
   TYPE:LITERAL
  TIMEDOUT
   TYPE:LITERAL
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  DEBUG^XTMLOG

XTMUNIT-TEST LOAD - GUILOAD^XTMUNIT
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XTMUNIT-TEST NEXT - GUINEXT^XTMUNIT
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

XTMUNIT-TEST GROUP LOAD - GUISET^XTMUNIT
 PARAMETERS
 RETURN VALUE
  TYPE: GLOBAL ARRAY
 EXTERNAL ROUTINES:
  

